{"failedCount":5,"prefixedPath":"classpath:examples\/users\/TestUserNoAdminCannotDo.feature","packageQualifiedName":"examples.users.TestUserNoAdminCannotDo","loopIndex":-1,"relativePath":"examples\/users\/TestUserNoAdminCannotDo.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1455300,"millis":1.4553,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"10:17:53.210 karate.env system property was: prod \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":30453600,"millis":30.4536,"status":"passed"},"step":{"comments":["# Get the idToken for one of the user created by the admin"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUserNoAdmin.json')"}},{"result":{"nanos":766717400,"millis":766.7174,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the user's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 10:18:02 a.Â m.","durationMillis":748.659,"callArg":{"password":"Password_2","clientId":"799hogucm363v55l7dk2n1l5u0","username":"user30@test.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":2218900,"millis":2.2189,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":4545400,"millis":4.5454,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"10:17:53.286 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"user30@test.com\",\n  \"password\": \"Password_2\"\n}\n \n"},{"result":{"nanos":5179000,"millis":5.179,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":483900,"millis":0.4839,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":734697900,"millis":734.6979,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"10:17:53.474 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 94\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Password_2\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"user30@test.com\"}\n\n10:17:54.026 response time in milliseconds: 542\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 3995\n1 < Connection: keep-alive\n1 < Date: Tue, 18 May 2021 08:17:54 GMT\n1 < x-amzn-RequestId: d3169c27-e226-49ab-b220-873a42023d13\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fg-37FwiDoEFWvg=\n1 < X-Amzn-Trace-Id: Root=1-60a37832-7910140e43f656fb3246c42c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b89214703c5c60a107a07c982809a482.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: WCHwe6NOoe0l8n8qflKiZQKxpMcs9hHhfYL0WJMkqrm4dzIM3RW7SQ==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjIzOTMzMTM2LWRlMTMtNDA5Mi05ZjlhLWUyNWNmOWYxMDIxMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODc0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDc0LCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4NzQsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.gpKAfnX0UmavJrFwvjHpEWnXafqM1IrJEItUR2hSWZGx0qJrhWFvp6LGIv-7zZh0WE66FItMCla4rTpCxdfVojyRrx-YDuFltD8f_2o0Efr_iNKrGfj5OMEwozV3xQHdKAgSpWT-i2dtr-85glMdUq7x8_SneDGZ_D1jcIornWDwdsOeE8idvV0lJ5QG2USqC5uhOcoXh71F-emIu7VRTtu0cTsKqsgy4FhnWuyFkXOJ03hIt7VY2cnCjjzRp7mXH8-FusmreO6xdBjp2mmhh6K4PQOshkYwJXFGs8Vak5AAjgx8oOMlmjkjC_6tzLvvqn6qCnUsJ7BM79VRpdmipg\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6IjIzOTMzMTM2LWRlMTMtNDA5Mi05ZjlhLWUyNWNmOWYxMDIxMCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4NzQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ3NCwiaWF0IjoxNjIxMzI1ODc0LCJqdGkiOiIzZjY5NTVjOS1lYjcxLTQyN2YtYjIzNC0xYmNkMTUyZThhNDMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.BCPCJ33aZcSu8QPTkxF3IwRrZW90XhywMIh_8XB377G9WhDntGO1_9hOsFKxgAhpvBz0mnbtRbtOCyIp_7KexTMFmQXjakx5q-btYkKAaR98hzyY2fAVux3CbaKWh1u5BKWhGbnI5tysTtYx-oMd3vVav_MILFba9vuHVLYwUg_Ni9FSqanc96NsJvqjDYI3G5B72vyeKIOiu76sA-F4o16Sm6jAxgm_BvO_GrRZeztHeutCeGNoRbQoIwfPaKa75vZ9UoZNYVQJimn3MdRluy427MV6iLSc9OWEA_TPPZppj-iWxfuHt3B23qK_fZ9-yDTVWpO1ytq4S2RkozI-0g\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.LcOh3r44IWQXEyUWrbmumH0U7W92OiRWQVlUV1iAefgRTDeRKGhqB1vBuC30tgFm0DmnNeYcAdJimfNacpra2Qox6UA5cmV9gwQ6wsQpJI8Sg7Jzo9yrYN3FCoNeB6OTO44e_hhhlgIL92Ra6CDL4HdkLIVxJB_WZOJiajxrogppKgd3IiPoabELiOO_6BZhVqguWmZYGGA8nqbNMzmYRgvpX5KsnxvMS6z2bsoHHNKfySrcYyTm15QsLW8P6civfOv7MmI8kU_Nif7FShwoxXd7YYXUGAXrcnjDYVdjYYKo1ZhJIsMG2ZXLRCKJdnXqhQJA-1v6hA8XEqLaLQv6hg.OZ5_roO1CWESN2Le.7y1eD38TJbibwafLBAxQB1PAYeEnHmhiS_f-gLudFnoCXGhUUo1xMWXnDLS9vbnPct4j186PfLk6hswzMEb1CjMmzJPOuwEkccWsALbriB65lERX_ROVpO5R0zW3M_Y52oAiz7DZWBPj-tVmdEguMWFz7966dkyTz_5_CRJ7HbguXzbbuSeUeRMudTNfpVLRxvGAO2Gs5V9lCNYOe3Ys6BKTMotR-QHuqoaD7iPE3YbhoavEy3spzJrGMujVZ1SEyd-SSHlDly2x1x2L9o8LnxO-pU7SzzXxBSHkUS2OV85P2wG9_uu51l4w2uVRZv5hqHFE7uFxFgiiIGn2bba9n-BKbVSRlWR46F9tb7nJxDcNa-jLQYedhGxzdNnG_juqmMAZNj78TgqpRJ_FglLlNgEshu1j-_ZvKIvASnY06HKPNLMDfwKElWUUj0AsfrJah16UO2wLgF3_ozXyI5lywgogUjYv4XD3aNDQg5dvFQBl1ALNGGp8u5eIkN00XmNPVIbPHJAsnDIJ7SBUjpQvzzindWeHw8cUui5bEP7YS25_QS4AFupeiFGth1oQgrNreAfWuhQtHsj0VfplPXdXoj1usx0saXj5ZHwILMisg8I3hGOmA_299VSRu-6BdV-s4gRG-hgMofjby_XiG1L-WxtpWrqfG6rwFYDPsVVQfi9z73Y_R92PRcynbM5XvtU90RsE4Bn0CeTZa7OGaL3owg3WiyU63F41V1PP-rekpqUrozbplK9FQuXG-D_Fmn4tB3GJiDHjI-hX3kLGdFL1H29yRYeEtmozrLzswiC0u1_UKUAF-SHZDkpXjWE53oOzz_xGJ6vqoR43mbbd7jCtOPnwdRRdQBsV0FkuLaJJH8VJ1cE3nuf2OzX6EFV0rw0w08iJzj_QU61qnQjjMH3CR_241wz4DsZJTs0dbkNVn-jlVFKRRQDXiKaBj8-xapy0BVSErHZp0H-GgX2KuUuwwCWAMj1ixfQ2Ah8lMUR6u3D-8M-YUMR1tdw-7ff21o9N-mEP8N5477zKWbpXc0v56bk6mqsIg2iDohQi9PxgYL-8hcaGAeQe-lQMUZKkKVKgDAl6tSux3WZxLQZ8r18fQp4Dc-7oIpOHyJNDu1zUjuQYnmv08U8o0ioukFKs5FDNv8ABmtis_Gn6IPXNNcEnpUtML2bwaGDcQHU_xjHJuEs7HtyH_l_5gWEIjUIN-VNyz8GH-u9qaWCBd1U1tPy1t3gsDhQ6OhcmD7cXiqBY1hlJxs4I98uIuHRG91xQYS65S9iSZywbcjfzhfukdV_2FUeAf9K8sTsS5gRejxpLCwQCiCLQeQKWof21LZYI1WU.p8mSfExa6wDOJXWfegvybg\"}\n"},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":726200,"millis":0.7262,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":741100,"millis":0.7411,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"10:17:54.029 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjIzOTMzMTM2LWRlMTMtNDA5Mi05ZjlhLWUyNWNmOWYxMDIxMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODc0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDc0LCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4NzQsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.gpKAfnX0UmavJrFwvjHpEWnXafqM1IrJEItUR2hSWZGx0qJrhWFvp6LGIv-7zZh0WE66FItMCla4rTpCxdfVojyRrx-YDuFltD8f_2o0Efr_iNKrGfj5OMEwozV3xQHdKAgSpWT-i2dtr-85glMdUq7x8_SneDGZ_D1jcIornWDwdsOeE8idvV0lJ5QG2USqC5uhOcoXh71F-emIu7VRTtu0cTsKqsgy4FhnWuyFkXOJ03hIt7VY2cnCjjzRp7mXH8-FusmreO6xdBjp2mmhh6K4PQOshkYwJXFGs8Vak5AAjgx8oOMlmjkjC_6tzLvvqn6qCnUsJ7BM79VRpdmipg \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":748.659,"startTime":1621325873280,"failed":false,"refId":"[1:6]","endTime":1621325874029,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1710000,"millis":1.71,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"10:17:54.033 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjIzOTMzMTM2LWRlMTMtNDA5Mi05ZjlhLWUyNWNmOWYxMDIxMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODc0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDc0LCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4NzQsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.gpKAfnX0UmavJrFwvjHpEWnXafqM1IrJEItUR2hSWZGx0qJrhWFvp6LGIv-7zZh0WE66FItMCla4rTpCxdfVojyRrx-YDuFltD8f_2o0Efr_iNKrGfj5OMEwozV3xQHdKAgSpWT-i2dtr-85glMdUq7x8_SneDGZ_D1jcIornWDwdsOeE8idvV0lJ5QG2USqC5uhOcoXh71F-emIu7VRTtu0cTsKqsgy4FhnWuyFkXOJ03hIt7VY2cnCjjzRp7mXH8-FusmreO6xdBjp2mmhh6K4PQOshkYwJXFGs8Vak5AAjgx8oOMlmjkjC_6tzLvvqn6qCnUsJ7BM79VRpdmipg\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6IjIzOTMzMTM2LWRlMTMtNDA5Mi05ZjlhLWUyNWNmOWYxMDIxMCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4NzQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ3NCwiaWF0IjoxNjIxMzI1ODc0LCJqdGkiOiIzZjY5NTVjOS1lYjcxLTQyN2YtYjIzNC0xYmNkMTUyZThhNDMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.BCPCJ33aZcSu8QPTkxF3IwRrZW90XhywMIh_8XB377G9WhDntGO1_9hOsFKxgAhpvBz0mnbtRbtOCyIp_7KexTMFmQXjakx5q-btYkKAaR98hzyY2fAVux3CbaKWh1u5BKWhGbnI5tysTtYx-oMd3vVav_MILFba9vuHVLYwUg_Ni9FSqanc96NsJvqjDYI3G5B72vyeKIOiu76sA-F4o16Sm6jAxgm_BvO_GrRZeztHeutCeGNoRbQoIwfPaKa75vZ9UoZNYVQJimn3MdRluy427MV6iLSc9OWEA_TPPZppj-iWxfuHt3B23qK_fZ9-yDTVWpO1ytq4S2RkozI-0g\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.LcOh3r44IWQXEyUWrbmumH0U7W92OiRWQVlUV1iAefgRTDeRKGhqB1vBuC30tgFm0DmnNeYcAdJimfNacpra2Qox6UA5cmV9gwQ6wsQpJI8Sg7Jzo9yrYN3FCoNeB6OTO44e_hhhlgIL92Ra6CDL4HdkLIVxJB_WZOJiajxrogppKgd3IiPoabELiOO_6BZhVqguWmZYGGA8nqbNMzmYRgvpX5KsnxvMS6z2bsoHHNKfySrcYyTm15QsLW8P6civfOv7MmI8kU_Nif7FShwoxXd7YYXUGAXrcnjDYVdjYYKo1ZhJIsMG2ZXLRCKJdnXqhQJA-1v6hA8XEqLaLQv6hg.OZ5_roO1CWESN2Le.7y1eD38TJbibwafLBAxQB1PAYeEnHmhiS_f-gLudFnoCXGhUUo1xMWXnDLS9vbnPct4j186PfLk6hswzMEb1CjMmzJPOuwEkccWsALbriB65lERX_ROVpO5R0zW3M_Y52oAiz7DZWBPj-tVmdEguMWFz7966dkyTz_5_CRJ7HbguXzbbuSeUeRMudTNfpVLRxvGAO2Gs5V9lCNYOe3Ys6BKTMotR-QHuqoaD7iPE3YbhoavEy3spzJrGMujVZ1SEyd-SSHlDly2x1x2L9o8LnxO-pU7SzzXxBSHkUS2OV85P2wG9_uu51l4w2uVRZv5hqHFE7uFxFgiiIGn2bba9n-BKbVSRlWR46F9tb7nJxDcNa-jLQYedhGxzdNnG_juqmMAZNj78TgqpRJ_FglLlNgEshu1j-_ZvKIvASnY06HKPNLMDfwKElWUUj0AsfrJah16UO2wLgF3_ozXyI5lywgogUjYv4XD3aNDQg5dvFQBl1ALNGGp8u5eIkN00XmNPVIbPHJAsnDIJ7SBUjpQvzzindWeHw8cUui5bEP7YS25_QS4AFupeiFGth1oQgrNreAfWuhQtHsj0VfplPXdXoj1usx0saXj5ZHwILMisg8I3hGOmA_299VSRu-6BdV-s4gRG-hgMofjby_XiG1L-WxtpWrqfG6rwFYDPsVVQfi9z73Y_R92PRcynbM5XvtU90RsE4Bn0CeTZa7OGaL3owg3WiyU63F41V1PP-rekpqUrozbplK9FQuXG-D_Fmn4tB3GJiDHjI-hX3kLGdFL1H29yRYeEtmozrLzswiC0u1_UKUAF-SHZDkpXjWE53oOzz_xGJ6vqoR43mbbd7jCtOPnwdRRdQBsV0FkuLaJJH8VJ1cE3nuf2OzX6EFV0rw0w08iJzj_QU61qnQjjMH3CR_241wz4DsZJTs0dbkNVn-jlVFKRRQDXiKaBj8-xapy0BVSErHZp0H-GgX2KuUuwwCWAMj1ixfQ2Ah8lMUR6u3D-8M-YUMR1tdw-7ff21o9N-mEP8N5477zKWbpXc0v56bk6mqsIg2iDohQi9PxgYL-8hcaGAeQe-lQMUZKkKVKgDAl6tSux3WZxLQZ8r18fQp4Dc-7oIpOHyJNDu1zUjuQYnmv08U8o0ioukFKs5FDNv8ABmtis_Gn6IPXNNcEnpUtML2bwaGDcQHU_xjHJuEs7HtyH_l_5gWEIjUIN-VNyz8GH-u9qaWCBd1U1tPy1t3gsDhQ6OhcmD7cXiqBY1hlJxs4I98uIuHRG91xQYS65S9iSZywbcjfzhfukdV_2FUeAf9K8sTsS5gRejxpLCwQCiCLQeQKWof21LZYI1WU.p8mSfExa6wDOJXWfegvybg\"\n}\n \n"},{"result":{"nanos":846000,"millis":0.846,"status":"passed"},"step":{"endLine":24,"comments":["# Get the query from a .feature field"],"line":21,"prefix":"*","docString":"read('UserReadModels.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":360600,"millis":0.3606,"status":"passed"},"step":{"line":26,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":8136800,"millis":8.1368,"status":"passed"},"step":{"line":27,"prefix":"And","index":2,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":367800,"millis":0.3678,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":405000,"millis":0.405,"status":"passed"},"step":{"line":29,"prefix":"And","index":4,"text":"request { query: '#(query)' }"}},{"result":{"nanos":201403600,"millis":201.4036,"status":"passed"},"step":{"line":30,"prefix":"When","index":5,"text":"method post"},"stepLog":"10:17:54.044 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjIzOTMzMTM2LWRlMTMtNDA5Mi05ZjlhLWUyNWNmOWYxMDIxMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODc0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDc0LCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4NzQsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.gpKAfnX0UmavJrFwvjHpEWnXafqM1IrJEItUR2hSWZGx0qJrhWFvp6LGIv-7zZh0WE66FItMCla4rTpCxdfVojyRrx-YDuFltD8f_2o0Efr_iNKrGfj5OMEwozV3xQHdKAgSpWT-i2dtr-85glMdUq7x8_SneDGZ_D1jcIornWDwdsOeE8idvV0lJ5QG2USqC5uhOcoXh71F-emIu7VRTtu0cTsKqsgy4FhnWuyFkXOJ03hIt7VY2cnCjjzRp7mXH8-FusmreO6xdBjp2mmhh6K4PQOshkYwJXFGs8Vak5AAjgx8oOMlmjkjC_6tzLvvqn6qCnUsJ7BM79VRpdmipg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 102\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query UserReadModels {\\r\\n    UserReadModels {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n10:17:54.243 response time in milliseconds: 198\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 107\n1 < Connection: keep-alive\n1 < Date: Tue, 18 May 2021 08:17:55 GMT\n1 < x-amzn-RequestId: e42747de-24d6-42a1-a0d5-75ed9121b75a\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fg-3_ESQjoEFwLQ=\n1 < X-Amzn-Trace-Id: Root=1-60a37833-67ffca263e3ed6ef26971392;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 83f9969abb9f43b17789799503ae532d.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: ZT8ux21ZuwZHnGKjEny7At78lPBvI4jBWT2he0hYtbzXvkIv2HG7sQ==\n{\"data\":{\"UserReadModels\":[{\"role\":\"User\",\"id\":\"user31@test.com\"},{\"role\":\"User\",\"id\":\"user30@test.com\"}]}}\n"},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":31,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4994000,"millis":4.994,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":34,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":9185600,"errorMessage":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:36","millis":9.1856,"status":"failed"},"step":{"comments":["# As the user is not admin, the response contains a field \"error\" and it is printed"],"line":36,"prefix":"*","index":8,"text":"match response.errors != '#notpresent'"},"stepLog":"10:17:54.260 classpath:examples\/users\/TestUserNoAdminCannotDo.feature:36\n* match response.errors != '#notpresent'\nmatch failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:36\n"}],"line":18,"description":"","durationMillis":1026.0873,"failed":true,"error":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:36","executorName":"main","name":"List all the users. Only an admin user can, so the test shouldn't retrun datas","startTime":1621325873097,"refId":"[1:18]","endTime":1621325874260,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":220400,"millis":0.2204,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"10:17:54.270 karate.env system property was: prod \n"},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":936900,"millis":0.9369,"status":"passed"},"step":{"comments":["# Get the idToken for one of the user created by the admin"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUserNoAdmin.json')"}},{"result":{"nanos":324428500,"millis":324.4285,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the user's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 10:18:02 a.Â m.","durationMillis":317.6949,"callArg":{"password":"Password_2","clientId":"799hogucm363v55l7dk2n1l5u0","username":"user30@test.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":973500,"millis":0.9735,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":727500,"millis":0.7275,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"10:17:54.279 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"user30@test.com\",\n  \"password\": \"Password_2\"\n}\n \n"},{"result":{"nanos":439400,"millis":0.4394,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":314482300,"millis":314.4823,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"10:17:54.280 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 94\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Password_2\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"user30@test.com\"}\n\n10:17:54.591 response time in milliseconds: 309\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 3995\n1 < Connection: keep-alive\n1 < Date: Tue, 18 May 2021 08:17:55 GMT\n1 < x-amzn-RequestId: 9fccb2c3-9bfa-4d31-afaa-2a579c01d7e0\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fg-4BGaTjoEF27Q=\n1 < X-Amzn-Trace-Id: Root=1-60a37833-6888deb4712f3cb86ae44732\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 09e594de40cb3eb83a4bc581fa48d9e2.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: wNYZEGkCwyBZhpqwsiS_48DHmolgobBN-H4iAr9pktMlEQlg2uejeg==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjE4ZjU3MTE5LWE0MzItNGFjMi04Y2IwLTg2MzAyNWI0ZDFlMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODc1LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDc1LCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4NzUsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.mdnL22pnkenyrS3MZLq23KP6LpBTm_kayiCwO9PCJu3imJDwfrWHtmygQ1Wo9vcxVORNwqCMZqqtJUC3UrQzdJVx2vohpbYo9WGt1_3bRP4k0td4DVovSI02BYyUXtBcQnxPYh3-0F9hriWOzdbbzTthPvzZQIW6Ak6kzu7grtaDO1eaz6dqfJvWPt4t8eU5Cy9sXoQTn7H313ciON5kFhGfsXmw2wVd5EtRM4q0bUafbsf5IvaHhKmvx2k9bFtZzAuijAab9G45Hdw17JyMAGq-1fO1PoujxqYLW3uUKgshlJNjP-bMiLXhEi1NrZhxadxD1ov_6Go3NwMz6AclUg\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6IjE4ZjU3MTE5LWE0MzItNGFjMi04Y2IwLTg2MzAyNWI0ZDFlMCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4NzUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ3NSwiaWF0IjoxNjIxMzI1ODc1LCJqdGkiOiI3ZWIyY2YwMC1hZjg1LTQ3ZWQtOGNkYy0xNDk5OTFjNTMzMTciLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.nKzKV6h_ArhUrT-eCbbculHertqjK_xTReUBBFz6t1Iqk1cg7HXU_PqopFK2mdxsch5kTMT3PGyCuYEqDvJmnFsb6ylz5_eWyGqN8IShGZit6WmT0ow3DXZcF0X7GmYvGemmGlj-0FgTzhF4xTMfmFTHZZQLuuiX0rfhttvhGktoQ_R4_eF4i_mLQFfAme0R9EmVKydEZXxgnl3kDRR2n-EK8SL0BXguYgL7SfptSxAcgHo_lY84w3kJSJI-R6baJOTtXvUSwJUZ_-0hoaeMgJ6bTohw5iTFUV_YHxrWbLNibSBk4Udu7yt8lxUOs481qfj5G3WgFqrjdIBKT5-PFw\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.d9TlKirP7addnKSxmFcw5tHtveWAhtW4EDIY7HrFFgdg1bmE4YUEHxtpKMV-p0nz6v8iJIjOeMUUs16HGHbGJ_HX2hPsqa2nDIEhs4gnnuHsaaqewhjWL8fL9CrW5w1EUAony8iBGD96EB17aaeNe5ME29duCA6SZq_yDl-rePKjhPcpReg5Pa__pcXm6rk9NG2RSWl-IhSi0T81oeVlo-KdL_VBJZf06WS5Aqe_03SKcpsOpCBWPwi_lRSE2MRqEG7F7W-ptY7K5F6NyPsE2TX2ATiHSCUH2Zdkl27XHaPbEGBBBYDNCtdYlaIOaxnfggGrnLstB_R_j2AyFQ_ksA.FhW-InI3U6wujReg.ZFxZm9e5a_Lc6uRpddYiEWxCIaFIdJq6l6BlYG4NxIVz2k14xL1Jhu5zL_QaJBZfJthLH8vhteUETCG7JQR-PPK8XW3DC6F5jAPVoiDXGiPetyXiemm4pNnVGksLHV78A5rob-kyrM774ziNGPEyAv5QHszFJYoagpWEGjtgl58XMXnFkVbsJkVnUa7lUOs78Sw3LryLu6icUAm7Id44g1nPXZhG7BY1zfzovRvLGiKzo-3rePcrFDk-rwo3sWnL5kkDzrsYL-x7KuKLZThzZRdJDavKIydDl3sPMp1T14BsvvGg_TaYlJBgpUZ45zxftRQ0e6VZToK8U8f_N4GSrbAYhSefX8L6SaMXn1spsaeLnGpLPFWAy2-KJDxnIROfK0SsoC05J4GrzxrXJ595sbmK_OP6-YZuhIrL_OcoVt2eG0ZqOoZHAdM5-2c1bX_lBftTRxSvrm_ocnKeZ1e6HJwg3tvhTphenj3I1mocKjhMdmdf1yG0YDLjxffkxU83rdJkxDilxe1W8tBRQkxUPilBz-3jcWOAtxhqq1jI2SqF2TeIo3hbXMS5UVCKv4GvQu5BsojNN6xI-mmjvBprF30peSTaZXelpbjX9KKqnfV8-NA67H9VkUvF-06KQ-TxdVWAhITcDbpqUEuRmJc0SG9l1HpQftUodloW5CQcvcHgx4kvvG40DnU8hZAniyBXzZ7fpjrkegtjTMu8sQgS14brNKsuk7YYR9_K4VLVYldLCI85xwDruUoMOfOj30wFSyarKGerDH6rSX4txhOvgcmwgnbhFRsSkhuU4Rj3Hjr4OCzQy3TJPn2dnuUh40Vs-tftBkjQ6dZ_g3gZm6n9qwokQSCK88a4-2YVOf4gP42JgW4LGQnhA80UBJcp4tQ9NImX3YAWGoYIRE81butTyHa_cNw9LzRasLJrBLQYpFBuAlT9yTqyT9YBpskhs2LkyUGYp-2JFdtwBwwGGbWFDWU9v77Ig0nc2p0adrQlsuGqPiytkCj91ucMS-9Nr_Li3LHVwO1ik9jcS4FslmEOQLmmQK5kCjgw63c5pxtR-ioFw4w6pQysttb5xYaqW5yrq5icCzn_mY9xfW-2WHLFnTT3Ru1kyWD5EQgUEAGb1PKGepmb86uWh84e4hTksO9BT_vInGJeFKfjgBqRdBpqc_NIZxUTC_8XtHCHLXdeq-o5_qSGWYTofLLEteBEOY2U1hdngQH3_D5wkcxG5S1qHhxoBAlUfm4IVtMI1SJX1x_ffAHXuVf5v4FPrhUp0pfNJ8VSCo8EQv4otxzSKb_HVP9CmIjkZPpRt0l91pa5jQkp0RObJrG1x-OAqhdq4E8.rndFUfdMMQ-S9e67qo100Q\"}\n"},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":604100,"millis":0.6041,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":370000,"millis":0.37,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"10:17:54.594 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjE4ZjU3MTE5LWE0MzItNGFjMi04Y2IwLTg2MzAyNWI0ZDFlMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODc1LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDc1LCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4NzUsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.mdnL22pnkenyrS3MZLq23KP6LpBTm_kayiCwO9PCJu3imJDwfrWHtmygQ1Wo9vcxVORNwqCMZqqtJUC3UrQzdJVx2vohpbYo9WGt1_3bRP4k0td4DVovSI02BYyUXtBcQnxPYh3-0F9hriWOzdbbzTthPvzZQIW6Ak6kzu7grtaDO1eaz6dqfJvWPt4t8eU5Cy9sXoQTn7H313ciON5kFhGfsXmw2wVd5EtRM4q0bUafbsf5IvaHhKmvx2k9bFtZzAuijAab9G45Hdw17JyMAGq-1fO1PoujxqYLW3uUKgshlJNjP-bMiLXhEi1NrZhxadxD1ov_6Go3NwMz6AclUg \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":317.6949,"startTime":1621325874277,"failed":false,"refId":"[1:6]","endTime":1621325874594,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":3404100,"millis":3.4041,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"10:17:54.597 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjE4ZjU3MTE5LWE0MzItNGFjMi04Y2IwLTg2MzAyNWI0ZDFlMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODc1LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDc1LCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4NzUsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.mdnL22pnkenyrS3MZLq23KP6LpBTm_kayiCwO9PCJu3imJDwfrWHtmygQ1Wo9vcxVORNwqCMZqqtJUC3UrQzdJVx2vohpbYo9WGt1_3bRP4k0td4DVovSI02BYyUXtBcQnxPYh3-0F9hriWOzdbbzTthPvzZQIW6Ak6kzu7grtaDO1eaz6dqfJvWPt4t8eU5Cy9sXoQTn7H313ciON5kFhGfsXmw2wVd5EtRM4q0bUafbsf5IvaHhKmvx2k9bFtZzAuijAab9G45Hdw17JyMAGq-1fO1PoujxqYLW3uUKgshlJNjP-bMiLXhEi1NrZhxadxD1ov_6Go3NwMz6AclUg\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6IjE4ZjU3MTE5LWE0MzItNGFjMi04Y2IwLTg2MzAyNWI0ZDFlMCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4NzUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ3NSwiaWF0IjoxNjIxMzI1ODc1LCJqdGkiOiI3ZWIyY2YwMC1hZjg1LTQ3ZWQtOGNkYy0xNDk5OTFjNTMzMTciLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.nKzKV6h_ArhUrT-eCbbculHertqjK_xTReUBBFz6t1Iqk1cg7HXU_PqopFK2mdxsch5kTMT3PGyCuYEqDvJmnFsb6ylz5_eWyGqN8IShGZit6WmT0ow3DXZcF0X7GmYvGemmGlj-0FgTzhF4xTMfmFTHZZQLuuiX0rfhttvhGktoQ_R4_eF4i_mLQFfAme0R9EmVKydEZXxgnl3kDRR2n-EK8SL0BXguYgL7SfptSxAcgHo_lY84w3kJSJI-R6baJOTtXvUSwJUZ_-0hoaeMgJ6bTohw5iTFUV_YHxrWbLNibSBk4Udu7yt8lxUOs481qfj5G3WgFqrjdIBKT5-PFw\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.d9TlKirP7addnKSxmFcw5tHtveWAhtW4EDIY7HrFFgdg1bmE4YUEHxtpKMV-p0nz6v8iJIjOeMUUs16HGHbGJ_HX2hPsqa2nDIEhs4gnnuHsaaqewhjWL8fL9CrW5w1EUAony8iBGD96EB17aaeNe5ME29duCA6SZq_yDl-rePKjhPcpReg5Pa__pcXm6rk9NG2RSWl-IhSi0T81oeVlo-KdL_VBJZf06WS5Aqe_03SKcpsOpCBWPwi_lRSE2MRqEG7F7W-ptY7K5F6NyPsE2TX2ATiHSCUH2Zdkl27XHaPbEGBBBYDNCtdYlaIOaxnfggGrnLstB_R_j2AyFQ_ksA.FhW-InI3U6wujReg.ZFxZm9e5a_Lc6uRpddYiEWxCIaFIdJq6l6BlYG4NxIVz2k14xL1Jhu5zL_QaJBZfJthLH8vhteUETCG7JQR-PPK8XW3DC6F5jAPVoiDXGiPetyXiemm4pNnVGksLHV78A5rob-kyrM774ziNGPEyAv5QHszFJYoagpWEGjtgl58XMXnFkVbsJkVnUa7lUOs78Sw3LryLu6icUAm7Id44g1nPXZhG7BY1zfzovRvLGiKzo-3rePcrFDk-rwo3sWnL5kkDzrsYL-x7KuKLZThzZRdJDavKIydDl3sPMp1T14BsvvGg_TaYlJBgpUZ45zxftRQ0e6VZToK8U8f_N4GSrbAYhSefX8L6SaMXn1spsaeLnGpLPFWAy2-KJDxnIROfK0SsoC05J4GrzxrXJ595sbmK_OP6-YZuhIrL_OcoVt2eG0ZqOoZHAdM5-2c1bX_lBftTRxSvrm_ocnKeZ1e6HJwg3tvhTphenj3I1mocKjhMdmdf1yG0YDLjxffkxU83rdJkxDilxe1W8tBRQkxUPilBz-3jcWOAtxhqq1jI2SqF2TeIo3hbXMS5UVCKv4GvQu5BsojNN6xI-mmjvBprF30peSTaZXelpbjX9KKqnfV8-NA67H9VkUvF-06KQ-TxdVWAhITcDbpqUEuRmJc0SG9l1HpQftUodloW5CQcvcHgx4kvvG40DnU8hZAniyBXzZ7fpjrkegtjTMu8sQgS14brNKsuk7YYR9_K4VLVYldLCI85xwDruUoMOfOj30wFSyarKGerDH6rSX4txhOvgcmwgnbhFRsSkhuU4Rj3Hjr4OCzQy3TJPn2dnuUh40Vs-tftBkjQ6dZ_g3gZm6n9qwokQSCK88a4-2YVOf4gP42JgW4LGQnhA80UBJcp4tQ9NImX3YAWGoYIRE81butTyHa_cNw9LzRasLJrBLQYpFBuAlT9yTqyT9YBpskhs2LkyUGYp-2JFdtwBwwGGbWFDWU9v77Ig0nc2p0adrQlsuGqPiytkCj91ucMS-9Nr_Li3LHVwO1ik9jcS4FslmEOQLmmQK5kCjgw63c5pxtR-ioFw4w6pQysttb5xYaqW5yrq5icCzn_mY9xfW-2WHLFnTT3Ru1kyWD5EQgUEAGb1PKGepmb86uWh84e4hTksO9BT_vInGJeFKfjgBqRdBpqc_NIZxUTC_8XtHCHLXdeq-o5_qSGWYTofLLEteBEOY2U1hdngQH3_D5wkcxG5S1qHhxoBAlUfm4IVtMI1SJX1x_ffAHXuVf5v4FPrhUp0pfNJ8VSCo8EQv4otxzSKb_HVP9CmIjkZPpRt0l91pa5jQkp0RObJrG1x-OAqhdq4E8.rndFUfdMMQ-S9e67qo100Q\"\n}\n \n"},{"result":{"nanos":4386400,"millis":4.3864,"status":"passed"},"step":{"endLine":43,"line":40,"prefix":"*","docString":"read('SaveUser.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":870100,"millis":0.8701,"status":"passed"},"step":{"comments":["# JSON file with the new user's datas"],"line":45,"prefix":"*","index":1,"text":"def user_datas = read('NewUser.json')"}},{"result":{"nanos":156400,"millis":0.1564,"status":"passed"},"step":{"line":47,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":322800,"millis":0.3228,"status":"passed"},"step":{"line":48,"prefix":"And","index":3,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":805500,"millis":0.8055,"status":"passed"},"step":{"line":49,"prefix":"And","index":4,"text":"request { query: '#(query)',  variables: '#(user_datas)'}"}},{"result":{"nanos":2450081800,"millis":2450.0818,"status":"passed"},"step":{"line":50,"prefix":"When","index":5,"text":"method post"},"stepLog":"10:17:54.608 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjE4ZjU3MTE5LWE0MzItNGFjMi04Y2IwLTg2MzAyNWI0ZDFlMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODc1LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDc1LCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4NzUsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.mdnL22pnkenyrS3MZLq23KP6LpBTm_kayiCwO9PCJu3imJDwfrWHtmygQ1Wo9vcxVORNwqCMZqqtJUC3UrQzdJVx2vohpbYo9WGt1_3bRP4k0td4DVovSI02BYyUXtBcQnxPYh3-0F9hriWOzdbbzTthPvzZQIW6Ak6kzu7grtaDO1eaz6dqfJvWPt4t8eU5Cy9sXoQTn7H313ciON5kFhGfsXmw2wVd5EtRM4q0bUafbsf5IvaHhKmvx2k9bFtZzAuijAab9G45Hdw17JyMAGq-1fO1PoujxqYLW3uUKgshlJNjP-bMiLXhEi1NrZhxadxD1ov_6Go3NwMz6AclUg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 250\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_2\",\"role\":\"User\",\"username\":\"user3@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n10:17:57.055 response time in milliseconds: 2446\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 26\n1 < Connection: keep-alive\n1 < Date: Tue, 18 May 2021 08:17:57 GMT\n1 < x-amzn-RequestId: a36d1789-09ac-45a4-9eb6-0eb9696729b1\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fg-4FHtuDoEFxhA=\n1 < X-Amzn-Trace-Id: Root=1-60a37833-69f372a615ab85a64bd96547;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 02d3291a1ad341b65154c2216e21838b.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: qMpbiYSbmdGB7sCQh7JnlxlvFiLU_L3D6bq5EMkOvJ0p1y7ZxIrGjg==\n{\"data\":{\"SaveUser\":true}}\n"},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":51,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4021344200,"millis":4021.3442,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":53,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":371500,"millis":0.3715,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":56,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":602000,"errorMessage":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:58","millis":0.602,"status":"failed"},"step":{"comments":["# As the user is not admin, the response must contains a field \"error\""],"line":58,"prefix":"*","index":9,"text":"match response.errors != '#notpresent'"},"stepLog":"10:18:01.080 classpath:examples\/users\/TestUserNoAdminCannotDo.feature:58\n* match response.errors != '#notpresent'\nmatch failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:58\n"}],"line":39,"description":"","durationMillis":6807.9687,"failed":true,"error":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:58","executorName":"main","name":"The user not admin can't create a new user","startTime":1621325874269,"refId":"[2:39]","endTime":1621325881080,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":193200,"millis":0.1932,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"10:18:01.088 karate.env system property was: prod \n"},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":397100,"millis":0.3971,"status":"passed"},"step":{"comments":["# Get the idToken for one of the user created by the admin"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUserNoAdmin.json')"}},{"result":{"nanos":435547500,"millis":435.5475,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the user's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 10:18:02 a.Â m.","durationMillis":429.5962,"callArg":{"password":"Password_2","clientId":"799hogucm363v55l7dk2n1l5u0","username":"user30@test.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":330600,"millis":0.3306,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":472600,"millis":0.4726,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"10:18:01.095 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"user30@test.com\",\n  \"password\": \"Password_2\"\n}\n \n"},{"result":{"nanos":133900,"millis":0.1339,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":427865700,"millis":427.8657,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"10:18:01.097 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 94\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Password_2\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"user30@test.com\"}\n\n10:18:01.522 response time in milliseconds: 423\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 3995\n1 < Connection: keep-alive\n1 < Date: Tue, 18 May 2021 08:18:02 GMT\n1 < x-amzn-RequestId: 7cbc8f06-db86-48e9-81be-3fa94ef0d8a2\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fg-5GFICDoEFolQ=\n1 < X-Amzn-Trace-Id: Root=1-60a3783a-0e655d922157736f4b60ec79\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 32713ef80c317f26bc1691bc0aad3819.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: 7EVGOUm0JHp8vYy-xVXtyXw2fZsAonAoyxXwZaVmLr8MGfyp-3U9pw==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImIzMzlkMzQxLWMwYjMtNGU5OS1hMTQ0LWMwNzExNmJlMWJlZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgyLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODIsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.ydtVahcgChUu-SjcnjpuDUMHvmzvnah7J4R0WZo92Fzv9Xb7Cxiw9tCml5sbfsYEtJSsERVyKMg6xqSg79ZJIhnMBevnhf2M-DE_hqTVqBMrSMvxCC0XkrYMa8l2rI_0suwdFh7s7Um66F4JgUtQGDk1t380f3VMc-3HP6vvbC5yQSjGhsMcK3C6TY3k_3655VXVcfb2eEeXAVGEGPXL2EC5RBTdPQpOFuOK289Z99IcRXzxXO4bo6RqsdBeQFhkhD5zDzNgamM9blqbOGNG6m_v72HFWtUaIz2A5BZ0fKhcats0z3hs30Bm29_CXTpuZXLVLkj9G9NmL_PzscWRlw\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6ImIzMzlkMzQxLWMwYjMtNGU5OS1hMTQ0LWMwNzExNmJlMWJlZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4ODIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ4MiwiaWF0IjoxNjIxMzI1ODgyLCJqdGkiOiI3OTBlMDEyNi02NDdkLTQyNzQtYTNmMS1mOGJmNDQ3M2ZiZGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.W-DYfUOK9sB9spqVmm1Rptyh9Dj6u-WX3iO9Tvxs1Dxh2hmCQ9RM4d6l5syyYYBq8zuudQcuktmjeJ6zRfXEnKgk6YAeKzWwfFBwgEvbn7imGymUguMiXpf0zV6ZJv50dQWU9uPl8FxBLWSoorZ8xqGQFn4dnLJWsCKhTvwIT4G1JfQyJk1Vlr10nXpYokxonDQcjtPD_IjUkpjoyk4iFUd8Sy6yOGY1v_F8Jt8m91XE0D-qT9WUfaBcVt9YzhW-uidsWpI1XfEs2g39qqVatA-ckDeLIQycM04XNtCGI-JiBsUEvGxS1b19Kgeo3liH0m9PxXvvAP1IOM3FhvNtWQ\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.oz-jYnTQcA9Tk8aeavxbAtD88o5-0FA7Jl2SOj87giSVybKRnM3b9wauZMBoXK50ZqekvOxKWZgQpSUN-mNbxin-DWboThdVnZcQ7KF83pc5Cr-cK-9Yt9mFUAT5VkGrasxYyvIkNK85KBdvlhJR_kbRGZeyUUJfrw_D1xxLiidg_169rFXnFaRERHnX5mjmb4skMh-LDFRE87PqicMY4RJBTvYQtzCDijOSZIR1W4rnKCDNUc5bMSEV3pukL-i-5jb4iVfHIWQM9cuEng7Hf5CMGd-1i7vyjOT3pWpOHkcLDztDdjtJoi9X-EyFLqa3njiCKo7tYXpe94SEBC1Ovw.sFDcT80DoX3hXHiN.rffOkE9IbjoqsX_YL0srkaVW_wHEbBSO5XsWaKqzwW0T1gqUW9liyYcDeaMTMrN_hxVNvtZrpWjkwD2tuqIjYdnQuPIKIk0Jv8iE9yOV_1ITR9LgbWugx2X2pnJFa7qYR1zXVUJnbJXwl7t6H3vneeqW0dVcLKnMzcrsQJvKISv0hcRzksglRRWGgjlLK3nRcz0bizJYcUt6WSjdJ-IW-oqzPmRFbR1aQ7aDuK4zGADcmfZ69nAK7H0xPCZwctY8VY1OPKG_FEwe6NyyJ8N-OY4K-lsHgA_TBDDpYwXHCDKOwKxrk23ckelO5r8xWoJN_HhgJccfILNuSupKWuX2AyKkQen3Lv4aI67jjPv1sUvoHIhWy7kfSvrUVpmiYaSJ7Led-ByF3g3Q7cgRLL8tQ_fraWqnFJa-LiW9Jy7jb_xj9oP1hdv2Lxl_tKPfc_JKUJ5aik7qwCgQXOafRjdtXXzBPUYUWx_gfzZF_Ye0phSHqkXI5cUkRyTbkGuNd0sIOzsPqrw746E9dn0JZERzLUbv1s9C7iQDyYWlEz7pkCoyxhs0ill1-cGE0EBkPdlSVdgREKBi0DzynoBF-_kMVIFAyUF67WvSJrFlrZoD9YsY0CZq9ZfcGUAxQ8ZIwHMTh8KoCD4yZtBRolohCvx-m5oJDMtIQyAgIb7SWkAsXKxlw8clgqwvbvq9c90VCgyeN_v7JWd4wAr7QSwsAHISP23icxgOflaWXFWz6Ip5amGPzPObKnCfqWe64qFPHTeyZUUdBfccNS9z7CnHEIKXtH4CRsfQ4CCOcb21dzrf4Om-UQcWBWuGKO1VHrzuBmIYSaZLxM7BfZk995K_nbZ1lpwQfFQNGs-6UpPCmOVnYwKumTJXYSCv0ueDg2j8QotvHk1kbGXVJU5Wy0UaneXFXEJC5pDm0MUdA0AEpTeajpmAfHPbUX_l0kkZugnvj_-zARj0q8MKhxQaMZZxPZkJVuhPsKj2Z4gC5dvYmlK9IEU-tGVs3JnStsXdZnVdWPGl8u8Rm6bsp8NQ0zijpkwmTZBPlIiPUPEyNBx110iVoCg6Zcw1PHYUkZuFOungAA_YxWTVabhU0FW9-wt6b782H4qqwnVHc_7P_j-AcYqyuKoUr2fFGh9PllHdsfv1p9S-b76ajk5uVjzGBo-ECg5ZMJDNlgXE8BGIHd50wn7R5oeQasWrfEbt0A3IUVANbXXGaVjrYSBZxr1UTLDyUULFLbzSSG_459nUcc995vzratAAgsbsCRfhhCKFDQfJatYD_gD_ofzDcjRIxXNmzdjJkbFJxsLlrNjn9ASqT_SEsEr3mY3jbwq0S4dyrRBaEc4.Tw6L57Bm_KecpYgQUy3etA\"}\n"},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":350600,"millis":0.3506,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":349800,"millis":0.3498,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"10:18:01.525 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImIzMzlkMzQxLWMwYjMtNGU5OS1hMTQ0LWMwNzExNmJlMWJlZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgyLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODIsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.ydtVahcgChUu-SjcnjpuDUMHvmzvnah7J4R0WZo92Fzv9Xb7Cxiw9tCml5sbfsYEtJSsERVyKMg6xqSg79ZJIhnMBevnhf2M-DE_hqTVqBMrSMvxCC0XkrYMa8l2rI_0suwdFh7s7Um66F4JgUtQGDk1t380f3VMc-3HP6vvbC5yQSjGhsMcK3C6TY3k_3655VXVcfb2eEeXAVGEGPXL2EC5RBTdPQpOFuOK289Z99IcRXzxXO4bo6RqsdBeQFhkhD5zDzNgamM9blqbOGNG6m_v72HFWtUaIz2A5BZ0fKhcats0z3hs30Bm29_CXTpuZXLVLkj9G9NmL_PzscWRlw \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":429.5962,"startTime":1621325881094,"failed":false,"refId":"[1:6]","endTime":1621325881525,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1037400,"millis":1.0374,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"10:18:01.526 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImIzMzlkMzQxLWMwYjMtNGU5OS1hMTQ0LWMwNzExNmJlMWJlZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgyLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODIsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.ydtVahcgChUu-SjcnjpuDUMHvmzvnah7J4R0WZo92Fzv9Xb7Cxiw9tCml5sbfsYEtJSsERVyKMg6xqSg79ZJIhnMBevnhf2M-DE_hqTVqBMrSMvxCC0XkrYMa8l2rI_0suwdFh7s7Um66F4JgUtQGDk1t380f3VMc-3HP6vvbC5yQSjGhsMcK3C6TY3k_3655VXVcfb2eEeXAVGEGPXL2EC5RBTdPQpOFuOK289Z99IcRXzxXO4bo6RqsdBeQFhkhD5zDzNgamM9blqbOGNG6m_v72HFWtUaIz2A5BZ0fKhcats0z3hs30Bm29_CXTpuZXLVLkj9G9NmL_PzscWRlw\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6ImIzMzlkMzQxLWMwYjMtNGU5OS1hMTQ0LWMwNzExNmJlMWJlZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4ODIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ4MiwiaWF0IjoxNjIxMzI1ODgyLCJqdGkiOiI3OTBlMDEyNi02NDdkLTQyNzQtYTNmMS1mOGJmNDQ3M2ZiZGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.W-DYfUOK9sB9spqVmm1Rptyh9Dj6u-WX3iO9Tvxs1Dxh2hmCQ9RM4d6l5syyYYBq8zuudQcuktmjeJ6zRfXEnKgk6YAeKzWwfFBwgEvbn7imGymUguMiXpf0zV6ZJv50dQWU9uPl8FxBLWSoorZ8xqGQFn4dnLJWsCKhTvwIT4G1JfQyJk1Vlr10nXpYokxonDQcjtPD_IjUkpjoyk4iFUd8Sy6yOGY1v_F8Jt8m91XE0D-qT9WUfaBcVt9YzhW-uidsWpI1XfEs2g39qqVatA-ckDeLIQycM04XNtCGI-JiBsUEvGxS1b19Kgeo3liH0m9PxXvvAP1IOM3FhvNtWQ\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.oz-jYnTQcA9Tk8aeavxbAtD88o5-0FA7Jl2SOj87giSVybKRnM3b9wauZMBoXK50ZqekvOxKWZgQpSUN-mNbxin-DWboThdVnZcQ7KF83pc5Cr-cK-9Yt9mFUAT5VkGrasxYyvIkNK85KBdvlhJR_kbRGZeyUUJfrw_D1xxLiidg_169rFXnFaRERHnX5mjmb4skMh-LDFRE87PqicMY4RJBTvYQtzCDijOSZIR1W4rnKCDNUc5bMSEV3pukL-i-5jb4iVfHIWQM9cuEng7Hf5CMGd-1i7vyjOT3pWpOHkcLDztDdjtJoi9X-EyFLqa3njiCKo7tYXpe94SEBC1Ovw.sFDcT80DoX3hXHiN.rffOkE9IbjoqsX_YL0srkaVW_wHEbBSO5XsWaKqzwW0T1gqUW9liyYcDeaMTMrN_hxVNvtZrpWjkwD2tuqIjYdnQuPIKIk0Jv8iE9yOV_1ITR9LgbWugx2X2pnJFa7qYR1zXVUJnbJXwl7t6H3vneeqW0dVcLKnMzcrsQJvKISv0hcRzksglRRWGgjlLK3nRcz0bizJYcUt6WSjdJ-IW-oqzPmRFbR1aQ7aDuK4zGADcmfZ69nAK7H0xPCZwctY8VY1OPKG_FEwe6NyyJ8N-OY4K-lsHgA_TBDDpYwXHCDKOwKxrk23ckelO5r8xWoJN_HhgJccfILNuSupKWuX2AyKkQen3Lv4aI67jjPv1sUvoHIhWy7kfSvrUVpmiYaSJ7Led-ByF3g3Q7cgRLL8tQ_fraWqnFJa-LiW9Jy7jb_xj9oP1hdv2Lxl_tKPfc_JKUJ5aik7qwCgQXOafRjdtXXzBPUYUWx_gfzZF_Ye0phSHqkXI5cUkRyTbkGuNd0sIOzsPqrw746E9dn0JZERzLUbv1s9C7iQDyYWlEz7pkCoyxhs0ill1-cGE0EBkPdlSVdgREKBi0DzynoBF-_kMVIFAyUF67WvSJrFlrZoD9YsY0CZq9ZfcGUAxQ8ZIwHMTh8KoCD4yZtBRolohCvx-m5oJDMtIQyAgIb7SWkAsXKxlw8clgqwvbvq9c90VCgyeN_v7JWd4wAr7QSwsAHISP23icxgOflaWXFWz6Ip5amGPzPObKnCfqWe64qFPHTeyZUUdBfccNS9z7CnHEIKXtH4CRsfQ4CCOcb21dzrf4Om-UQcWBWuGKO1VHrzuBmIYSaZLxM7BfZk995K_nbZ1lpwQfFQNGs-6UpPCmOVnYwKumTJXYSCv0ueDg2j8QotvHk1kbGXVJU5Wy0UaneXFXEJC5pDm0MUdA0AEpTeajpmAfHPbUX_l0kkZugnvj_-zARj0q8MKhxQaMZZxPZkJVuhPsKj2Z4gC5dvYmlK9IEU-tGVs3JnStsXdZnVdWPGl8u8Rm6bsp8NQ0zijpkwmTZBPlIiPUPEyNBx110iVoCg6Zcw1PHYUkZuFOungAA_YxWTVabhU0FW9-wt6b782H4qqwnVHc_7P_j-AcYqyuKoUr2fFGh9PllHdsfv1p9S-b76ajk5uVjzGBo-ECg5ZMJDNlgXE8BGIHd50wn7R5oeQasWrfEbt0A3IUVANbXXGaVjrYSBZxr1UTLDyUULFLbzSSG_459nUcc995vzratAAgsbsCRfhhCKFDQfJatYD_gD_ofzDcjRIxXNmzdjJkbFJxsLlrNjn9ASqT_SEsEr3mY3jbwq0S4dyrRBaEc4.Tw6L57Bm_KecpYgQUy3etA\"\n}\n \n"},{"result":{"nanos":808500,"millis":0.8085,"status":"passed"},"step":{"endLine":67,"comments":["# Get the query from a .graphql file"],"line":64,"prefix":"*","docString":"read('UserReadModel.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":396500,"millis":0.3965,"status":"passed"},"step":{"comments":["# Define the username of the user to list"],"line":69,"prefix":"*","index":1,"text":"def newUser = read('NewUser.json')"}},{"result":{"nanos":848900,"millis":0.8489,"status":"passed"},"step":{"endLine":75,"line":70,"prefix":"*","docString":"{ \n   \"id\": \"#(newUser.username)\"\n}","index":2,"text":"def id ="}},{"result":{"nanos":835400,"millis":0.8354,"status":"passed"},"step":{"line":76,"prefix":"*","index":3,"text":"print id"},"stepLog":"10:18:01.529 [print] {\n  \"id\": \"user3@test.com\"\n}\n \n"},{"result":{"nanos":148300,"millis":0.1483,"status":"passed"},"step":{"line":78,"prefix":"Given","index":4,"text":"path 'graphql'"}},{"result":{"nanos":194800,"millis":0.1948,"status":"passed"},"step":{"line":80,"prefix":"And","index":5,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":81,"prefix":"And","index":6,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":408800,"millis":0.4088,"status":"passed"},"step":{"line":82,"prefix":"And","index":7,"text":"request { query: '#(query)', variables: '#(id)' }"}},{"result":{"nanos":159507700,"millis":159.5077,"status":"passed"},"step":{"line":83,"prefix":"When","index":8,"text":"method post"},"stepLog":"10:18:01.532 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImIzMzlkMzQxLWMwYjMtNGU5OS1hMTQ0LWMwNzExNmJlMWJlZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgyLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODIsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.ydtVahcgChUu-SjcnjpuDUMHvmzvnah7J4R0WZo92Fzv9Xb7Cxiw9tCml5sbfsYEtJSsERVyKMg6xqSg79ZJIhnMBevnhf2M-DE_hqTVqBMrSMvxCC0XkrYMa8l2rI_0suwdFh7s7Um66F4JgUtQGDk1t380f3VMc-3HP6vvbC5yQSjGhsMcK3C6TY3k_3655VXVcfb2eEeXAVGEGPXL2EC5RBTdPQpOFuOK289Z99IcRXzxXO4bo6RqsdBeQFhkhD5zDzNgamM9blqbOGNG6m_v72HFWtUaIz2A5BZ0fKhcats0z3hs30Bm29_CXTpuZXLVLkj9G9NmL_PzscWRlw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 155\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"user3@test.com\"},\"query\":\"query UserReadModel($id: ID!) {\\r\\n    UserReadModel(id: $id) {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n10:18:01.687 response time in milliseconds: 155\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 64\n1 < Connection: keep-alive\n1 < Date: Tue, 18 May 2021 08:18:02 GMT\n1 < x-amzn-RequestId: d30fe950-37eb-413c-9585-526e518ebbb1\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fg-5JFQsDoEFgQQ=\n1 < X-Amzn-Trace-Id: Root=1-60a3783a-5ecc2420648d6a1b36dd8ce4;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 911151077fc74374130cb3f3f2d671e8.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: IvAgWOuzneAsw3VFSdSW0Q-SN67x8xW6VOSamo51PBIoJoN-jbbDNQ==\n{\"data\":{\"UserReadModel\":{\"role\":\"User\",\"id\":\"user3@test.com\"}}}\n"},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":84,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":3049000,"errorMessage":"match failed: NOT_EQUALS\n  $ | is equal (MAP:MAP)\n  {\"role\":\"User\",\"id\":\"user3@test.com\"}\n  {\"role\":\"User\",\"id\":\"user3@test.com\"}\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:87","millis":3.049,"status":"failed"},"step":{"comments":["# As the user is not admin, the response of the query shouldn't contain the datas of the user tryed to saved"],"line":87,"prefix":"*","index":10,"text":"match response.data.UserReadModel != {id: '#(newUser.username)', role: '#(newUser.role)' }"},"stepLog":"10:18:01.693 classpath:examples\/users\/TestUserNoAdminCannotDo.feature:87\n* match response.data.UserReadModel != {id: '#(newUser.username)', role: '#(newUser.role)' }\nmatch failed: NOT_EQUALS\n  $ | is equal (MAP:MAP)\n  {\"role\":\"User\",\"id\":\"user3@test.com\"}\n  {\"role\":\"User\",\"id\":\"user3@test.com\"}\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:87\n"}],"line":61,"description":"","durationMillis":603.4454,"failed":true,"error":"match failed: NOT_EQUALS\n  $ | is equal (MAP:MAP)\n  {\"role\":\"User\",\"id\":\"user3@test.com\"}\n  {\"role\":\"User\",\"id\":\"user3@test.com\"}\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:87","executorName":"main","name":"The user can't list a user by id","startTime":1621325881088,"refId":"[3:61]","endTime":1621325881693,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":282300,"millis":0.2823,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"10:18:01.701 karate.env system property was: prod \n"},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":670200,"millis":0.6702,"status":"passed"},"step":{"comments":["# Get the idToken for one of the user created by the admin"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUserNoAdmin.json')"}},{"result":{"nanos":510912200,"millis":510.9122,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the user's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 10:18:02 a.Â m.","durationMillis":505.5152,"callArg":{"password":"Password_2","clientId":"799hogucm363v55l7dk2n1l5u0","username":"user30@test.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":290200,"millis":0.2902,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":414600,"millis":0.4146,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"10:18:01.707 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"user30@test.com\",\n  \"password\": \"Password_2\"\n}\n \n"},{"result":{"nanos":125300,"millis":0.1253,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":503161500,"millis":503.1615,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"10:18:01.708 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 94\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Password_2\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"user30@test.com\"}\n\n10:18:02.210 response time in milliseconds: 501\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 3995\n1 < Connection: keep-alive\n1 < Date: Tue, 18 May 2021 08:18:03 GMT\n1 < x-amzn-RequestId: 329ae6f8-e913-4afa-b537-7c2b29d9ab74\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fg-5MFPujoEFu_Q=\n1 < X-Amzn-Trace-Id: Root=1-60a3783a-1e5e953a75fc01d535623e15\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 ddbdcc33fa1a8a511d1bd00cf3e020d6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: 4MOkljOFA9lcaXeEJMvoeJyIn96qQ9hJ9mSlr5T0kM-7AcZ1Co0N5Q==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjRlOWM4MTgxLWU5OGQtNDAyOC1hOTM3LWUzMzliYzVkYTU4NiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgzLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODMsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.yZxbYAnBNREeUphh0oYhARp-kcLr6W0eyxxAaji9PEUAFUQZ0XNGCoubkOu-MCTpVBZZdF6yIrUAs0ejXV2xS9NBnCxgMiTfQZngpIENt2cSAAToVa6SRDY7iJyERFDRqAoLkWFttF6bow_JfnYW01zVXZbUSIQ62MIf-ZDMYVarI18Cz-quHpAF839eYsPQdLA4H5oGzqlbHhl4SHtnh9KCeJIYEBfaTbQ-VlrwrzDKf7B9nWHjOWlicTo-gdxIwB9BfQCaHLjjrWovxN_ST9EEmuBOp5Saq1vK2-wZ2F7geHB3wv9tA5WIThiVF4sJXRpwEIZaq-Knr8dFly0PJQ\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6IjRlOWM4MTgxLWU5OGQtNDAyOC1hOTM3LWUzMzliYzVkYTU4NiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4ODMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ4MywiaWF0IjoxNjIxMzI1ODgzLCJqdGkiOiI2MzQ3OGMxMC1jODdkLTQxOTEtYjRmOC1jZDIwMDNjOTM4ODEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.JfhAZxERRhSlbnbZMr7SxZ53Sixe7xNB1rFp72st2ximiOkFHMxteupcQPnaQZu6eImo5CGG83xZ1yJiozgxnXCiRSmy3B2q2BSnQxpvZLKM89QPVO4nIybPLn2KcLi0ScFZSgdd9Edsg3gdMFomHFdeYLj8hslDKuKBKw4YMfBMXCcHkPramUuh_0t0L7d-oO3yF6TsxQrj7DRqCgclB9rNVj2ydJJenAUhxITO7dKxffThiGtMQDwePAh-N48hG6AcLxC659kOUBxR6j26gwsXDvF5pzrIqpa2NrJpI6GbppL2xP-KbJipIhUHviTV0l6AA9w9Sq_Y9gOJeebvtA\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.X4o20VNLN9vMvoxm0cvUj7fG8OnDZCG3ozXu5RWpG9LZK-5y6kUKi2o9sS7YwWOdZm_8AILyxRpCvAi7deYJNYNvxWfrQxLNhkgES5aM8n2cOHgWNSVCXPFCCJlFordo4O9Axxq7pQ4aebqCwG2Cose_oHmCYUZQTFSKWDzIdZ41j0pQhuECJiBGu157e0fEAr3tMQmQ1S6gYZGpRoQggs3wR4z8FCXzqqHq4v0s5YhHGSeO90jXmos6O6hw422wCGG5-0GiOvw3ggvAgLNl1llZ6UjAgNhi9Ws3NUigjykvgYDCxQEYMhEdScqeHXO5tKwXizxTIHL4oDfA85m_Ow.dYCngBy9XrDUFb0v.8rFo8WqROV9JWkY7X-yAeI7gn1qD-3L5pzxU1TJlB_BzJa_2SrhJIIKYliv4PJJosqpitk9b-oSHd90RM2BP198RJruvw8sDYY_j_RYDKX7Uu3YQdS9dxyysH6lVt4mh7qDm8GRxuFM2Pf5B8IJ0NpeOlnJlZ3tEkNJlod0pldn2ahuMlZ68vyQHuNRzum6zhBFDIcb_JNl3w0pZZRM7nxliQ4KFZrStcFuEveai648yC1VLW1lKXFYMWwKFjC5_E8baFgcixci6_B54uQmVmc59CaMEkubPD4PVhbl9g9c9oW1c9e9siG8CNcdhIYppwPqZTqKkMliGRd5_hn6U68PKn10V-MH8oUFaHAeNolOWfG4dl024BZZSPcNgmn3tilnz88BxxtnIGhdXoy9YXCdFEdhwsJbTJ27PHJSBaelbzAv80MniiXS5ng4Q6oL-DyM3mlrPzMFPIhvEqK7ZZuh2DUR5_QynKTcLgVfL2xjH7tTti6pg-M9ltplYU5PIvOOBeZyY-lxZTIIzqyNPqkHMw4-4ynTJBJ5xY4dpiASHVk7zBHEWYm6LMCNbutISpny9ocg07GZ1OdZElQnk6C7qRgBzK0aUqpokCTLvnicfX1vOSUgr1CaG1Pm53s_qy3wmD_uQgtped_JTheb0Jq4FBazBmNarFrb3VOc-irjU0Pr8h1ZAh5oMBUGE6Kojo8hm2hE4TTLk9lM4TgKfjOHZs6ZFkQSNAykqjbS4Lz-REekSfLOUKVUCS_tSebH3hKjY5STP9aedoCfsMP9kBlKxlqLWKAyMtPBiBhWy3UIJcJCco0-EZqKf9OCTujEMxJEQFVZfVIXJrKhgjaJRka8bA6hT_eBdvZQgUuKtMCACN0b-gsJmyweORbwzWSXKaD6KSXq6L-EU2yh9Ks4iBPV_zKGMX-PaGKTTW-7p0fLoUb-J9zPiSNQWm3hzxct0uKvfTTRJUeVkBSS1tDqwcILmamkLQPDJ0hX8a8jhSzV6daXCVLBPrVs5wWBQHOIUO3Ga9aQsB0i4ZgSMeRQONwEcW8835j6TVg0nMccBIRVixw8gEXI3P3y5ui-Z45MmI-a1iev5KEyEQBBj-WwdSMLUNJ_Ygqm0De2yJ3nH6MC3VovQyOEsj5GP8DH72Dz-knhqPPbXOKFBHNmBxqLPbPeMglv0_Hpr2ZF-7b7jBgce_zsLkpjqOR0Zl0v7xi0D0OWDmFL1_NojerJ1IbSTTaixukKyIEoAwQWtib9mb-Qz_dCwAKflg6GHkOEXuc_MNflHQugXywL88W8IHuKXhQg8yWwMKobIPyE9mdjyF7xAV0E52zRzB8tZPe_ZhqY.SmGg2u-0OY1iJl7lYiq16w\"}\n"},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":699100,"millis":0.6991,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":737000,"millis":0.737,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"10:18:02.213 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjRlOWM4MTgxLWU5OGQtNDAyOC1hOTM3LWUzMzliYzVkYTU4NiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgzLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODMsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.yZxbYAnBNREeUphh0oYhARp-kcLr6W0eyxxAaji9PEUAFUQZ0XNGCoubkOu-MCTpVBZZdF6yIrUAs0ejXV2xS9NBnCxgMiTfQZngpIENt2cSAAToVa6SRDY7iJyERFDRqAoLkWFttF6bow_JfnYW01zVXZbUSIQ62MIf-ZDMYVarI18Cz-quHpAF839eYsPQdLA4H5oGzqlbHhl4SHtnh9KCeJIYEBfaTbQ-VlrwrzDKf7B9nWHjOWlicTo-gdxIwB9BfQCaHLjjrWovxN_ST9EEmuBOp5Saq1vK2-wZ2F7geHB3wv9tA5WIThiVF4sJXRpwEIZaq-Knr8dFly0PJQ \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":505.5152,"startTime":1621325881706,"failed":false,"refId":"[1:6]","endTime":1621325882213,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1135400,"millis":1.1354,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"10:18:02.215 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjRlOWM4MTgxLWU5OGQtNDAyOC1hOTM3LWUzMzliYzVkYTU4NiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgzLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODMsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.yZxbYAnBNREeUphh0oYhARp-kcLr6W0eyxxAaji9PEUAFUQZ0XNGCoubkOu-MCTpVBZZdF6yIrUAs0ejXV2xS9NBnCxgMiTfQZngpIENt2cSAAToVa6SRDY7iJyERFDRqAoLkWFttF6bow_JfnYW01zVXZbUSIQ62MIf-ZDMYVarI18Cz-quHpAF839eYsPQdLA4H5oGzqlbHhl4SHtnh9KCeJIYEBfaTbQ-VlrwrzDKf7B9nWHjOWlicTo-gdxIwB9BfQCaHLjjrWovxN_ST9EEmuBOp5Saq1vK2-wZ2F7geHB3wv9tA5WIThiVF4sJXRpwEIZaq-Knr8dFly0PJQ\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6IjRlOWM4MTgxLWU5OGQtNDAyOC1hOTM3LWUzMzliYzVkYTU4NiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4ODMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ4MywiaWF0IjoxNjIxMzI1ODgzLCJqdGkiOiI2MzQ3OGMxMC1jODdkLTQxOTEtYjRmOC1jZDIwMDNjOTM4ODEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.JfhAZxERRhSlbnbZMr7SxZ53Sixe7xNB1rFp72st2ximiOkFHMxteupcQPnaQZu6eImo5CGG83xZ1yJiozgxnXCiRSmy3B2q2BSnQxpvZLKM89QPVO4nIybPLn2KcLi0ScFZSgdd9Edsg3gdMFomHFdeYLj8hslDKuKBKw4YMfBMXCcHkPramUuh_0t0L7d-oO3yF6TsxQrj7DRqCgclB9rNVj2ydJJenAUhxITO7dKxffThiGtMQDwePAh-N48hG6AcLxC659kOUBxR6j26gwsXDvF5pzrIqpa2NrJpI6GbppL2xP-KbJipIhUHviTV0l6AA9w9Sq_Y9gOJeebvtA\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.X4o20VNLN9vMvoxm0cvUj7fG8OnDZCG3ozXu5RWpG9LZK-5y6kUKi2o9sS7YwWOdZm_8AILyxRpCvAi7deYJNYNvxWfrQxLNhkgES5aM8n2cOHgWNSVCXPFCCJlFordo4O9Axxq7pQ4aebqCwG2Cose_oHmCYUZQTFSKWDzIdZ41j0pQhuECJiBGu157e0fEAr3tMQmQ1S6gYZGpRoQggs3wR4z8FCXzqqHq4v0s5YhHGSeO90jXmos6O6hw422wCGG5-0GiOvw3ggvAgLNl1llZ6UjAgNhi9Ws3NUigjykvgYDCxQEYMhEdScqeHXO5tKwXizxTIHL4oDfA85m_Ow.dYCngBy9XrDUFb0v.8rFo8WqROV9JWkY7X-yAeI7gn1qD-3L5pzxU1TJlB_BzJa_2SrhJIIKYliv4PJJosqpitk9b-oSHd90RM2BP198RJruvw8sDYY_j_RYDKX7Uu3YQdS9dxyysH6lVt4mh7qDm8GRxuFM2Pf5B8IJ0NpeOlnJlZ3tEkNJlod0pldn2ahuMlZ68vyQHuNRzum6zhBFDIcb_JNl3w0pZZRM7nxliQ4KFZrStcFuEveai648yC1VLW1lKXFYMWwKFjC5_E8baFgcixci6_B54uQmVmc59CaMEkubPD4PVhbl9g9c9oW1c9e9siG8CNcdhIYppwPqZTqKkMliGRd5_hn6U68PKn10V-MH8oUFaHAeNolOWfG4dl024BZZSPcNgmn3tilnz88BxxtnIGhdXoy9YXCdFEdhwsJbTJ27PHJSBaelbzAv80MniiXS5ng4Q6oL-DyM3mlrPzMFPIhvEqK7ZZuh2DUR5_QynKTcLgVfL2xjH7tTti6pg-M9ltplYU5PIvOOBeZyY-lxZTIIzqyNPqkHMw4-4ynTJBJ5xY4dpiASHVk7zBHEWYm6LMCNbutISpny9ocg07GZ1OdZElQnk6C7qRgBzK0aUqpokCTLvnicfX1vOSUgr1CaG1Pm53s_qy3wmD_uQgtped_JTheb0Jq4FBazBmNarFrb3VOc-irjU0Pr8h1ZAh5oMBUGE6Kojo8hm2hE4TTLk9lM4TgKfjOHZs6ZFkQSNAykqjbS4Lz-REekSfLOUKVUCS_tSebH3hKjY5STP9aedoCfsMP9kBlKxlqLWKAyMtPBiBhWy3UIJcJCco0-EZqKf9OCTujEMxJEQFVZfVIXJrKhgjaJRka8bA6hT_eBdvZQgUuKtMCACN0b-gsJmyweORbwzWSXKaD6KSXq6L-EU2yh9Ks4iBPV_zKGMX-PaGKTTW-7p0fLoUb-J9zPiSNQWm3hzxct0uKvfTTRJUeVkBSS1tDqwcILmamkLQPDJ0hX8a8jhSzV6daXCVLBPrVs5wWBQHOIUO3Ga9aQsB0i4ZgSMeRQONwEcW8835j6TVg0nMccBIRVixw8gEXI3P3y5ui-Z45MmI-a1iev5KEyEQBBj-WwdSMLUNJ_Ygqm0De2yJ3nH6MC3VovQyOEsj5GP8DH72Dz-knhqPPbXOKFBHNmBxqLPbPeMglv0_Hpr2ZF-7b7jBgce_zsLkpjqOR0Zl0v7xi0D0OWDmFL1_NojerJ1IbSTTaixukKyIEoAwQWtib9mb-Qz_dCwAKflg6GHkOEXuc_MNflHQugXywL88W8IHuKXhQg8yWwMKobIPyE9mdjyF7xAV0E52zRzB8tZPe_ZhqY.SmGg2u-0OY1iJl7lYiq16w\"\n}\n \n"},{"result":{"nanos":1024000,"millis":1.024,"status":"passed"},"step":{"endLine":95,"line":92,"prefix":"*","docString":"read('ChangeUserRole.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":4450500,"errorMessage":">>>> js failed:\n01: read('UserRole.json')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\estre\\eclipse-workspace\\apigraphql\\target\\test-classes\\examples\\users\\UserRole.json (El sistema no puede encontrar el archivo especificado)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:103)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:53)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:118)\n- <js>.:program(Unnamed:1)\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:97","millis":4.4505,"status":"failed"},"step":{"comments":["# JSON file with the new user role"],"line":97,"prefix":"*","index":1,"text":"def user_datas_change = read('UserRole.json')"},"stepLog":"10:18:02.220 classpath:examples\/users\/TestUserNoAdminCannotDo.feature:97\n* def user_datas_change = read('UserRole.json')\n>>>> js failed:\n01: read('UserRole.json')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\estre\\eclipse-workspace\\apigraphql\\target\\test-classes\\examples\\users\\UserRole.json (El sistema no puede encontrar el archivo especificado)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:103)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:53)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:118)\n- <js>.:program(Unnamed:1)\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:97\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":99,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":100,"prefix":"And","index":3,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":101,"prefix":"And","index":4,"text":"request { query: '#(query)',  variables: '#(user_datas)'}"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":102,"prefix":"When","index":5,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":103,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":105,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":108,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# As the user is not admin, the response must contain a field \"error\""],"line":110,"prefix":"*","index":9,"text":"match response.errors != '#notpresent'"}}],"line":90,"description":"","durationMillis":518.4809,"failed":true,"error":">>>> js failed:\n01: read('UserRole.json')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\estre\\eclipse-workspace\\apigraphql\\target\\test-classes\\examples\\users\\UserRole.json (El sistema no puede encontrar el archivo especificado)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:103)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:53)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:118)\n- <js>.:program(Unnamed:1)\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:97","executorName":"main","name":"An user no admin can't change the role of other user","startTime":1621325881700,"refId":"[4:90]","endTime":1621325882221,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":226400,"millis":0.2264,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"10:18:02.225 karate.env system property was: prod \n"},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":486700,"millis":0.4867,"status":"passed"},"step":{"comments":["# Get the idToken for one of the user created by the admin"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUserNoAdmin.json')"}},{"result":{"nanos":313505700,"millis":313.5057,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the user's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 10:18:02 a.Â m.","durationMillis":307.3673,"callArg":{"password":"Password_2","clientId":"799hogucm363v55l7dk2n1l5u0","username":"user30@test.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":333800,"millis":0.3338,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":502600,"millis":0.5026,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"10:18:02.232 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"user30@test.com\",\n  \"password\": \"Password_2\"\n}\n \n"},{"result":{"nanos":180900,"millis":0.1809,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":305306700,"millis":305.3067,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"10:18:02.234 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 94\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Password_2\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"user30@test.com\"}\n\n10:18:02.537 response time in milliseconds: 302\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 3995\n1 < Connection: keep-alive\n1 < Date: Tue, 18 May 2021 08:18:03 GMT\n1 < x-amzn-RequestId: a809b9a6-7b80-41b0-8347-e6567da4bbec\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fg-5QHx-DoEFhXg=\n1 < X-Amzn-Trace-Id: Root=1-60a3783b-6e603dc614a341c25d00fd4d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 0250a97a9fe8f37b6e3c4270db2dc8af.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: Wrc0ssZvCSfZO2xD-KJ-FfiPyy8WgokXJ_ZzKnbVDnm9_FKS1TuP7A==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjM0MTRkMGE1LWQ2ZTYtNGUyOS1hZTU5LTM5M2E4MTk1YmFjMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgzLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODMsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.xJQ9GJO31KipSqUA8sgmSl0guaZq9qTKSm-MBzz0QVj5vNA4ZnArUvYEd3VQPP6eRyrf0p-YBtr959fB1YHZM0ml6JzTt57UB6bnp_4gX6GGk_44PPHM1aGkbb0xF1ZgzxGwc0cZkOZrL4mD3KexuO83wC-Eb5lD_je_GDP9lbfW97Z70XU2IL6ZJBlWLbTfEucVsV_riGPfJgSCOgqUbNSFZjmPZIuk26bsOBzoLQU3z709VOnBedmWFfs232-MkU-EsdZPQQqe7cO4woKrrNKgTKtuWl55XljJYOT2nSuKHQoq4FkIkz_tWhJtr3_a7oKGogk-Ew88JrzLIQbqgg\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6IjM0MTRkMGE1LWQ2ZTYtNGUyOS1hZTU5LTM5M2E4MTk1YmFjMCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4ODMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ4MywiaWF0IjoxNjIxMzI1ODgzLCJqdGkiOiI3N2Y3YjI5Ni1jMDI4LTQwMzEtOThjZi1kMzI3MTE1MDJmZDkiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.o6ZuLR766d6ZCHsLzs81zTzm9dqywByngv0vafmvGaJyUYATsosSkB5jcflrzIp92yoJJ7AOdZ_sBPfp-QxUqlMyWVhZ8n2LnKOe3LBh9Hji3dK3HwMm3OKfwsNfcrpNh5nSFaw4pPhHz6GU7wm3KuITFpfO2_eUr21Cv9w6Ho7FeG9qJAUzajhOVCpeGJ4_UQlSHpfoCYs66QiZqUsVWAf6eYj-CjOZP8Wk6WHKfEtjAkCxAlrdWu8kXxdmJ19sw77lr9z5YByPq8R3W_LpE1fFGi35T4RgHuz--YBtmMN7LA_gyqJ_hUsvycB8BiAG4kfcL63Rs_ju0lZOn7GHuQ\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.e2HFk57F1Sajwq_91-uy_R3Ny4oE_Iqj90xL4V5ggzR6R_O293nmvuYZ7uu5mIqTCVgkoGfGA-eHjzOmXv9v6DHzrAEDzNucyOAk1bH4Z6zhRg275Zx-G2OQ2fIyzyXQ2VQRExZKz9R5QQOKVWeDFr8CKHxZVXOBLO9uPLJy6-UGcUI12WkmRWUtpLvMdgKVPBECprNSVNW86hTtoU7o5ROyzsA6HhKlB-xhLwubbYxYdjO2ijxXWL2SIiMnritLoEQrBwnLJVfV5L0_sOqGcD0Wyt7moDI5G7erUMVd1ns7jjtgErg5l_tGU21O0VGNrMRMjUVyF4NL-N-BBl2Kvw.TRMVJhZlU_KsJSKY.DDl_7HkUF5n5KHi0PVlmUi2j9QVo1HQqdSpocj3BaTV2Yvwgszp63TXZ4tX65LeuXAXyOYHnDf5b0HDbgb17dhE1dCKmTJWberhrxf2Cgjwi22Tq3nZMiapV8hsBdOkaQsjOjmqUsFQPy4-9r4igE3SZpTV2qOC6tnyKhOi0PSutHsXeJ0U00OybYleRe3gUyn573XtqV78uAaMzA0OujIRnIaYpu-3TJLiCvN8bIv02oJFD863VK6hzs_SQEHfZBy5ZBoZ20ueTOy65phdGFPpY2DOh7BDOPTZlewYkxvA43t5LsKnjoV9v2EQKNF8DP92Zs_I52CHgfWP4yVLWzXvV8WfANNlzAaUP98Mei0ShVCrciojDhamKP_xtlo2XHteF8UV6-qgI6us6a7LQbR7R5ULlbMne6fhH_9RnR2G1XO7haA0Wqu7nYKh0DtDogx4G8vbI3M5sFyuJj1_QsOd4aZvLjhrW8mFmeI8mDdUofRbul-CFymUbYf4B2GflLisf2oWnL4xVkyE23n9UnAC8R793LQ0XR3J0Myq9jJAqLAsOv52jWO9AvENCmk55mfipuIoBcoR9f2xecbZQKbbtipZBbTt-rD5hWe0IyaWzaZyeDLeHZJvwPzlIGLnJBUIHnI0323ofq0nqM6UsheMDxCCLSTzzF0vbeCtFBb-hVWl0jSScZPQ47g63e5ojC7Jx8Kkv72tOAm5i1JxFioWjfzYzDmcLi0SzrUXxJFLqfLmj_H4gUnMMfdoKoSMdD_Dv9v2q8YVh1FxYml9LSy7Z7FTDIsH6KUFtRU9rk42BrPXXSuC8Qzi0R1aNjxAUurp193guhaaXKJyatbSp4t8vk_4hBWFyN0pwHpSC4aWGBRJTmwLZMOtrqkUyoWle7etxEHedJ_Vq-qI2fbBBOmFtyvuj4F5JdYK94V0yrhP3rMjBGlygeUt5hgCkCvVRyYrYYDK1nMmolhJDtivX3j4F4SoLByDEkCAsu8g3nNi0y8jeFaTlr9MwxYavCF1ZKbNjhOXmukvlbROamIBHVlQkUJjL6tEYilwZ1WtpbaAHMdojAOj1WzR9rVi3rPblZPbO6D9MUgnSi0cQcj3c7CJfl207BGG6P2a-JkGoNjyUA0l67DPVhHiLRh6ihsQvhv0BfA0fBNO6AxfZXEIZqjC-IqLXKleO-lHAwFkCMoVmtpmDUyPazrF2UeZg3zK2FznA2-Q0PkjMCPfyunV1iIWw21tAwrvTYFAVIEHg2Z5xuc1Icb0kVO-_rvF3LNxdauAyTbCrR49yXTRXv-DZVFfCdrDTHmXQwjuDcDsgAYkHlBjYntvvBgSQIj5yA58.--rmlKYynF3jL7wQgHzJXg\"}\n"},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":590300,"millis":0.5903,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":346300,"millis":0.3463,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"10:18:02.540 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjM0MTRkMGE1LWQ2ZTYtNGUyOS1hZTU5LTM5M2E4MTk1YmFjMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgzLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODMsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.xJQ9GJO31KipSqUA8sgmSl0guaZq9qTKSm-MBzz0QVj5vNA4ZnArUvYEd3VQPP6eRyrf0p-YBtr959fB1YHZM0ml6JzTt57UB6bnp_4gX6GGk_44PPHM1aGkbb0xF1ZgzxGwc0cZkOZrL4mD3KexuO83wC-Eb5lD_je_GDP9lbfW97Z70XU2IL6ZJBlWLbTfEucVsV_riGPfJgSCOgqUbNSFZjmPZIuk26bsOBzoLQU3z709VOnBedmWFfs232-MkU-EsdZPQQqe7cO4woKrrNKgTKtuWl55XljJYOT2nSuKHQoq4FkIkz_tWhJtr3_a7oKGogk-Ew88JrzLIQbqgg \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":307.3673,"startTime":1621325882231,"failed":false,"refId":"[1:6]","endTime":1621325882540,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":759400,"millis":0.7594,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"10:18:02.541 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjM0MTRkMGE1LWQ2ZTYtNGUyOS1hZTU5LTM5M2E4MTk1YmFjMCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMzI1ODgzLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3IiwiZXhwIjoxNjIxMzI5NDgzLCJjdXN0b206cm9sZSI6IlVzZXIiLCJpYXQiOjE2MjEzMjU4ODMsImVtYWlsIjoidXNlcjMwQHRlc3QuY29tIn0.xJQ9GJO31KipSqUA8sgmSl0guaZq9qTKSm-MBzz0QVj5vNA4ZnArUvYEd3VQPP6eRyrf0p-YBtr959fB1YHZM0ml6JzTt57UB6bnp_4gX6GGk_44PPHM1aGkbb0xF1ZgzxGwc0cZkOZrL4mD3KexuO83wC-Eb5lD_je_GDP9lbfW97Z70XU2IL6ZJBlWLbTfEucVsV_riGPfJgSCOgqUbNSFZjmPZIuk26bsOBzoLQU3z709VOnBedmWFfs232-MkU-EsdZPQQqe7cO4woKrrNKgTKtuWl55XljJYOT2nSuKHQoq4FkIkz_tWhJtr3_a7oKGogk-Ew88JrzLIQbqgg\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkZDBmMzA5NC0xZGE5LTQzYzUtOTQ2MS0zZDE0NzhlMGZkOTciLCJldmVudF9pZCI6IjM0MTRkMGE1LWQ2ZTYtNGUyOS1hZTU5LTM5M2E4MTk1YmFjMCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEzMjU4ODMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTMyOTQ4MywiaWF0IjoxNjIxMzI1ODgzLCJqdGkiOiI3N2Y3YjI5Ni1jMDI4LTQwMzEtOThjZi1kMzI3MTE1MDJmZDkiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGQwZjMwOTQtMWRhOS00M2M1LTk0NjEtM2QxNDc4ZTBmZDk3In0.o6ZuLR766d6ZCHsLzs81zTzm9dqywByngv0vafmvGaJyUYATsosSkB5jcflrzIp92yoJJ7AOdZ_sBPfp-QxUqlMyWVhZ8n2LnKOe3LBh9Hji3dK3HwMm3OKfwsNfcrpNh5nSFaw4pPhHz6GU7wm3KuITFpfO2_eUr21Cv9w6Ho7FeG9qJAUzajhOVCpeGJ4_UQlSHpfoCYs66QiZqUsVWAf6eYj-CjOZP8Wk6WHKfEtjAkCxAlrdWu8kXxdmJ19sw77lr9z5YByPq8R3W_LpE1fFGi35T4RgHuz--YBtmMN7LA_gyqJ_hUsvycB8BiAG4kfcL63Rs_ju0lZOn7GHuQ\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.e2HFk57F1Sajwq_91-uy_R3Ny4oE_Iqj90xL4V5ggzR6R_O293nmvuYZ7uu5mIqTCVgkoGfGA-eHjzOmXv9v6DHzrAEDzNucyOAk1bH4Z6zhRg275Zx-G2OQ2fIyzyXQ2VQRExZKz9R5QQOKVWeDFr8CKHxZVXOBLO9uPLJy6-UGcUI12WkmRWUtpLvMdgKVPBECprNSVNW86hTtoU7o5ROyzsA6HhKlB-xhLwubbYxYdjO2ijxXWL2SIiMnritLoEQrBwnLJVfV5L0_sOqGcD0Wyt7moDI5G7erUMVd1ns7jjtgErg5l_tGU21O0VGNrMRMjUVyF4NL-N-BBl2Kvw.TRMVJhZlU_KsJSKY.DDl_7HkUF5n5KHi0PVlmUi2j9QVo1HQqdSpocj3BaTV2Yvwgszp63TXZ4tX65LeuXAXyOYHnDf5b0HDbgb17dhE1dCKmTJWberhrxf2Cgjwi22Tq3nZMiapV8hsBdOkaQsjOjmqUsFQPy4-9r4igE3SZpTV2qOC6tnyKhOi0PSutHsXeJ0U00OybYleRe3gUyn573XtqV78uAaMzA0OujIRnIaYpu-3TJLiCvN8bIv02oJFD863VK6hzs_SQEHfZBy5ZBoZ20ueTOy65phdGFPpY2DOh7BDOPTZlewYkxvA43t5LsKnjoV9v2EQKNF8DP92Zs_I52CHgfWP4yVLWzXvV8WfANNlzAaUP98Mei0ShVCrciojDhamKP_xtlo2XHteF8UV6-qgI6us6a7LQbR7R5ULlbMne6fhH_9RnR2G1XO7haA0Wqu7nYKh0DtDogx4G8vbI3M5sFyuJj1_QsOd4aZvLjhrW8mFmeI8mDdUofRbul-CFymUbYf4B2GflLisf2oWnL4xVkyE23n9UnAC8R793LQ0XR3J0Myq9jJAqLAsOv52jWO9AvENCmk55mfipuIoBcoR9f2xecbZQKbbtipZBbTt-rD5hWe0IyaWzaZyeDLeHZJvwPzlIGLnJBUIHnI0323ofq0nqM6UsheMDxCCLSTzzF0vbeCtFBb-hVWl0jSScZPQ47g63e5ojC7Jx8Kkv72tOAm5i1JxFioWjfzYzDmcLi0SzrUXxJFLqfLmj_H4gUnMMfdoKoSMdD_Dv9v2q8YVh1FxYml9LSy7Z7FTDIsH6KUFtRU9rk42BrPXXSuC8Qzi0R1aNjxAUurp193guhaaXKJyatbSp4t8vk_4hBWFyN0pwHpSC4aWGBRJTmwLZMOtrqkUyoWle7etxEHedJ_Vq-qI2fbBBOmFtyvuj4F5JdYK94V0yrhP3rMjBGlygeUt5hgCkCvVRyYrYYDK1nMmolhJDtivX3j4F4SoLByDEkCAsu8g3nNi0y8jeFaTlr9MwxYavCF1ZKbNjhOXmukvlbROamIBHVlQkUJjL6tEYilwZ1WtpbaAHMdojAOj1WzR9rVi3rPblZPbO6D9MUgnSi0cQcj3c7CJfl207BGG6P2a-JkGoNjyUA0l67DPVhHiLRh6ihsQvhv0BfA0fBNO6AxfZXEIZqjC-IqLXKleO-lHAwFkCMoVmtpmDUyPazrF2UeZg3zK2FznA2-Q0PkjMCPfyunV1iIWw21tAwrvTYFAVIEHg2Z5xuc1Icb0kVO-_rvF3LNxdauAyTbCrR49yXTRXv-DZVFfCdrDTHmXQwjuDcDsgAYkHlBjYntvvBgSQIj5yA58.--rmlKYynF3jL7wQgHzJXg\"\n}\n \n"},{"result":{"nanos":1157700,"millis":1.1577,"status":"passed"},"step":{"endLine":118,"comments":["# Get the query from a .graphql file"],"line":115,"prefix":"*","docString":"read('DeleteUser.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":1265200,"errorMessage":">>>> js failed:\n01: read('UserToDelete.json')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\estre\\eclipse-workspace\\apigraphql\\target\\test-classes\\examples\\users\\UserToDelete.json (El sistema no puede encontrar el archivo especificado)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:103)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:53)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:118)\n- <js>.:program(Unnamed:1)\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:120","millis":1.2652,"status":"failed"},"step":{"comments":["# Define the username of the user to list"],"line":120,"prefix":"*","index":1,"text":"def newUser = read('UserToDelete.json')"},"stepLog":"10:18:02.544 classpath:examples\/users\/TestUserNoAdminCannotDo.feature:120\n* def newUser = read('UserToDelete.json')\n>>>> js failed:\n01: read('UserToDelete.json')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\estre\\eclipse-workspace\\apigraphql\\target\\test-classes\\examples\\users\\UserToDelete.json (El sistema no puede encontrar el archivo especificado)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:103)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:53)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:118)\n- <js>.:program(Unnamed:1)\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:120\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"endLine":126,"line":121,"prefix":"*","docString":"{ \n   \"id\": \"#(UserToDelete.username)\"\n}","index":2,"text":"def id ="}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":127,"prefix":"*","index":3,"text":"print id"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":129,"prefix":"Given","index":4,"text":"path 'graphql'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":130,"prefix":"And","index":5,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":131,"prefix":"And","index":6,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":132,"prefix":"And","index":7,"text":"request { query: '#(query)', variables: '#(id)' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":133,"prefix":"When","index":8,"text":"method post"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":134,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"comments":["# As the user is not admin, the response of the query shouldn't contain the datas of the user tryed to saved"],"line":137,"prefix":"*","index":10,"text":"match response.errors != '#notpresent'"}}],"line":113,"description":"","durationMillis":317.4089,"failed":true,"error":">>>> js failed:\n01: read('UserToDelete.json')\n<<<<\norg.graalvm.polyglot.PolyglotException: java.io.FileNotFoundException: C:\\Users\\estre\\eclipse-workspace\\apigraphql\\target\\test-classes\\examples\\users\\UserToDelete.json (El sistema no puede encontrar el archivo especificado)\n- com.intuit.karate.resource.FileResource.getStream(FileResource.java:98)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsStream(ScenarioFileReader.java:103)\n- com.intuit.karate.core.ScenarioFileReader.readFileAsString(ScenarioFileReader.java:99)\n- com.intuit.karate.core.ScenarioFileReader.readFile(ScenarioFileReader.java:53)\n- com.intuit.karate.core.ScenarioEngine.lambda$new$0(ScenarioEngine.java:118)\n- <js>.:program(Unnamed:1)\n\nclasspath:examples\/users\/TestUserNoAdminCannotDo.feature:120","executorName":"main","name":"The user can't delete other users","startTime":1621325882225,"refId":"[5:113]","endTime":1621325882544,"exampleIndex":-1}],"callDepth":0,"name":"Test that an user not admin isn't allowed to do admin functions in the environment set from the java class","description":"","resultDate":"2021-05-18 10:18:02 a.Â m.","durationMillis":9273.3912,"passedCount":0}