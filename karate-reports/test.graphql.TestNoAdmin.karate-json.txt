{"failedCount":0,"prefixedPath":"classpath:test\/graphql\/TestNoAdmin.feature","packageQualifiedName":"test.graphql.TestNoAdmin","loopIndex":-1,"relativePath":"test\/graphql\/TestNoAdmin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"19:21:47.582 karate.env system property was: prod \n"},{"result":{"nanos":35614400,"millis":35.6144,"status":"passed"},"step":{"comments":["# It is necessary to sign in the API as admin to create a new user","# Read the admin datas from a *.json file"],"line":9,"prefix":"*","index":0,"text":"def adminDatas = read('signinDatasUser.json')"}},{"result":{"nanos":1077811500,"millis":1077.8115,"status":"passed"},"step":{"comments":["### Call the feature to sign in the API with the JSON file that contains the admin's datas"],"line":12,"prefix":"*","index":1,"text":"def signIn = call read('signin.feature') adminDatas"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":1060.4111,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"test.graphql.signin","relativePath":"test\/graphql\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":2036100,"millis":2.0361,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":3073500,"millis":3.0735,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"19:21:47.663 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":3748400,"millis":3.7484,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":486000,"millis":0.486,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":1048397600,"millis":1048.3976,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:21:47.899 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n19:21:48.714 response time in milliseconds: 812\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:21:48 GMT\n1 < x-amzn-RequestId: 0238c009-83fd-4a9a-a9db-f49c452c09a1\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0a7GbTjoEF0Sg=\n1 < X-Amzn-Trace-Id: Root=1-60a69aac-4483b3d466afb1797df1cf0d\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 66709b7391664c627ccebe2d9c55dd7f.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: dIrXk6f_9ONhWMLnVzTT4sX13ajQzgrb2WRgp8e7fM77nVvhGQbORQ==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxM2Q3YzE1MC1lZTE4LTRmOWQtYjRlOS1jMDcxYTZlODlmODEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTUzMTMwOCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTUzNDkwOCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTUzMTMwOCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.Tl5m29iwrJhKoLaB-OAUu_PKgHeQadJ6NrUhsBZuf44BzHnjyDtxjuyJ-qVlNmOdCnyrRIoZT81E1stTCb5UFikIZpJe334VZjLBCCk4JvNPtaRGNuSam13UYOhbIU4i4PZCCw6cXGo7ENwkYO105nk1OJyfQSirjRrmQB9XKypgYaSztxc8OrPuEAtIIwlto862mcI22M0RyCeYvu-MBfvgNOqplA0a9GDcu4yHrayfS4FJEPZwL_EFx0N8PxqcTFHE1DYmf17MQeogZuSf8tMOibnjDK-pzg-ROpjD4MoLjYVGZeECjBJEYNv1kpNduYuIIAjAwvO-z9dOPQY9UQ\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjEzZDdjMTUwLWVlMTgtNGY5ZC1iNGU5LWMwNzFhNmU4OWY4MSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMDgsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkwOCwiaWF0IjoxNjIxNTMxMzA4LCJqdGkiOiJkMTdjNjAyNC02ZjdmLTRiMTYtYjEzMC1lOWRiMGYwYWVhOWQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.yuiAqEEtWiIO7Jao_nQ5X9eGoV37LqJofGS-cDFgr8epW-CDJmi4mB9lK0KCPLRQho3Ig_VncNUygOIgNX5JV9qdf1xyhQi-wxmvaFTan0xK-O21FqXS5TlsmE1HxtuaaEdcS2qM73LjoT1SgcV5biPSOTX_D8NMWeEA6lLNAkpNG0InbIcSJJiAbHhh7QMPf7s1NP07HRQUXiB3lMZDnYERdywqUXvG59itJ5wL01loogR4qR3_BXiLJI0aoCwJLmMogpVIY24n6NaVUVCabUoEhZorqchVgGdF4-b1VreJFh_4oUhxb-1_U0wFolcdbG9YRK2HIoD_ASvHuAg91w\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ggP1c86F9tB-Wx_Vx-hAo9nHt9ZrYQzw_Dp3XlKQvY_vFtWn8QG4lSPgJUupjOFDK7rOER_s-UdX0AQuD-gbwmXFMxr6vAG9031VHdRLd07ZLMiyTZHlVkw8wbcUyJYQ8hrbPtL2IEp68I2FBMStV7oxOmyD1unugyP-h3k4FpEBWNWKHC7nJlKwzU5ER6cdyLBAQDEJSTxqJihOJKzsHyBt85Up9jkkRQ0EmN8JWFSmoA2aQElZKcOYMB-DjRY53gubj81GVjTMunDqo1Ed7CuEprl-ZO6OxKTQvtQxIRLKlgwuqm7dIERBvVzQOo-gomBErF-L1w57OTP61Ks_9w.qnsfMASmQW90ukAk.OuOZ4whAmAl8VX876pvhOeMQYWxVvFpVKcA2BIIXiU4TbxBKFpct6aDe-Tu2eb7FN6yRC3x72BjrBiCq-pse4QPrT6-hRDkoXmz0Oq-Ej7sxecz0wf3a_jWh-v8drL0W1o_thGCM5D1DeKlI-ybpaVKIta4gOc2fIM4SLsf_eR2zCGG40K9v21bq6v10dp3U6gf2WW62L_clNo4kUqgb4esR3EgGs6LZ-GPTVURT4bt9fen9LdcXzIL3zc3eEK0wkqE2oBbB7RepkZbEAEKE5tJofNFoYXpDaq7IVqLdfNtmS3adSazkVq8EOxR1ct1nxbhnXnUOw1L8cesLEgCM8fxM18nM16Teyo9GSUcgfHCURAcUloQtRw3CDiF3HcWlJDirErZitG0jyEcpZyMFqI91tF51v-DtuKP3LkrfeFf3gz5GlGtiH0Hej8Lm3jsrM6f1QVKggugSdtdF3FWwycs2LmQi96Ypjtg8jwVYRpyT4djpTv3UbfRdmoEFrm6JaWnvpKDmhgCt1_k6MquaQqdAlkN3xvD0yb5FzCiCKM-0xg2Tj688uZNwNlhOQsl7OY8wxHMFBPv55pK86WTfsF9IU2PoHasyCr0kuJF4DphHJFLnKI3NdZrxrn1-OOxfWSLY-RdctlQdzHco9xkhzTuyizudhqboIh9OAZhKGiUfW7X1ldOsehpxJMJuBPZpyk_anhUQFgWB5sK805exZnmO6TawZry0IPl83xkIqDDLihGL3Fqjx6PNmvz0-QbcNshNeJKjwww1nijn_1EZY7HiC_DXJzn_2XKaSqQgGdGMqETQ04rZ1iIi_KYb2jUNORWv2-D73U8RqFSPEOYk0k0Y0RbOt55TrwJ_tIszOFfwM8oeixvoHcXNqofbQY_lZ0neujeL097KWa5Fx4dq44u8VXWLnP8qifha6TzqK63eUNuigkAoCSU_Pvmw4sv5MWkHjqKkFLIHXv3Sl-ug_RTH3giQzL1tgjPGQ0FHt8jHtFcVAG8VnlmQD8rXBn4uFTX-k1FCEZcZH9mLIsaCvHphbApNJSzndCeH29UxMZP2moQiLR7MNJaJzlyASrjfaVmzfrMscAjsZ5njSNW8peBuVNqtzDcrMoxyg9zJYFeRUIh-Jec2uLanPMbTM-tHl7pR7Vp7BavBrDBMzCknDOgTZopT1CbdPadhvKivLaoqhIQ5lSjF_xNRa9Lg1Nnyl_sN9TPx1m1V6iq0i0l0PuDMUzDiGe_MBDYEJTrc-ijtlMlozCTO-U2fvCytZhMbKr-ioHkV0KdHxe9_KLJFK3ZxgNUk9SWzlpLEE3gswRaq44BNn2jsX0Dp1-QoKms.SF-iNH1FYyJW54p7Ssyv4A\"}\n"},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1000700,"millis":1.0007,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1600300,"millis":1.6003,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"19:21:48.719 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxM2Q3YzE1MC1lZTE4LTRmOWQtYjRlOS1jMDcxYTZlODlmODEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTUzMTMwOCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTUzNDkwOCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTUzMTMwOCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.Tl5m29iwrJhKoLaB-OAUu_PKgHeQadJ6NrUhsBZuf44BzHnjyDtxjuyJ-qVlNmOdCnyrRIoZT81E1stTCb5UFikIZpJe334VZjLBCCk4JvNPtaRGNuSam13UYOhbIU4i4PZCCw6cXGo7ENwkYO105nk1OJyfQSirjRrmQB9XKypgYaSztxc8OrPuEAtIIwlto862mcI22M0RyCeYvu-MBfvgNOqplA0a9GDcu4yHrayfS4FJEPZwL_EFx0N8PxqcTFHE1DYmf17MQeogZuSf8tMOibnjDK-pzg-ROpjD4MoLjYVGZeECjBJEYNv1kpNduYuIIAjAwvO-z9dOPQY9UQ \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":1060.4111,"startTime":1621531307657,"failed":false,"refId":"[1:6]","endTime":1621531308720,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":2278400,"millis":2.2784,"status":"passed"},"step":{"line":13,"prefix":"*","index":2,"text":"print signIn.response"},"stepLog":"19:21:48.723 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxM2Q3YzE1MC1lZTE4LTRmOWQtYjRlOS1jMDcxYTZlODlmODEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTUzMTMwOCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTUzNDkwOCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTUzMTMwOCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.Tl5m29iwrJhKoLaB-OAUu_PKgHeQadJ6NrUhsBZuf44BzHnjyDtxjuyJ-qVlNmOdCnyrRIoZT81E1stTCb5UFikIZpJe334VZjLBCCk4JvNPtaRGNuSam13UYOhbIU4i4PZCCw6cXGo7ENwkYO105nk1OJyfQSirjRrmQB9XKypgYaSztxc8OrPuEAtIIwlto862mcI22M0RyCeYvu-MBfvgNOqplA0a9GDcu4yHrayfS4FJEPZwL_EFx0N8PxqcTFHE1DYmf17MQeogZuSf8tMOibnjDK-pzg-ROpjD4MoLjYVGZeECjBJEYNv1kpNduYuIIAjAwvO-z9dOPQY9UQ\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjEzZDdjMTUwLWVlMTgtNGY5ZC1iNGU5LWMwNzFhNmU4OWY4MSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMDgsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkwOCwiaWF0IjoxNjIxNTMxMzA4LCJqdGkiOiJkMTdjNjAyNC02ZjdmLTRiMTYtYjEzMC1lOWRiMGYwYWVhOWQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.yuiAqEEtWiIO7Jao_nQ5X9eGoV37LqJofGS-cDFgr8epW-CDJmi4mB9lK0KCPLRQho3Ig_VncNUygOIgNX5JV9qdf1xyhQi-wxmvaFTan0xK-O21FqXS5TlsmE1HxtuaaEdcS2qM73LjoT1SgcV5biPSOTX_D8NMWeEA6lLNAkpNG0InbIcSJJiAbHhh7QMPf7s1NP07HRQUXiB3lMZDnYERdywqUXvG59itJ5wL01loogR4qR3_BXiLJI0aoCwJLmMogpVIY24n6NaVUVCabUoEhZorqchVgGdF4-b1VreJFh_4oUhxb-1_U0wFolcdbG9YRK2HIoD_ASvHuAg91w\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ggP1c86F9tB-Wx_Vx-hAo9nHt9ZrYQzw_Dp3XlKQvY_vFtWn8QG4lSPgJUupjOFDK7rOER_s-UdX0AQuD-gbwmXFMxr6vAG9031VHdRLd07ZLMiyTZHlVkw8wbcUyJYQ8hrbPtL2IEp68I2FBMStV7oxOmyD1unugyP-h3k4FpEBWNWKHC7nJlKwzU5ER6cdyLBAQDEJSTxqJihOJKzsHyBt85Up9jkkRQ0EmN8JWFSmoA2aQElZKcOYMB-DjRY53gubj81GVjTMunDqo1Ed7CuEprl-ZO6OxKTQvtQxIRLKlgwuqm7dIERBvVzQOo-gomBErF-L1w57OTP61Ks_9w.qnsfMASmQW90ukAk.OuOZ4whAmAl8VX876pvhOeMQYWxVvFpVKcA2BIIXiU4TbxBKFpct6aDe-Tu2eb7FN6yRC3x72BjrBiCq-pse4QPrT6-hRDkoXmz0Oq-Ej7sxecz0wf3a_jWh-v8drL0W1o_thGCM5D1DeKlI-ybpaVKIta4gOc2fIM4SLsf_eR2zCGG40K9v21bq6v10dp3U6gf2WW62L_clNo4kUqgb4esR3EgGs6LZ-GPTVURT4bt9fen9LdcXzIL3zc3eEK0wkqE2oBbB7RepkZbEAEKE5tJofNFoYXpDaq7IVqLdfNtmS3adSazkVq8EOxR1ct1nxbhnXnUOw1L8cesLEgCM8fxM18nM16Teyo9GSUcgfHCURAcUloQtRw3CDiF3HcWlJDirErZitG0jyEcpZyMFqI91tF51v-DtuKP3LkrfeFf3gz5GlGtiH0Hej8Lm3jsrM6f1QVKggugSdtdF3FWwycs2LmQi96Ypjtg8jwVYRpyT4djpTv3UbfRdmoEFrm6JaWnvpKDmhgCt1_k6MquaQqdAlkN3xvD0yb5FzCiCKM-0xg2Tj688uZNwNlhOQsl7OY8wxHMFBPv55pK86WTfsF9IU2PoHasyCr0kuJF4DphHJFLnKI3NdZrxrn1-OOxfWSLY-RdctlQdzHco9xkhzTuyizudhqboIh9OAZhKGiUfW7X1ldOsehpxJMJuBPZpyk_anhUQFgWB5sK805exZnmO6TawZry0IPl83xkIqDDLihGL3Fqjx6PNmvz0-QbcNshNeJKjwww1nijn_1EZY7HiC_DXJzn_2XKaSqQgGdGMqETQ04rZ1iIi_KYb2jUNORWv2-D73U8RqFSPEOYk0k0Y0RbOt55TrwJ_tIszOFfwM8oeixvoHcXNqofbQY_lZ0neujeL097KWa5Fx4dq44u8VXWLnP8qifha6TzqK63eUNuigkAoCSU_Pvmw4sv5MWkHjqKkFLIHXv3Sl-ug_RTH3giQzL1tgjPGQ0FHt8jHtFcVAG8VnlmQD8rXBn4uFTX-k1FCEZcZH9mLIsaCvHphbApNJSzndCeH29UxMZP2moQiLR7MNJaJzlyASrjfaVmzfrMscAjsZ5njSNW8peBuVNqtzDcrMoxyg9zJYFeRUIh-Jec2uLanPMbTM-tHl7pR7Vp7BavBrDBMzCknDOgTZopT1CbdPadhvKivLaoqhIQ5lSjF_xNRa9Lg1Nnyl_sN9TPx1m1V6iq0i0l0PuDMUzDiGe_MBDYEJTrc-ijtlMlozCTO-U2fvCytZhMbKr-ioHkV0KdHxe9_KLJFK3ZxgNUk9SWzlpLEE3gswRaq44BNn2jsX0Dp1-QoKms.SF-iNH1FYyJW54p7Ssyv4A\"\n}\n \n"},{"result":{"nanos":834700,"millis":0.8347,"status":"passed"},"step":{"comments":["# The token for the admin user is the input parameter for the callable feature where are defined the steps of the tests"],"line":15,"prefix":"*","index":3,"text":"def userToken = signIn.response"}},{"result":{"nanos":219800,"millis":0.2198,"status":"passed"},"step":{"endLine":26,"comments":["### Create a new user different from admin to sign in the API","# The body of the graphql request is a JSON with the generated values"],"line":19,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password_1\", \n\t\"role\": \"user\"\n}","index":4,"text":"def newUser ="}},{"result":{"nanos":5093474500,"millis":5093.4745,"status":"passed"},"step":{"line":28,"prefix":"*","index":5,"text":"def saveUser = call read('SaveUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUser.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":5077.9406,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxM2Q3YzE1MC1lZTE4LTRmOWQtYjRlOS1jMDcxYTZlODlmODEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTUzMTMwOCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTUzNDkwOCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTUzMTMwOCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.Tl5m29iwrJhKoLaB-OAUu_PKgHeQadJ6NrUhsBZuf44BzHnjyDtxjuyJ-qVlNmOdCnyrRIoZT81E1stTCb5UFikIZpJe334VZjLBCCk4JvNPtaRGNuSam13UYOhbIU4i4PZCCw6cXGo7ENwkYO105nk1OJyfQSirjRrmQB9XKypgYaSztxc8OrPuEAtIIwlto862mcI22M0RyCeYvu-MBfvgNOqplA0a9GDcu4yHrayfS4FJEPZwL_EFx0N8PxqcTFHE1DYmf17MQeogZuSf8tMOibnjDK-pzg-ROpjD4MoLjYVGZeECjBJEYNv1kpNduYuIIAjAwvO-z9dOPQY9UQ","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjEzZDdjMTUwLWVlMTgtNGY5ZC1iNGU5LWMwNzFhNmU4OWY4MSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMDgsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkwOCwiaWF0IjoxNjIxNTMxMzA4LCJqdGkiOiJkMTdjNjAyNC02ZjdmLTRiMTYtYjEzMC1lOWRiMGYwYWVhOWQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.yuiAqEEtWiIO7Jao_nQ5X9eGoV37LqJofGS-cDFgr8epW-CDJmi4mB9lK0KCPLRQho3Ig_VncNUygOIgNX5JV9qdf1xyhQi-wxmvaFTan0xK-O21FqXS5TlsmE1HxtuaaEdcS2qM73LjoT1SgcV5biPSOTX_D8NMWeEA6lLNAkpNG0InbIcSJJiAbHhh7QMPf7s1NP07HRQUXiB3lMZDnYERdywqUXvG59itJ5wL01loogR4qR3_BXiLJI0aoCwJLmMogpVIY24n6NaVUVCabUoEhZorqchVgGdF4-b1VreJFh_4oUhxb-1_U0wFolcdbG9YRK2HIoD_ASvHuAg91w","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ggP1c86F9tB-Wx_Vx-hAo9nHt9ZrYQzw_Dp3XlKQvY_vFtWn8QG4lSPgJUupjOFDK7rOER_s-UdX0AQuD-gbwmXFMxr6vAG9031VHdRLd07ZLMiyTZHlVkw8wbcUyJYQ8hrbPtL2IEp68I2FBMStV7oxOmyD1unugyP-h3k4FpEBWNWKHC7nJlKwzU5ER6cdyLBAQDEJSTxqJihOJKzsHyBt85Up9jkkRQ0EmN8JWFSmoA2aQElZKcOYMB-DjRY53gubj81GVjTMunDqo1Ed7CuEprl-ZO6OxKTQvtQxIRLKlgwuqm7dIERBvVzQOo-gomBErF-L1w57OTP61Ks_9w.qnsfMASmQW90ukAk.OuOZ4whAmAl8VX876pvhOeMQYWxVvFpVKcA2BIIXiU4TbxBKFpct6aDe-Tu2eb7FN6yRC3x72BjrBiCq-pse4QPrT6-hRDkoXmz0Oq-Ej7sxecz0wf3a_jWh-v8drL0W1o_thGCM5D1DeKlI-ybpaVKIta4gOc2fIM4SLsf_eR2zCGG40K9v21bq6v10dp3U6gf2WW62L_clNo4kUqgb4esR3EgGs6LZ-GPTVURT4bt9fen9LdcXzIL3zc3eEK0wkqE2oBbB7RepkZbEAEKE5tJofNFoYXpDaq7IVqLdfNtmS3adSazkVq8EOxR1ct1nxbhnXnUOw1L8cesLEgCM8fxM18nM16Teyo9GSUcgfHCURAcUloQtRw3CDiF3HcWlJDirErZitG0jyEcpZyMFqI91tF51v-DtuKP3LkrfeFf3gz5GlGtiH0Hej8Lm3jsrM6f1QVKggugSdtdF3FWwycs2LmQi96Ypjtg8jwVYRpyT4djpTv3UbfRdmoEFrm6JaWnvpKDmhgCt1_k6MquaQqdAlkN3xvD0yb5FzCiCKM-0xg2Tj688uZNwNlhOQsl7OY8wxHMFBPv55pK86WTfsF9IU2PoHasyCr0kuJF4DphHJFLnKI3NdZrxrn1-OOxfWSLY-RdctlQdzHco9xkhzTuyizudhqboIh9OAZhKGiUfW7X1ldOsehpxJMJuBPZpyk_anhUQFgWB5sK805exZnmO6TawZry0IPl83xkIqDDLihGL3Fqjx6PNmvz0-QbcNshNeJKjwww1nijn_1EZY7HiC_DXJzn_2XKaSqQgGdGMqETQ04rZ1iIi_KYb2jUNORWv2-D73U8RqFSPEOYk0k0Y0RbOt55TrwJ_tIszOFfwM8oeixvoHcXNqofbQY_lZ0neujeL097KWa5Fx4dq44u8VXWLnP8qifha6TzqK63eUNuigkAoCSU_Pvmw4sv5MWkHjqKkFLIHXv3Sl-ug_RTH3giQzL1tgjPGQ0FHt8jHtFcVAG8VnlmQD8rXBn4uFTX-k1FCEZcZH9mLIsaCvHphbApNJSzndCeH29UxMZP2moQiLR7MNJaJzlyASrjfaVmzfrMscAjsZ5njSNW8peBuVNqtzDcrMoxyg9zJYFeRUIh-Jec2uLanPMbTM-tHl7pR7Vp7BavBrDBMzCknDOgTZopT1CbdPadhvKivLaoqhIQ5lSjF_xNRa9Lg1Nnyl_sN9TPx1m1V6iq0i0l0PuDMUzDiGe_MBDYEJTrc-ijtlMlozCTO-U2fvCytZhMbKr-ioHkV0KdHxe9_KLJFK3ZxgNUk9SWzlpLEE3gswRaq44BNn2jsX0Dp1-QoKms.SF-iNH1FYyJW54p7Ssyv4A"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUser","relativePath":"test\/graphql\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":2013100,"millis":2.0131,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1021100,"millis":1.0211,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":612000,"millis":0.612,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":9917300,"millis":9.9173,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":851400,"millis":0.8514,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":1035744700,"millis":1035.7447,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:21:48.749 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxM2Q3YzE1MC1lZTE4LTRmOWQtYjRlOS1jMDcxYTZlODlmODEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTUzMTMwOCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTUzNDkwOCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTUzMTMwOCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.Tl5m29iwrJhKoLaB-OAUu_PKgHeQadJ6NrUhsBZuf44BzHnjyDtxjuyJ-qVlNmOdCnyrRIoZT81E1stTCb5UFikIZpJe334VZjLBCCk4JvNPtaRGNuSam13UYOhbIU4i4PZCCw6cXGo7ENwkYO105nk1OJyfQSirjRrmQB9XKypgYaSztxc8OrPuEAtIIwlto862mcI22M0RyCeYvu-MBfvgNOqplA0a9GDcu4yHrayfS4FJEPZwL_EFx0N8PxqcTFHE1DYmf17MQeogZuSf8tMOibnjDK-pzg-ROpjD4MoLjYVGZeECjBJEYNv1kpNduYuIIAjAwvO-z9dOPQY9UQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 257\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"user\",\"username\":\"userNotAdmin@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n19:21:49.782 response time in milliseconds: 1032\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 26\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:21:49 GMT\n1 < x-amzn-RequestId: 68e5e387-d4c3-4670-bc5f-232ceda6739d\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0bCHXnjoEF0QA=\n1 < X-Amzn-Trace-Id: Root=1-60a69aac-3c1911227a0282f23a12c4c6;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c5c852ebeabe49b08625d425153869fe.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: MlDJwSp9D2UnuRnH15tYqXAZB0DYxICSawjaHsjPGlqEYSZ2_vFqdQ==\n{\"data\":{\"SaveUser\":true}}\n"},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4026019400,"millis":4026.0194,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":1707200,"millis":1.7072,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Save a new User","description":"","durationMillis":5077.9406,"startTime":1621531308734,"failed":false,"refId":"[1:9]","endTime":1621531313812,"exampleIndex":-1}],"name":"Generate a new user","passedCount":1}]},{"result":{"nanos":13575900,"millis":13.5759,"status":"passed"},"step":{"line":29,"prefix":"*","index":6,"text":"match saveUser.response.errors == '#notpresent'"}},{"result":{"nanos":1521200,"millis":1.5212,"status":"passed"},"step":{"endLine":40,"comments":["### Sign now with the new user to get a new authorization token","# To call the feature it is necessary to over write the sign in values with the new user's"],"line":33,"prefix":"*","docString":"{\n     \"clientId\": \"#(adminDatas.clientId)\",\n     \"username\": \"#(newUser.username)\",\n     \"password\": \"#(newUser.password)\" \n}","index":7,"text":"def newUserSign ="}},{"result":{"nanos":466215500,"millis":466.2155,"status":"passed"},"step":{"line":41,"prefix":"*","index":8,"text":"def signIn = call read('signin.feature') newUserSign"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":453.7612,"callArg":{"password":"Password_1","clientId":"799hogucm363v55l7dk2n1l5u0","username":"userNotAdmin@test.com"},"failedCount":0,"packageQualifiedName":"test.graphql.signin","relativePath":"test\/graphql\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"19:21:53.833 over-writing existing variable 'signIn' with new value: call read('signin.feature') newUserSign\n"},{"result":{"nanos":1289900,"millis":1.2899,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":927600,"millis":0.9276,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"19:21:53.844 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"userNotAdmin@test.com\",\n  \"password\": \"Password_1\"\n}\n \n"},{"result":{"nanos":374500,"millis":0.3745,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":254700,"millis":0.2547,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":448793400,"millis":448.7934,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:21:53.846 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 100\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Password_1\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"userNotAdmin@test.com\"}\n\n19:21:54.292 response time in milliseconds: 443\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4003\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:21:54 GMT\n1 < x-amzn-RequestId: ba704311-83cd-4d9d-ace0-e432451879c1\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0b1F6BjoEF1VQ=\n1 < X-Amzn-Trace-Id: Root=1-60a69ab2-1eae399f2966bc1a2e34cf32\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 02d3291a1ad341b65154c2216e21838b.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: Ay1n8ByZBWwNu0S_NjsbBbuTOVT6o10HJITh3yQ9z7NpswbaUuRgYQ==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ\"}\n"},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1029500,"millis":1.0295,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1049900,"millis":1.0499,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"19:21:54.297 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":453.7612,"startTime":1621531313842,"failed":false,"refId":"[1:6]","endTime":1621531314297,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":2130800,"millis":2.1308,"status":"passed"},"step":{"line":42,"prefix":"*","index":9,"text":"print signIn.response"},"stepLog":"19:21:54.302 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ\"\n}\n \n"},{"result":{"nanos":613100,"millis":0.6131,"status":"passed"},"step":{"line":43,"prefix":"*","index":10,"text":"def userToken = signIn.response"},"stepLog":"19:21:54.302 over-writing existing variable 'userToken' with new value: signIn.response\n"},{"result":{"nanos":499600,"millis":0.4996,"status":"passed"},"step":{"comments":["# The token for the admin user is the input parameter for the callable feature where are defined the steps of the tests"],"line":46,"prefix":"*","index":11,"text":"def userToken = signIn.response"},"stepLog":"19:21:54.303 over-writing existing variable 'userToken' with new value: signIn.response\n"},{"result":{"nanos":820900,"millis":0.8209,"status":"passed"},"step":{"comments":["### Create new customers","# It is necessary to define the userId as the username of the user who create the customers to be read as id in the feature"],"line":51,"prefix":"*","index":12,"text":"def id = adminDatas.username"}},{"result":{"nanos":12707350200,"millis":12707.3502,"status":"passed"},"step":{"line":52,"prefix":"*","index":13,"text":"def saveCustomers = call read('SaveCustomersNotAdmin.feature') userToken"},"stepLog":"19:22:07.009 dynamic expression complete at index: 3, not map-like: [type: NULL, value: null]\n","callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveCustomersNotAdmin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":12665.3974,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveCustomersNotAdmin","relativePath":"test\/graphql\/SaveCustomersNotAdmin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":303400,"millis":0.3034,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1533100,"millis":1.5331,"status":"passed"},"step":{"comments":["# Define a function to generate Customers with a different name than the customers created by the admin"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorCustomer = function(i){ if (i == 3) return null; return { idCust: 'CustNotAdmin' + i, nameCust: 'Cutomer Name', surnameCust: 'Customer Surname', photoCust: 'photo.jpg' } }"}},{"result":{"nanos":1298300,"millis":1.2983,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":1121100,"millis":1.1211,"status":"passed"},"step":{"endLine":25,"line":17,"prefix":"*","docString":"{ \n\t\"id\": \"#(idCust)\", \n\t\"name\": \"#(nameCust)\", \n\t\"surname\": \"#(surnameCust)\",\n\t\"photo\": \"#(photoCust)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":139200,"millis":0.1392,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":162400,"millis":0.1624,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":630900,"millis":0.6309,"status":"passed"},"step":{"line":30,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":129587100,"millis":129.5871,"status":"passed"},"step":{"line":31,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:21:54.339 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 290\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"photo\":\"photo.jpg\",\"id\":\"CustNotAdmin0\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n19:21:54.465 response time in milliseconds: 125\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 30\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:21:54 GMT\n1 < x-amzn-RequestId: 5b3debc7-1bb3-465d-9ac0-545847555693\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0b5HXWjoEFo2w=\n1 < X-Amzn-Trace-Id: Root=1-60a69ab2-087eb2dc39d3f93f1f6f1f7f;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e9c760453b6eccd1556a68a55a4a90c5.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: Xg-z4QvTLKO0-tzSIbLoXNGncby0q7R3IMuP7ND6W9GFhvVSlrKw7g==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":32,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4013054100,"millis":4013.0541,"status":"passed"},"step":{"line":34,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":413600,"millis":0.4136,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":612200,"millis":0.6122,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"line":42,"description":"","durationMillis":4148.8928,"failed":false,"executorName":"main","name":"Save a new Customer","startTime":1621531314334,"refId":"[1.1:42]","endTime":1621531318481,"exampleData":{"idCust":"CustNotAdmin0","nameCust":"Cutomer Name","surnameCust":"Customer Surname","photoCust":"photo.jpg"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":303400,"millis":0.3034,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1533100,"millis":1.5331,"status":"passed"},"step":{"comments":["# Define a function to generate Customers with a different name than the customers created by the admin"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorCustomer = function(i){ if (i == 3) return null; return { idCust: 'CustNotAdmin' + i, nameCust: 'Cutomer Name', surnameCust: 'Customer Surname', photoCust: 'photo.jpg' } }"}},{"result":{"nanos":388800,"millis":0.3888,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":416300,"millis":0.4163,"status":"passed"},"step":{"endLine":25,"line":17,"prefix":"*","docString":"{ \n\t\"id\": \"#(idCust)\", \n\t\"name\": \"#(nameCust)\", \n\t\"surname\": \"#(surnameCust)\",\n\t\"photo\": \"#(photoCust)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":200600,"millis":0.2006,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":153600,"millis":0.1536,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":145700,"millis":0.1457,"status":"passed"},"step":{"line":30,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":203068500,"millis":203.0685,"status":"passed"},"step":{"line":31,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:21:58.490 request:\n2 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n2 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 290\n2 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"photo\":\"photo.jpg\",\"id\":\"CustNotAdmin1\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n19:21:58.691 response time in milliseconds: 200\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 30\n2 < Connection: keep-alive\n2 < Date: Thu, 20 May 2021 17:21:58 GMT\n2 < x-amzn-RequestId: 9533530c-c5e4-42a3-a459-01ea078a2fbc\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: fo0cjFYxDoEFUXA=\n2 < X-Amzn-Trace-Id: Root=1-60a69ab6-34bc79283b86778366eae00a;Sampled=0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 ddbdcc33fa1a8a511d1bd00cf3e020d6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: MAD51-C2\n2 < X-Amz-Cf-Id: sr8OpgnkIF5V14G5MYcQGwCIrKbX02n3x3mZjlXg-LnkvDkChYEXrQ==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":32,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4005866200,"millis":4005.8662,"status":"passed"},"step":{"line":34,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":375700,"millis":0.3757,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":577000,"millis":0.577,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"line":42,"description":"","durationMillis":4213.0634,"failed":false,"executorName":"main","name":"Save a new Customer","startTime":1621531318488,"refId":"[1.2:42]","endTime":1621531322700,"exampleData":{"idCust":"CustNotAdmin1","nameCust":"Cutomer Name","surnameCust":"Customer Surname","photoCust":"photo.jpg"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":303400,"millis":0.3034,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1533100,"millis":1.5331,"status":"passed"},"step":{"comments":["# Define a function to generate Customers with a different name than the customers created by the admin"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorCustomer = function(i){ if (i == 3) return null; return { idCust: 'CustNotAdmin' + i, nameCust: 'Cutomer Name', surnameCust: 'Customer Surname', photoCust: 'photo.jpg' } }"}},{"result":{"nanos":374900,"millis":0.3749,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":315600,"millis":0.3156,"status":"passed"},"step":{"endLine":25,"line":17,"prefix":"*","docString":"{ \n\t\"id\": \"#(idCust)\", \n\t\"name\": \"#(nameCust)\", \n\t\"surname\": \"#(surnameCust)\",\n\t\"photo\": \"#(photoCust)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":104400,"millis":0.1044,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":127700,"millis":0.1277,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":132100,"millis":0.1321,"status":"passed"},"step":{"line":30,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":284980400,"millis":284.9804,"status":"passed"},"step":{"line":31,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:22:02.709 request:\n3 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n3 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Content-Length: 290\n3 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n3 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"photo\":\"photo.jpg\",\"id\":\"CustNotAdmin2\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n19:22:02.991 response time in milliseconds: 282\n3 < 200\n3 < Content-Type: application\/json\n3 < Content-Length: 30\n3 < Connection: keep-alive\n3 < Date: Thu, 20 May 2021 17:22:02 GMT\n3 < x-amzn-RequestId: 81a5cad2-699c-417a-ae6c-24c8909741d7\n3 < Access-Control-Allow-Origin: *\n3 < x-amz-apigw-id: fo0dOFY1joEF9vQ=\n3 < X-Amzn-Trace-Id: Root=1-60a69aba-0e15bf6c70761e0735a285d2;Sampled=0\n3 < X-Cache: Miss from cloudfront\n3 < Via: 1.1 9809ca806cde9d8f9a57379e55ece5b7.cloudfront.net (CloudFront)\n3 < X-Amz-Cf-Pop: MAD51-C2\n3 < X-Amz-Cf-Id: BWTRxhic4zFqffXzLhYg8aBdr2NOiaIobgmL558UC1Xi7NJfeRl9sQ==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":32,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4015028300,"millis":4015.0283,"status":"passed"},"step":{"line":34,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":205900,"millis":0.2059,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":295200,"millis":0.2952,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"line":42,"description":"","durationMillis":4303.4412,"failed":false,"executorName":"main","name":"Save a new Customer","startTime":1621531322707,"refId":"[1.3:42]","endTime":1621531327008,"exampleData":{"idCust":"CustNotAdmin2","nameCust":"Cutomer Name","surnameCust":"Customer Surname","photoCust":"photo.jpg"},"exampleIndex":2}],"name":"Generate and save new customers by an user not admin","passedCount":3}]},{"result":{"nanos":295229200,"millis":295.2292,"status":"passed"},"step":{"comments":["### List all customers"],"line":56,"prefix":"*","index":14,"text":"def listCustomers = call read('CustomerReadModels.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModels.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":283.2009,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModels","relativePath":"test\/graphql\/CustomerReadModels.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":754200,"millis":0.7542,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModels = read('CustomerReadModels.graphql')"}},{"result":{"nanos":145300,"millis":0.1453,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":211400,"millis":0.2114,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":500100,"millis":0.5001,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModels)'}"}},{"result":{"nanos":275382300,"millis":275.3823,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:22:07.021 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 167\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query CustomerReadModels {\\r\\n    CustomerReadModels {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n19:22:07.293 response time in milliseconds: 271\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 396\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:07 GMT\n1 < x-amzn-RequestId: 7be24756-1068-46a0-9a99-47859b91d9fc\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0d5GCyjoEFuyQ=\n1 < X-Amzn-Trace-Id: Root=1-60a69abf-13a0210256484dd47ada5715;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e9fa09c7497a12fe8b4961214200fa71.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: VAppksBOfFBgDfbsef2zUNViwtqKDyaqhuPvq5tKOZGB1y775p5dkA==\n{\"data\":{\"CustomerReadModels\":[{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"CustNotAdmin2\",\"userId\":\"userNotAdmin@test.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"CustNotAdmin1\",\"userId\":\"userNotAdmin@test.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"CustNotAdmin0\",\"userId\":\"userNotAdmin@test.com\"}]}}\n"},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":347400,"millis":0.3474,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":859900,"millis":0.8599,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":3631300,"millis":3.6313,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModels"},"stepLog":"19:22:07.300 [print] [\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"CustNotAdmin2\",\n    \"userId\": \"userNotAdmin@test.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"CustNotAdmin1\",\n    \"userId\": \"userNotAdmin@test.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"CustNotAdmin0\",\n    \"userId\": \"userNotAdmin@test.com\"\n  }\n]\n \n"},{"result":{"nanos":1340500,"millis":1.3405,"status":"passed"},"step":{"line":25,"prefix":"*","index":9,"text":"match response.data.CustomerReadModels contains {id: '#ignore', name: '#ignore', surname: '#ignore', photoUrl: '#ignore', userId: '#ignore' }"}}],"executorName":"main","line":6,"name":"List the customers","description":"","durationMillis":283.2009,"startTime":1621531327018,"failed":false,"refId":"[1:6]","endTime":1621531327302,"exampleIndex":-1}],"name":"List all the customers created by users in the graphql API","passedCount":1}]},{"result":{"nanos":2823000,"millis":2.823,"status":"passed"},"step":{"comments":["### Update customers","# Take the first customer of the above response to modify"],"line":61,"prefix":"*","index":15,"text":"def first_customer = listCustomers.response.data.CustomerReadModels[0]"}},{"result":{"nanos":769600,"millis":0.7696,"status":"passed"},"step":{"line":63,"prefix":"*","index":16,"text":"set first_customer.name = \"name changed\""}},{"result":{"nanos":494100,"millis":0.4941,"status":"passed"},"step":{"line":64,"prefix":"*","index":17,"text":"set first_customer.surname = \"surname changed\""}},{"result":{"nanos":499200,"millis":0.4992,"status":"passed"},"step":{"line":65,"prefix":"*","index":18,"text":"set first_customer.photoURL = \"newPhoto.jpg\""}},{"result":{"nanos":4310352000,"millis":4310.352,"status":"passed"},"step":{"line":68,"prefix":"*","index":19,"text":"def updateCustomer = call read('SaveCustomer.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveCustomer.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":4291.934,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveCustomer","relativePath":"test\/graphql\/SaveCustomer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":123700,"millis":0.1237,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":357300,"millis":0.3573,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":3786800,"millis":3.7868,"status":"passed"},"step":{"endLine":22,"comments":["# The body of the graphql request is a JSON with the generated values"],"line":14,"prefix":"*","docString":"{ \n\t\"id\": \"#(first_customer.id)\", \n\t\"name\": \"#(first_customer.name)\", \n\t\"surname\": \"#(first_customer.surname)\",\n\t\"photo\": \"#(first_customer.photo)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":195100,"millis":0.1951,"status":"passed"},"step":{"line":24,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":226600,"millis":0.2266,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":283600,"millis":0.2836,"status":"passed"},"step":{"line":27,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":279315200,"millis":279.3152,"status":"passed"},"step":{"line":28,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:22:07.329 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 282\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"surname changed\",\"name\":\"name changed\",\"photo\":null,\"id\":\"CustNotAdmin2\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n19:22:07.606 response time in milliseconds: 276\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 30\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:07 GMT\n1 < x-amzn-RequestId: ca1f5156-3c07-404e-9705-3b48ee28650f\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0d8FZkjoEFZlQ=\n1 < X-Amzn-Trace-Id: Root=1-60a69abf-7592b71d081479c44071946a;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bb4bb14bfdc4b50fa6e1881933804946.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: bEgQpg3gODJKk-AI2WX9XORTrHZi6gR4blsXrPUPwQiQzj56Bo_g3A==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":29,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4006679300,"millis":4006.6793,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be saved before the next test"],"line":31,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":367700,"millis":0.3677,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":34,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":568900,"millis":0.5689,"status":"passed"},"step":{"comments":["# If the customer is saved, the response shouldn't contain a field \"error\""],"line":37,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Save a new Customer","description":"","durationMillis":4291.934,"startTime":1621531327322,"failed":false,"refId":"[1:9]","endTime":1621531331615,"exampleIndex":-1}],"name":"Generate and save a new customer","passedCount":1}]},{"result":{"nanos":264400,"millis":0.2644,"status":"passed"},"step":{"endLine":78,"comments":["### List a customer by id","# Check if the customer was updated properly and it has the reference of the last user who modified"],"line":73,"prefix":"*","docString":"{\n   \"id\": \"#(first_customer.id)\" \n}","index":20,"text":"def id_Customer ="}},{"result":{"nanos":156540000,"millis":156.54,"status":"passed"},"step":{"line":79,"prefix":"*","index":21,"text":"def listCustomerId = call read('CustomerReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModel.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":131.1742,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModel","relativePath":"test\/graphql\/CustomerReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1878900,"millis":1.8789,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModel = read('CustomerReadModel.graphql')"}},{"result":{"nanos":596000,"millis":0.596,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":904400,"millis":0.9044,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":1116900,"millis":1.1169,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModel)', variables: '#(id_Customer)'}"}},{"result":{"nanos":122296800,"millis":122.2968,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:22:11.646 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 219\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"CustNotAdmin2\"},\"query\":\"query CustomerReadModel($id: ID!) {\\r\\n    CustomerReadModel(id: $id) {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n19:22:11.766 response time in milliseconds: 119\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 150\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:11 GMT\n1 < x-amzn-RequestId: 28c5b6c3-a1ea-4c60-bcbf-7a0b1a977bac\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0emGxIjoEFr3Q=\n1 < X-Amzn-Trace-Id: Root=1-60a69ac3-4d9f1a746bce14607ae270fa;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 dadbd3993b5303886df72c2fdce172ca.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: D9zDczV-MXRKzQ8qhD_B8WIdNuHCYRyxzYLnFInRSEAGrd9DK1z8nQ==\n{\"data\":{\"CustomerReadModel\":{\"photoUrl\":\"\",\"surname\":\"surname changed\",\"name\":\"name changed\",\"id\":\"CustNotAdmin2\",\"userId\":\"userNotAdmin@test.com\"}}}\n"},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":1380200,"millis":1.3802,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":940400,"millis":0.9404,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":2029400,"millis":2.0294,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModel"},"stepLog":"19:22:11.772 [print] {\n  \"photoUrl\": \"\",\n  \"surname\": \"surname changed\",\n  \"name\": \"name changed\",\n  \"id\": \"CustNotAdmin2\",\n  \"userId\": \"userNotAdmin@test.com\"\n}\n \n"}],"executorName":"main","line":6,"name":"List a customer by id","description":"","durationMillis":131.1742,"startTime":1621531331639,"failed":false,"refId":"[1:6]","endTime":1621531331772,"exampleIndex":-1}],"name":"List a customer by Id of the graphql API","passedCount":1}]},{"result":{"nanos":2916700,"millis":2.9167,"status":"passed"},"step":{"comments":["#    * match listCustomerId.response.data.CustomerReadModel == {id: '#(first_customer.id)', name: '#(first_customer.name)', surname: '#(first_customer.surname)', photoUrl: '#(first_customer.photoURL)', userId: '#(newUser.username)' }"],"line":81,"prefix":"*","index":22,"text":"match listCustomerId.response.data.CustomerReadModel == {id: '#(first_customer.id)', name: '#(first_customer.name)', surname: '#(first_customer.surname)', photoUrl: '#ignore', userId: '#(newUser.username)' }"}},{"result":{"nanos":3159600,"millis":3.1596,"status":"passed"},"step":{"comments":["### Delete a customer","# Get the last customer from the list obtained before 'listCustomers' to delete"],"line":86,"prefix":"*","index":23,"text":"def numCustomers = listCustomers.response.data.CustomerReadModels.length - 1"}},{"result":{"nanos":950700,"millis":0.9507,"status":"passed"},"step":{"line":87,"prefix":"*","index":24,"text":"def customerToDelete = listCustomers.response.data.CustomerReadModels[numCustomers]"}},{"result":{"nanos":727600,"millis":0.7276,"status":"passed"},"step":{"endLine":94,"line":89,"prefix":"*","docString":"{\n   \"id\": \"#(customerToDelete.id)\"\n}","index":25,"text":"def customerDelete ="}},{"result":{"nanos":4241262600,"millis":4241.2626,"status":"passed"},"step":{"line":95,"prefix":"*","index":26,"text":"def deleteCustomer = call read('DeleteCustomer.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/DeleteCustomer.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":4218.3215,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.DeleteCustomer","relativePath":"test\/graphql\/DeleteCustomer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":155800,"millis":0.1558,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1049500,"millis":1.0495,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def queryDeleteCustomer = read('DeleteCustomer.graphql')"}},{"result":{"nanos":192700,"millis":0.1927,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":243200,"millis":0.2432,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":848000,"millis":0.848,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(queryDeleteCustomer)',  variables: '#(customerDelete)'  }"}},{"result":{"nanos":198271900,"millis":198.2719,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:22:11.807 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 131\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"CustNotAdmin0\"},\"query\":\"mutation DeleteCustomer($id: ID) {\\r\\n    DeleteCustomer(input: {id: $id})\\r\\n} \\r\\n\"}\n\n19:22:12.002 response time in milliseconds: 195\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 32\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:12 GMT\n1 < x-amzn-RequestId: eb9f15fd-371a-4def-95db-3a3952edadfa\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0eoHECDoEF7tA=\n1 < X-Amzn-Trace-Id: Root=1-60a69ac3-38408de810df71ef4703c0e5;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fc84dd3d81f101f017733b4720a09e8c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: -I1znogfvRubMxmJ39jWfV-ZPLWR9T8yzLbeY_7yIXvkQ7unU-dI8A==\n{\"data\":{\"DeleteCustomer\":true}}\n"},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4016866700,"millis":4016.8667,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be delete before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":266900,"millis":0.2669,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":396000,"millis":0.396,"status":"passed"},"step":{"comments":["# If the customer was delete, the response shouldn't contain a field \"error\""],"line":26,"prefix":"And","index":8,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Delete a customer","description":"","durationMillis":4218.3215,"startTime":1621531331803,"failed":false,"refId":"[1:9]","endTime":1621531336022,"exampleIndex":-1}],"name":"Delete a customer","passedCount":1}]},{"result":{"nanos":667400,"millis":0.6674,"status":"passed"},"step":{"endLine":103,"comments":["### List the customer to check that it was properly delete"],"line":98,"prefix":"*","docString":"{\n   \"id\": \"#(customerToDelete.id)\" \n}","index":27,"text":"def id_Customer ="},"stepLog":"19:22:16.028 over-writing existing variable 'id_Customer' with new value: {\n   \"id\": \"#(customerToDelete.id)\" \n}\n"},{"result":{"nanos":235415900,"millis":235.4159,"status":"passed"},"step":{"line":104,"prefix":"*","index":28,"text":"def listCustomerDelete = call read('CustomerReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModel.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":199.9411,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModel","relativePath":"test\/graphql\/CustomerReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":839100,"millis":0.8391,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModel = read('CustomerReadModel.graphql')"}},{"result":{"nanos":288300,"millis":0.2883,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":394100,"millis":0.3941,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":336000,"millis":0.336,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModel)', variables: '#(id_Customer)'}"}},{"result":{"nanos":194978600,"millis":194.9786,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:22:16.053 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 219\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"CustNotAdmin0\"},\"query\":\"query CustomerReadModel($id: ID!) {\\r\\n    CustomerReadModel(id: $id) {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n19:22:16.244 response time in milliseconds: 191\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 35\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:16 GMT\n1 < x-amzn-RequestId: e60138e8-d01e-4806-97ff-c4d0af85d992\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0fTGdmjoEF_bw=\n1 < X-Amzn-Trace-Id: Root=1-60a69ac8-2cd3c28d55863dc45c15b6c3;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 84edc0906da5023aac71c5fb4a35cd89.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: EWVP3SPTN5KPeSdbPGL0zR9JCf8VrTUaDt_BODAd03r4_hE6OgzqJw==\n{\"data\":{\"CustomerReadModel\":null}}\n"},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":579600,"millis":0.5796,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":961700,"millis":0.9617,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":1520800,"millis":1.5208,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModel"},"stepLog":"19:22:16.249 [print] null \n"}],"executorName":"main","line":6,"name":"List a customer by id","description":"","durationMillis":199.9411,"startTime":1621531336048,"failed":false,"refId":"[1:6]","endTime":1621531336249,"exampleIndex":-1}],"name":"List a customer by Id of the graphql API","passedCount":1}]},{"result":{"nanos":336200,"millis":0.3362,"status":"passed"},"step":{"line":105,"prefix":"*","index":29,"text":"match listCustomerDelete.response.data.CusotmerReadModel == '#notpresent'"}},{"result":{"nanos":126679300,"millis":126.6793,"status":"passed"},"step":{"comments":["### Test the features not allowed to a not admin user","### Read user models","# List all the users of the API, it should fail because it is not an admin user"],"line":113,"prefix":"*","index":30,"text":"def listUsers = call read('UserReadModels.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/UserReadModels.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":95.3809,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.UserReadModels","relativePath":"test\/graphql\/UserReadModels.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1095700,"millis":1.0957,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryUserReadModels = read('UserReadModels.graphql')"}},{"result":{"nanos":214800,"millis":0.2148,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":228400,"millis":0.2284,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":465000,"millis":0.465,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryUserReadModels)'}"}},{"result":{"nanos":93081800,"millis":93.0818,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:22:16.281 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 102\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query UserReadModels {\\r\\n    UserReadModels {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n19:22:16.372 response time in milliseconds: 91\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 162\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:16 GMT\n1 < x-amzn-RequestId: e23b6ab8-d90d-47bf-b363-f050c0bae868\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0fVHygjoEF9pA=\n1 < X-Amzn-Trace-Id: Root=1-60a69ac8-0750d4de094fabde553410bd;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c317421ad77a6a1c3629f150c353ffe5.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: 4AeapDqm0yiI8oHfbGI8IEQZAz2sgOfgCnG3p4n5IM6ayeaHTSv-0w==\n{\"data\":{\"UserReadModels\":null},\"errors\":[{\"path\":[\"UserReadModels\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for read model UserReadModel\"}]}\n"},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":254800,"millis":0.2548,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":6,"name":"List the users","description":"","durationMillis":95.3809,"startTime":1621531336277,"failed":false,"refId":"[1:6]","endTime":1621531336373,"exampleIndex":-1}],"name":"List all the users of the graphql API","passedCount":1}]},{"result":{"nanos":328100,"millis":0.3281,"status":"passed"},"step":{"line":114,"prefix":"*","index":31,"text":"match listUsers.response.errors contains deep { message: 'Access denied for read model UserReadModel'}"}},{"result":{"nanos":320100,"millis":0.3201,"status":"passed"},"step":{"endLine":125,"comments":["### Save new users"],"line":118,"prefix":"*","docString":"{ \n\t\"username\": \"user@test.com\", \n\t\"password\": \"Password_1\", \n\t\"role\": \"user\"\n}","index":32,"text":"def newUser ="},"stepLog":"19:22:16.392 over-writing existing variable 'newUser' with new value: { \n\t\"username\": \"user@test.com\", \n\t\"password\": \"Password_1\", \n\t\"role\": \"user\"\n}\n"},{"result":{"nanos":4205824100,"millis":4205.8241,"status":"passed"},"step":{"line":126,"prefix":"*","index":33,"text":"def saveUser = call read('SaveUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUser.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":4171.9937,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUser","relativePath":"test\/graphql\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"19:22:16.392 over-writing existing variable 'saveUser' with new value: call read('SaveUser.feature') userToken\n"},{"result":{"nanos":187200,"millis":0.1872,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":875100,"millis":0.8751,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":126700,"millis":0.1267,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":244500,"millis":0.2445,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":884900,"millis":0.8849,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":158757200,"millis":158.7572,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:22:16.416 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 249\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"user\",\"username\":\"user@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n19:22:16.572 response time in milliseconds: 156\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 144\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:16 GMT\n1 < x-amzn-RequestId: 3b50cf90-dcdd-428c-a9ca-70e01fc8473d\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0fXFwPDoEFhkA=\n1 < X-Amzn-Trace-Id: Root=1-60a69ac8-3bacd2d01a72f8ad560e0780;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bb4bb14bfdc4b50fa6e1881933804946.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: aXy8eMQ1xLTYvRMSFNhdeWOFRKJBSdm_W1QfOgJDgxPwtGcFyefAyA==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for command 'SaveUser'\"}]}\n"},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4010492700,"millis":4010.4927,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":396600,"millis":0.3966,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Save a new User","description":"","durationMillis":4171.9937,"startTime":1621531336412,"failed":false,"refId":"[1:9]","endTime":1621531340584,"exampleIndex":-1}],"name":"Generate a new user","passedCount":1}]},{"result":{"nanos":245200,"millis":0.2452,"status":"passed"},"step":{"endLine":132,"line":127,"prefix":"*","docString":"{\n   \"message\": \"Access denied for command 'SaveUser'\"\n}","index":34,"text":"def expected ="}},{"result":{"nanos":172500,"millis":0.1725,"status":"passed"},"step":{"line":133,"prefix":"*","index":35,"text":"match saveUser.response.errors contains deep expected"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"endLine":142,"comments":["### Delete user","# It isn't necessary that the user exist because it should response with a message of 'Access denied'"],"line":137,"prefix":"*","docString":"{\n   \"username\": \"user@test.com\"\n}","index":36,"text":"def usernameDelete ="}},{"result":{"nanos":4248140600,"millis":4248.1406,"status":"passed"},"step":{"line":143,"prefix":"*","index":37,"text":"def deleteUser = call read('DeleteUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/DeleteUser.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":4201.9729,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.DeleteUser","relativePath":"test\/graphql\/DeleteUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":102000,"millis":0.102,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":749800,"millis":0.7498,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def queryDeleteUser = read('DeleteUser.graphql')"}},{"result":{"nanos":346700,"millis":0.3467,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":420800,"millis":0.4208,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":459800,"millis":0.4598,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(queryDeleteUser)',  variables: '#(usernameDelete)'  }"}},{"result":{"nanos":186135800,"millis":186.1358,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:22:20.625 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 146\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"username\":\"user@test.com\"},\"query\":\"mutation DeleteUser($username: String) {\\r\\n    DeleteUser(input: {username: $username})\\r\\n}\"}\n\n19:22:20.809 response time in milliseconds: 183\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 150\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:20 GMT\n1 < x-amzn-RequestId: 0f2846d3-c757-4dfc-b109-8571c2c369a8\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0gBHTcDoEF1VQ=\n1 < X-Amzn-Trace-Id: Root=1-60a69acc-553daf6861e4d99f501ee208;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 32713ef80c317f26bc1691bc0aad3819.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: t0RnWuj0EgM1uQ2GzvrG-Sb0wQipxvbv1UxANyPScGSGbnW8jKQbyQ==\n{\"data\":{\"DeleteUser\":null},\"errors\":[{\"path\":[\"DeleteUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for command 'DeleteUser'\"}]}\n"},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4012537300,"millis":4012.5373,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be delete before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":1187100,"millis":1.1871,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Delete a user","description":"","durationMillis":4201.9729,"startTime":1621531340621,"failed":false,"refId":"[1:9]","endTime":1621531344824,"exampleIndex":-1}],"name":"Delete a user","passedCount":1}]},{"result":{"nanos":635900,"millis":0.6359,"status":"passed"},"step":{"endLine":149,"line":144,"prefix":"*","docString":"{\n   \"message\": \"Access denied for command 'DeleteUser'\"\n}","index":38,"text":"def expected ="},"stepLog":"19:22:24.847 over-writing existing variable 'expected' with new value: {\n   \"message\": \"Access denied for command 'DeleteUser'\"\n}\n"},{"result":{"nanos":163800,"millis":0.1638,"status":"passed"},"step":{"line":150,"prefix":"*","index":39,"text":"match deleteUser.response.errors contains deep expected"}},{"result":{"nanos":769100,"millis":0.7691,"status":"passed"},"step":{"endLine":159,"comments":["### List a user by id","# It isn't necessary that the user exist because it should response with a message of 'Access denied'"],"line":154,"prefix":"*","docString":"{\n\t\"id\": \"user@test.com\"\n}","index":40,"text":"def id ="},"stepLog":"19:22:24.849 over-writing existing variable 'id' with new value: {\n\t\"id\": \"user@test.com\"\n}\n"},{"result":{"nanos":166965200,"millis":166.9652,"status":"passed"},"step":{"line":160,"prefix":"*","index":41,"text":"def listUserDelete = call read('UserReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/UserReadModel.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":118.3666,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.UserReadModel","relativePath":"test\/graphql\/UserReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1087500,"millis":1.0875,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryUserReadModel = read('UserReadModel.graphql')"}},{"result":{"nanos":121800,"millis":0.1218,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":151600,"millis":0.1516,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":629600,"millis":0.6296,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryUserReadModel)', variables: '#(id)'}"}},{"result":{"nanos":115966100,"millis":115.9661,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:22:24.873 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 154\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"user@test.com\"},\"query\":\"query UserReadModel($id: ID!) {\\r\\n    UserReadModel(id: $id) {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n19:22:24.986 response time in milliseconds: 112\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 160\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:25 GMT\n1 < x-amzn-RequestId: 51f66d96-0c65-4604-9f9f-182971c78a9c\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0grEAtDoEFXIA=\n1 < X-Amzn-Trace-Id: Root=1-60a69ad1-1a7853833a559d48313be223;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 158bf65e81ba82d619c73dde6c7796a9.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: 4b1o6RM7izXpoiYtlYgMmBQHYmPXrhd7dzbqDAQ7JBzyShXdcmd9aQ==\n{\"data\":{\"UserReadModel\":null},\"errors\":[{\"path\":[\"UserReadModel\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for read model UserReadModel\"}]}\n"},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":373600,"millis":0.3736,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":6,"name":"List a user by id","description":"","durationMillis":118.3666,"startTime":1621531344869,"failed":false,"refId":"[1:6]","endTime":1621531344987,"exampleIndex":-1}],"name":"List a user by Id of the graphql API","passedCount":1}]},{"result":{"nanos":439700,"millis":0.4397,"status":"passed"},"step":{"line":161,"prefix":"*","index":42,"text":"match listUserDelete.response.errors contains deep { message: 'Access denied for read model UserReadModel'}"}},{"result":{"nanos":144800,"millis":0.1448,"status":"passed"},"step":{"endLine":171,"comments":["### Change the role of one user","# It isn't necessary that the user exist because it should response with a message of 'Access denied'"],"line":165,"prefix":"*","docString":"{\n  \"username\": \"user@test.com\",\n  \"role\": \"role\"\n}","index":43,"text":"def userChangeRole ="}},{"result":{"nanos":4181007700,"millis":4181.0077,"status":"passed"},"step":{"line":172,"prefix":"*","index":44,"text":"def change_role = call read('ChangeUserRole.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/ChangeUserRole.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":4110.1739,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1MzEzMTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTUzNDkxNCwiaWF0IjoxNjIxNTMxMzE0LCJqdGkiOiJiOTNmNjM2MS03MzUwLTQ1M2YtOGY1ZS0xNWE3ZDEzODRkMzEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4In0.p_p0F58fDk2zldpM-awtVn5LqOe5C7-hpol31at3C8XZuMxkYevf7y7o5ojV5e9YmKr38nSk8FY_56RED5KayDt8NxjyXBTURrUfjGH-vEPdr-ZPMDJa5YW8Sq3yJ4DO4NfXSoOWbFjYJVFgnJkvic8JcAjzlPk5dH-FG4zHIrOvdD6epzAVNsN2pA4KjO3COQ9j0nYaniV2RopEVb2lPVuD-lel94l7xsrkDpXdG2qDnBgSpgzqaPW5MUtesvhtJgeTmXZ1h06fYLnLm6S2lmOuZiLxeTH559AjBFrdWX78RIIxgmQ17PohjXh0bmdvTV4ANFK7_GLqNCC5yH9QgQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.QiK-I2RUGvbZofiHTKAVrxMMKwvgq51BMoNDu_J5QPzgHsZFXDpkky_YdvK8SbTAFKhoCOkHWYKQ7IDQy0AYFEB1rHV2c7I60iPbhhU8anmjSsZScy1nVWyxIKgynox8upoOC9gulk7US858TMXum0h1qcLEy_1lnHtOBdiKfvs2Fxrtg1vBLN3jsRcpn7DAfvT_TGpwK3nDtLRfWMLKhFb9QwK2w_lNXke_ZBtfvifQTakAzJhvaPHolDJ9DIqZqaC_dfRK6oV7L5sZWcQFpLkbxB3K5o-K_AQtgBGbqADgiv0PnSnQTFkYu2wDWOjt7rRQFtBZCvdBL6zPAiIvpA.xX7BKwdnoK14HzPr.CavoFHTufpE6rcg6OSGUQ9inVBwaD0Da2LTfI60E6c4fkaGnORKoTMFJVD4wfubG4H1Lj6_SHOfSmmsLv3CDm-6Kk4io-lXht6J36e-uSFVMXX8iokkFZNQ4Tj2zzn0szAYl_Kjibd4ItqMgqIGPffvERIpnRzLO7Z3IAlW5gvIAs25EWSJi2OL4yuWzGg5eJRBwEy57F1NKqCpvXDaaGtJag7UEsL3PA5VDsCrW3UloVNJgEmBFks2SIFH9MHrqsw-VosWESbcT_Xw3RRhCC3LXFArISBsei6mIrigh91hREur8n7B50Jq-YCJtczuyN1c02ZuyhGYVjJHCTNn06fA7q6sXB6NdcpDcFu1VL-LjCs5EmgfACWtf1h-yQO2iktkOSm2X--SgQ9rween4fqKxs_VncSaNs7OWS7eLj7_DZBt88iqkqMIPy9FEeonHGrDIU-_lLTfZ_OLLc_ZFGW0E6ulQjJD--ycB1ZwGAyXblfp0qqGdk0nNCvFcrnruI7D-XDIusEUYvlBzcWd7PG9pt6WgHC39M-r3REhP_IlkecM2ouZCFj7nd__6riMJ0HAJRGfmLKULsVhOiRarmV9l6mozlE7qGLRV38SzUnfJBcsONXNb_SB49oLKHMkncwDDdgGvvHGXcKuyo1y03Y7gyE0yTUMp5WWbjr6lDZJlYH8dsSwkEjRyrTA_g9vsqBjpdUVWBOfUguL8WjzpBNveaKLo3S_WA1HRIcbO-Yn9_K_i8XsiJCXsZmEky7qT33_CWoQ7NDs-9yTVDOhh5uE9TLRH9WQR4B_BQEJf7eeI3XJx-CNTNSH37AzhYfvO6-Uft-ekPiR9NHdqSO5p8k7RpN01UMviQqcVuLloSz4T85NbWVy9_sC7R_HCh5ePesGsm25WlJiuknGln6q9omd3ATLzEUeUmRifKXT-bHLWLk2jifz7Kxmm-zcJwWdCH9rgEumH2KqVuHawcvbqHbrKkfrmmwNR_hSdRjEnQbS6CZFvzWj4KBxUxYkupP3lvbti79rRhsvseVXTIG_guEw6f-EXnCLl5Hg1IoyjRH1SAkLl_SGISwfNGFzOyhSDCeVzpfI0vrZa_AbbgKmoczhz8vH-OqmAR1SJS-oSyw7jftB9KQEjFSHuYtbKtnSIrbXYt8EQq9G05lpHZNclI7vRh0aJqUAK715kwz-D-Ao0WtQeeCusnjg3VIx4ED1cG72m6GA2h3XPIv-m5VGX-0MMMwXrZydObOX8AdHEpHMfhXEiwZXmyabukF2AQrU6R9CwlaG0fa5sLZxJdTZ3GLZKC0tZEp0mAiyykDodvzKFHUQoeOJgxGB83EVJhCU.FcvNsk68CdlDSh5QmfSuLQ"},"failedCount":0,"packageQualifiedName":"test.graphql.ChangeUserRole","relativePath":"test\/graphql\/ChangeUserRole.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":105100,"millis":0.1051,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":791000,"millis":0.791,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":12,"prefix":"*","index":0,"text":"def queryChangeUserRole = read('ChangeUserRole.graphql')"}},{"result":{"nanos":358500,"millis":0.3585,"status":"passed"},"step":{"line":14,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":301200,"millis":0.3012,"status":"passed"},"step":{"line":15,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":662300,"millis":0.6623,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: '#(queryChangeUserRole)',  variables: '#(userChangeRole)'  }"}},{"result":{"nanos":92983400,"millis":92.9834,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method post"},"stepLog":"19:22:25.058 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJjNzUyYzVhYS04YzhkLTQxMjQtYjlkYy0yNWFjMTljMDFmYzgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImQ1ODdiMzQwLTYyZjgtNGZiYi1hNDM0LTQ4ODU4ZGRkZTgzZCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNTMxMzE0LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiYzc1MmM1YWEtOGM4ZC00MTI0LWI5ZGMtMjVhYzE5YzAxZmM4IiwiZXhwIjoxNjIxNTM0OTE0LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE1MzEzMTQsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.XSZgFXJjAVsutr4f9n40b2LhfBdxO07SZr1IXHqUlVdpMIkCmamZWx3_eWFxb4-S1Sp69wcgrxTzXwYDe_dJOMGuUYpVoF7BvGrL7LWAwWH3ONZuSBq9a9ifD_v3MrCqFyxHLodb7x7e9aZ3VQrmxf6XdvyCH2hPtgx5Xdw73bVFIGj52OuupJhgc6gcB1uxxpJWwuV4WUoP9gH0JOhpYL01fBV_5XsspkxGsLb3Ex9HxkpVb1XUugYPPdNu3olVVtZ-8jfDH5i01_xvfdgJ1A_U0noVG06c8YI1bOK4g5_XKk1U43F3Hx5902nTcLDQHEDPB1lyisSbDZzggfYAGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 194\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"role\":\"role\",\"username\":\"user@test.com\"},\"query\":\"mutation ChangeUserRole($username: String, $role: String) {\\r\\n  ChangeUserRole(input: {username: $username, role: $role})\\r\\n}\"}\n\n19:22:25.148 response time in milliseconds: 89\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 162\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 17:22:25 GMT\n1 < x-amzn-RequestId: 389f9b11-3306-44e7-9e76-9db69fee00bc\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fo0gsHiFjoEF1VQ=\n1 < X-Amzn-Trace-Id: Root=1-60a69ad1-6952902b47ea9eef0ccd2595;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 83f9969abb9f43b17789799503ae532d.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: u9qzbOCu3sShl8Qm_vQLc5wFJs6Tw_VOzE4jMluVXRLqan1Q_8vJNg==\n{\"data\":{\"ChangeUserRole\":null},\"errors\":[{\"path\":[\"ChangeUserRole\"],\"locations\":[{\"line\":2,\"column\":3}],\"message\":\"Access denied for command 'ChangeUserRole'\"}]}\n"},{"result":{"nanos":547100,"millis":0.5471,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4014408700,"millis":4014.4087,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":21,"prefix":"*","index":6,"text":"wait(4000)"}}],"executorName":"main","line":10,"name":"Change the role of a user","description":"","durationMillis":4110.1739,"startTime":1621531345054,"failed":false,"refId":"[1:10]","endTime":1621531349165,"exampleIndex":-1}],"name":"Change the role of one user","passedCount":1}]},{"result":{"nanos":392400,"millis":0.3924,"status":"passed"},"step":{"endLine":178,"line":173,"prefix":"*","docString":"{\n   \"message\": \"Access denied for command 'ChangeUserRole'\"\n}","index":45,"text":"def expected ="},"stepLog":"19:22:29.198 over-writing existing variable 'expected' with new value: {\n   \"message\": \"Access denied for command 'ChangeUserRole'\"\n}\n"},{"result":{"nanos":180500,"millis":0.1805,"status":"passed"},"step":{"line":179,"prefix":"*","index":46,"text":"match change_role.response.errors contains deep expected"}}],"executorName":"main","line":6,"name":"Test if the API met the acceptance criteria for an admin user","description":"","durationMillis":41587.8946,"startTime":1621531307449,"failed":false,"refId":"[1:6]","endTime":1621531349198,"exampleIndex":-1}],"callDepth":0,"name":"Test the graphql API for admin and not admin users","description":"","resultDate":"2021-05-20 07:22:29 p.Â m.","durationMillis":41587.8946,"passedCount":1}