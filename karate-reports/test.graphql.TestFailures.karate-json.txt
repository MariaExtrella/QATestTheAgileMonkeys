{"failedCount":1,"prefixedPath":"classpath:test\/graphql\/TestFailures.feature","packageQualifiedName":"test.graphql.TestFailures","loopIndex":-1,"relativePath":"test\/graphql\/TestFailures.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"01:27:36.563 karate.env system property was: prod \n"},{"result":{"nanos":44986000,"millis":44.986,"status":"passed"},"step":{"comments":["# It is necessary to sign in the API as admin to create a new user","# Read the admin datas from a *.json file"],"line":9,"prefix":"*","index":0,"text":"def adminDatas = read('signinDatasUser.json')"}},{"result":{"nanos":810723200,"millis":810.7232,"status":"passed"},"step":{"comments":["### Call the feature to sign in the API with the JSON file that contains the admin's datas"],"line":12,"prefix":"*","index":1,"text":"def signIn = call read('signin.feature') adminDatas"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-21 01:27:56 a.Â m.","durationMillis":793.8085,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"test.graphql.signin","relativePath":"test\/graphql\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":2375500,"millis":2.3755,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":4040400,"millis":4.0404,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"01:27:36.659 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":7342300,"millis":7.3423,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":748600,"millis":0.7486,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":777451100,"millis":777.4511,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"01:27:36.899 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n01:27:37.443 response time in milliseconds: 541\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 23:27:37 GMT\n1 < x-amzn-RequestId: 13d9bf69-5523-46ca-8d6b-0ba30fc542ed\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fpqAcGwODoEF0cw=\n1 < X-Amzn-Trace-Id: Root=1-60a6f069-2317e870699b74022324d859\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c5c852ebeabe49b08625d425153869fe.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: GZw_fVN0-BK86a2L8bV1S9XnZHsNXQUfjhpfaBRliZBkqqylfVkviw==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjFhMTI5MDQ5LWVmNTAtNDdhYi05MjhiLTkyYzNkYTc5MDdlNSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1NTMyNTcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTU1Njg1NywiaWF0IjoxNjIxNTUzMjU3LCJqdGkiOiIwODJjMDhkNC05YzAyLTRmMGEtYTRkYy0yYTI0MzQyMjg2ZGYiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.FyLl6A1rjpT3AEErLxxHLsdUnuWHXsw39Ad4g3F-VxVD5dPHyHs7bIaMfFDJ53kDxBCALpQEOtOmbvv44tN9u7eonxyEndKRYe6uhz15oQdGs29srq26jLkTA3exPGI8bZ0fCnIouyMSP48BAvbnu2xJWJm_kh-J5vTlEjMD2NU1kdxLq5VUHOb6G4OH19nvZ_vtTDnJYKIVewfJo2BF6bRjV3Jaf-TymnA4jhPFfU6V6FL7-T3rrHa6BE3Fu4cInvUwKth79bFZ6_2DyuEbxL8-Kjg-S42gqCq6R9c8RkthC0DOFwCZnzLPXhNa18wmP3swNhY6crqatMvWsLzSzg\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.InYiJQw6EiAJzjHj6lxVQgLzqj0FMqbs0X9Nc-rAuRsdr2NP8hRpbKsqhIajXXpNgDuzjxh-LgXG6oLqKHh4YZdO-zAGVcFTIptsbP7oKy9eJOwiGuagQH2JtL7ri9XzwuymXpz4WdvAawvLBiZxGAAqIIwF9sm0u2nI-5RWkPolmrUcvh0jXdk7j52-S3mQYOyZ4TQ58JG7HwAqx3Q6oeEWXGWGtwA9tAHn9HCi9y8w-DhN1TPTIAeLvy75e6U98xDsOPp29UjCE4Bt6os8wwaJ4XQ17jjt4YPEM5Pevhz-BE0Il8lF-oM_xActMds774KJuTiUj2mPiOEPJcIh7g.BLlZ-ZoJKXy0JnYp.Hj8LRJA41foxduFyxJN4BC8bJKHRLNKYQ8XxmH2Go9cWK_i1WU4zqM0FnCOOAaT3Uj0-3y29a0AZHaAzMqfDdYOFMYdr8bhO7QB9xmLq3cdRrtdVcr9n1KYQQ_XDFuW_p870gpH92jKoAU7gFl99esZu2BqYdlRb3uvJTs--k1_AVd8qQHM1ZZFwaLAMQPNsaXEyathYkbANzkFZ7tDVv3oCSXD1m8OOSlywy0yDelKnaamBD5hCkd9P0kPHRPCG1HLyXkAZ5H3AY7g-ZKZbSVZjDq89FQtb1YeVQJ-HqD3bZtW5W0LTPWPT1jpNPq23MPbz-ffAacfk8T7uDXxrG30-mlPov6wBZ-nUlSw1tYzOiR0VmvTXm9My_EqjszXNyKUDkd0mjO4LGHRN8shGEncCZIA7w3_y5JRzBUyiwqH8G_qiMGIEumfuhKMaO0crKHjDpD3-7R9whE5b-dmg0c0sj0XzMD_hEArJ65xyiecbYJq4Qq-_JAx-BJ_bQb0fPFN0M7XOMlyK24HRsni1PYE49pZervwWvMvpt6wlqtyyZ4cdvTojSSPiYY-HlBP2eQbccUQd1oXwuG84oQT5hxgVUko99B4ryeXNH55x21xwUgypwqXmurG0aisH0wTDXceJp9_ck_84pWR4hYqlCU3u3HK9dEX0RTwZisDFH3FzFfv5PQAxuddli8IMI8B4CDQ8k0QjS3eKO9BxDdMEbd8t_E6o5eRynV6uu2pFrOKEH5FuR0F7XX3VzGYe7Cpr9Cje3WV78KfeoGdKf3URu-DkIKd06gkditXrhGXXg4ibtgI8Z6ZvqPF7c32-t298TVssJrd7LIhqTxDaqWFnVcLfJ6MzuWfXW3J62SGemRleTXDgdIpf8TTkFZJZgB4rUwmfQZOnVNZIujFnMQ_yt9VcFK2SsrA90E95Ra9dj0dp4QyWY3wcVnaOPM85QJsKpQGhNrxkoLziiasaHL84QyDp1Km0zh9_S9ZQrqT9YIeRjJETPiZX73AtUjlEgPSRf3z2fdb2OOgx2wvEePuXnG0wkIiHsxfYZf29yzXefLU1yc3lpOH9Y4-W9EhYNUgF7iwaVQYYdpAhshbrcC7g9rYO-OQI2nHOy6BUcqchG4-eAXylLE72esuPJdF8o7ThTL8tY8_kaqdlLzvttVBqfX4T6r9_ddkPh_CQYTunGf5nKDz5jMFGEEzm_73gAYl51-mjJqk7Kl5F9aDptrGU2v71QtmELAUEvwOJn7QDuaBi1cwVX8oNwVmTotbl9i0dXL5-koURFGYLXzNQbU_A3mn20ey_Sq3QrbdkIbaHseRAPqfEckBm-xgdk3Que68.dYK0uN3UPnQ79oJEvxpkdQ\"}\n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":924200,"millis":0.9242,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":810800,"millis":0.8108,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"01:27:37.448 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":793.8085,"startTime":1621553256653,"failed":false,"refId":"[1:6]","endTime":1621553257448,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":2382700,"millis":2.3827,"status":"passed"},"step":{"line":13,"prefix":"*","index":2,"text":"print signIn.response"},"stepLog":"01:27:37.453 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjFhMTI5MDQ5LWVmNTAtNDdhYi05MjhiLTkyYzNkYTc5MDdlNSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1NTMyNTcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTU1Njg1NywiaWF0IjoxNjIxNTUzMjU3LCJqdGkiOiIwODJjMDhkNC05YzAyLTRmMGEtYTRkYy0yYTI0MzQyMjg2ZGYiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.FyLl6A1rjpT3AEErLxxHLsdUnuWHXsw39Ad4g3F-VxVD5dPHyHs7bIaMfFDJ53kDxBCALpQEOtOmbvv44tN9u7eonxyEndKRYe6uhz15oQdGs29srq26jLkTA3exPGI8bZ0fCnIouyMSP48BAvbnu2xJWJm_kh-J5vTlEjMD2NU1kdxLq5VUHOb6G4OH19nvZ_vtTDnJYKIVewfJo2BF6bRjV3Jaf-TymnA4jhPFfU6V6FL7-T3rrHa6BE3Fu4cInvUwKth79bFZ6_2DyuEbxL8-Kjg-S42gqCq6R9c8RkthC0DOFwCZnzLPXhNa18wmP3swNhY6crqatMvWsLzSzg\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.InYiJQw6EiAJzjHj6lxVQgLzqj0FMqbs0X9Nc-rAuRsdr2NP8hRpbKsqhIajXXpNgDuzjxh-LgXG6oLqKHh4YZdO-zAGVcFTIptsbP7oKy9eJOwiGuagQH2JtL7ri9XzwuymXpz4WdvAawvLBiZxGAAqIIwF9sm0u2nI-5RWkPolmrUcvh0jXdk7j52-S3mQYOyZ4TQ58JG7HwAqx3Q6oeEWXGWGtwA9tAHn9HCi9y8w-DhN1TPTIAeLvy75e6U98xDsOPp29UjCE4Bt6os8wwaJ4XQ17jjt4YPEM5Pevhz-BE0Il8lF-oM_xActMds774KJuTiUj2mPiOEPJcIh7g.BLlZ-ZoJKXy0JnYp.Hj8LRJA41foxduFyxJN4BC8bJKHRLNKYQ8XxmH2Go9cWK_i1WU4zqM0FnCOOAaT3Uj0-3y29a0AZHaAzMqfDdYOFMYdr8bhO7QB9xmLq3cdRrtdVcr9n1KYQQ_XDFuW_p870gpH92jKoAU7gFl99esZu2BqYdlRb3uvJTs--k1_AVd8qQHM1ZZFwaLAMQPNsaXEyathYkbANzkFZ7tDVv3oCSXD1m8OOSlywy0yDelKnaamBD5hCkd9P0kPHRPCG1HLyXkAZ5H3AY7g-ZKZbSVZjDq89FQtb1YeVQJ-HqD3bZtW5W0LTPWPT1jpNPq23MPbz-ffAacfk8T7uDXxrG30-mlPov6wBZ-nUlSw1tYzOiR0VmvTXm9My_EqjszXNyKUDkd0mjO4LGHRN8shGEncCZIA7w3_y5JRzBUyiwqH8G_qiMGIEumfuhKMaO0crKHjDpD3-7R9whE5b-dmg0c0sj0XzMD_hEArJ65xyiecbYJq4Qq-_JAx-BJ_bQb0fPFN0M7XOMlyK24HRsni1PYE49pZervwWvMvpt6wlqtyyZ4cdvTojSSPiYY-HlBP2eQbccUQd1oXwuG84oQT5hxgVUko99B4ryeXNH55x21xwUgypwqXmurG0aisH0wTDXceJp9_ck_84pWR4hYqlCU3u3HK9dEX0RTwZisDFH3FzFfv5PQAxuddli8IMI8B4CDQ8k0QjS3eKO9BxDdMEbd8t_E6o5eRynV6uu2pFrOKEH5FuR0F7XX3VzGYe7Cpr9Cje3WV78KfeoGdKf3URu-DkIKd06gkditXrhGXXg4ibtgI8Z6ZvqPF7c32-t298TVssJrd7LIhqTxDaqWFnVcLfJ6MzuWfXW3J62SGemRleTXDgdIpf8TTkFZJZgB4rUwmfQZOnVNZIujFnMQ_yt9VcFK2SsrA90E95Ra9dj0dp4QyWY3wcVnaOPM85QJsKpQGhNrxkoLziiasaHL84QyDp1Km0zh9_S9ZQrqT9YIeRjJETPiZX73AtUjlEgPSRf3z2fdb2OOgx2wvEePuXnG0wkIiHsxfYZf29yzXefLU1yc3lpOH9Y4-W9EhYNUgF7iwaVQYYdpAhshbrcC7g9rYO-OQI2nHOy6BUcqchG4-eAXylLE72esuPJdF8o7ThTL8tY8_kaqdlLzvttVBqfX4T6r9_ddkPh_CQYTunGf5nKDz5jMFGEEzm_73gAYl51-mjJqk7Kl5F9aDptrGU2v71QtmELAUEvwOJn7QDuaBi1cwVX8oNwVmTotbl9i0dXL5-koURFGYLXzNQbU_A3mn20ey_Sq3QrbdkIbaHseRAPqfEckBm-xgdk3Que68.dYK0uN3UPnQ79oJEvxpkdQ\"\n}\n \n"},{"result":{"nanos":931400,"millis":0.9314,"status":"passed"},"step":{"comments":["# The token for the admin user is the input parameter for the callable feature where are defined the steps of the tests"],"line":15,"prefix":"*","index":3,"text":"def userToken = signIn.response"}},{"result":{"nanos":234100,"millis":0.2341,"status":"passed"},"step":{"endLine":25,"comments":["### Test to create a user with a wrong password"],"line":18,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Pass\", \n\t\"role\": \"user\"\n}","index":4,"text":"def newUser ="}},{"result":{"nanos":141100,"millis":0.1411,"status":"passed"},"step":{"endLine":33,"comments":["#    * def saveUser = call read('SaveUser.feature') userToken","# Check that the query fail because the password is too short"],"line":28,"prefix":"*","docString":"{\n   \"message\": \"Password does not conform to policy: Password not long enough\"\n}","index":5,"text":"def expected ="}},{"result":{"nanos":1121600,"millis":1.1216,"status":"passed"},"step":{"endLine":44,"comments":["#     * match saveUser.response.errors contains deep expected","# Try to create again but with another wrong password"],"line":37,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password111\", \n\t\"role\": \"User\"\n}","index":6,"text":"def newUser ="},"stepLog":"01:27:37.455 over-writing existing variable 'newUser' with new value: { \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password111\", \n\t\"role\": \"User\"\n}\n"},{"result":{"nanos":426000,"millis":0.426,"status":"passed"},"step":{"endLine":52,"comments":["#     * def saveUser = call read('SaveUser.feature') userToken","# Check that the query fail because the password is too short"],"line":47,"prefix":"*","docString":"{\n   \"message\": \"Password does not conform to policy: Password must have symbol characters\"\n}","index":7,"text":"def expected ="},"stepLog":"01:27:37.456 over-writing existing variable 'expected' with new value: {\n   \"message\": \"Password does not conform to policy: Password must have symbol characters\"\n}\n"},{"result":{"nanos":276800,"millis":0.2768,"status":"passed"},"step":{"endLine":63,"comments":["#     * match saveUser.response.errors contains deep expected","# Try to create a new user with the role empty"],"line":57,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password_1\" \n}","index":8,"text":"def newUser ="},"stepLog":"01:27:37.456 over-writing existing variable 'newUser' with new value: { \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password_1\" \n}\n"},{"result":{"nanos":5165857300,"millis":5165.8573,"status":"passed"},"step":{"line":64,"prefix":"*","index":9,"text":"def saveUser = call read('SaveUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUser.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-21 01:27:56 a.Â m.","durationMillis":5146.5763,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjFhMTI5MDQ5LWVmNTAtNDdhYi05MjhiLTkyYzNkYTc5MDdlNSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1NTMyNTcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTU1Njg1NywiaWF0IjoxNjIxNTUzMjU3LCJqdGkiOiIwODJjMDhkNC05YzAyLTRmMGEtYTRkYy0yYTI0MzQyMjg2ZGYiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.FyLl6A1rjpT3AEErLxxHLsdUnuWHXsw39Ad4g3F-VxVD5dPHyHs7bIaMfFDJ53kDxBCALpQEOtOmbvv44tN9u7eonxyEndKRYe6uhz15oQdGs29srq26jLkTA3exPGI8bZ0fCnIouyMSP48BAvbnu2xJWJm_kh-J5vTlEjMD2NU1kdxLq5VUHOb6G4OH19nvZ_vtTDnJYKIVewfJo2BF6bRjV3Jaf-TymnA4jhPFfU6V6FL7-T3rrHa6BE3Fu4cInvUwKth79bFZ6_2DyuEbxL8-Kjg-S42gqCq6R9c8RkthC0DOFwCZnzLPXhNa18wmP3swNhY6crqatMvWsLzSzg","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.InYiJQw6EiAJzjHj6lxVQgLzqj0FMqbs0X9Nc-rAuRsdr2NP8hRpbKsqhIajXXpNgDuzjxh-LgXG6oLqKHh4YZdO-zAGVcFTIptsbP7oKy9eJOwiGuagQH2JtL7ri9XzwuymXpz4WdvAawvLBiZxGAAqIIwF9sm0u2nI-5RWkPolmrUcvh0jXdk7j52-S3mQYOyZ4TQ58JG7HwAqx3Q6oeEWXGWGtwA9tAHn9HCi9y8w-DhN1TPTIAeLvy75e6U98xDsOPp29UjCE4Bt6os8wwaJ4XQ17jjt4YPEM5Pevhz-BE0Il8lF-oM_xActMds774KJuTiUj2mPiOEPJcIh7g.BLlZ-ZoJKXy0JnYp.Hj8LRJA41foxduFyxJN4BC8bJKHRLNKYQ8XxmH2Go9cWK_i1WU4zqM0FnCOOAaT3Uj0-3y29a0AZHaAzMqfDdYOFMYdr8bhO7QB9xmLq3cdRrtdVcr9n1KYQQ_XDFuW_p870gpH92jKoAU7gFl99esZu2BqYdlRb3uvJTs--k1_AVd8qQHM1ZZFwaLAMQPNsaXEyathYkbANzkFZ7tDVv3oCSXD1m8OOSlywy0yDelKnaamBD5hCkd9P0kPHRPCG1HLyXkAZ5H3AY7g-ZKZbSVZjDq89FQtb1YeVQJ-HqD3bZtW5W0LTPWPT1jpNPq23MPbz-ffAacfk8T7uDXxrG30-mlPov6wBZ-nUlSw1tYzOiR0VmvTXm9My_EqjszXNyKUDkd0mjO4LGHRN8shGEncCZIA7w3_y5JRzBUyiwqH8G_qiMGIEumfuhKMaO0crKHjDpD3-7R9whE5b-dmg0c0sj0XzMD_hEArJ65xyiecbYJq4Qq-_JAx-BJ_bQb0fPFN0M7XOMlyK24HRsni1PYE49pZervwWvMvpt6wlqtyyZ4cdvTojSSPiYY-HlBP2eQbccUQd1oXwuG84oQT5hxgVUko99B4ryeXNH55x21xwUgypwqXmurG0aisH0wTDXceJp9_ck_84pWR4hYqlCU3u3HK9dEX0RTwZisDFH3FzFfv5PQAxuddli8IMI8B4CDQ8k0QjS3eKO9BxDdMEbd8t_E6o5eRynV6uu2pFrOKEH5FuR0F7XX3VzGYe7Cpr9Cje3WV78KfeoGdKf3URu-DkIKd06gkditXrhGXXg4ibtgI8Z6ZvqPF7c32-t298TVssJrd7LIhqTxDaqWFnVcLfJ6MzuWfXW3J62SGemRleTXDgdIpf8TTkFZJZgB4rUwmfQZOnVNZIujFnMQ_yt9VcFK2SsrA90E95Ra9dj0dp4QyWY3wcVnaOPM85QJsKpQGhNrxkoLziiasaHL84QyDp1Km0zh9_S9ZQrqT9YIeRjJETPiZX73AtUjlEgPSRf3z2fdb2OOgx2wvEePuXnG0wkIiHsxfYZf29yzXefLU1yc3lpOH9Y4-W9EhYNUgF7iwaVQYYdpAhshbrcC7g9rYO-OQI2nHOy6BUcqchG4-eAXylLE72esuPJdF8o7ThTL8tY8_kaqdlLzvttVBqfX4T6r9_ddkPh_CQYTunGf5nKDz5jMFGEEzm_73gAYl51-mjJqk7Kl5F9aDptrGU2v71QtmELAUEvwOJn7QDuaBi1cwVX8oNwVmTotbl9i0dXL5-koURFGYLXzNQbU_A3mn20ey_Sq3QrbdkIbaHseRAPqfEckBm-xgdk3Que68.dYK0uN3UPnQ79oJEvxpkdQ"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUser","relativePath":"test\/graphql\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1261800,"millis":1.2618,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1033700,"millis":1.0337,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":457400,"millis":0.4574,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":13426100,"millis":13.4261,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":867500,"millis":0.8675,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":1105809800,"millis":1105.8098,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"01:27:37.485 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 243\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"username\":\"userNotAdmin@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n01:27:38.587 response time in milliseconds: 1101\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 26\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 23:27:38 GMT\n1 < x-amzn-RequestId: bd44560f-e1f5-4c89-8d92-8cadfc635298\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fpqAgGTyDoEFdVA=\n1 < X-Amzn-Trace-Id: Root=1-60a6f069-5d6672691a2fd0af73cb50a7;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 59f22b7f31477bb26619c4c93f750e06.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: p2oq35XNeTYaPyKBJgq3unpfoNzwa1NdcJ1K2nTB1-jYKKxJOl5NLQ==\n{\"data\":{\"SaveUser\":true}}\n"},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4022131100,"millis":4022.1311,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":1554400,"millis":1.5544,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Save a new User","description":"","durationMillis":5146.5763,"startTime":1621553257466,"failed":false,"refId":"[1:9]","endTime":1621553262614,"exampleIndex":-1}],"name":"Generate a new user","passedCount":1}]},{"result":{"nanos":7612500,"millis":7.6125,"status":"passed"},"step":{"comments":["# The user is created and the default value fo the role is 'User'"],"line":66,"prefix":"*","index":10,"text":"match saveUser.response.errors == '#notpresent'"}},{"result":{"nanos":437000,"millis":0.437,"status":"passed"},"step":{"endLine":77,"comments":["# Try to create a new user whith a username that already exist"],"line":70,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password_1\",\n\t\"role\": \"User\"\n}","index":11,"text":"def newUser ="},"stepLog":"01:27:42.630 over-writing existing variable 'newUser' with new value: { \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password_1\",\n\t\"role\": \"User\"\n}\n"},{"result":{"nanos":4690823800,"millis":4690.8238,"status":"passed"},"step":{"line":78,"prefix":"*","index":12,"text":"def saveUser = call read('SaveUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUser.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-21 01:27:56 a.Â m.","durationMillis":4676.5146,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjFhMTI5MDQ5LWVmNTAtNDdhYi05MjhiLTkyYzNkYTc5MDdlNSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1NTMyNTcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTU1Njg1NywiaWF0IjoxNjIxNTUzMjU3LCJqdGkiOiIwODJjMDhkNC05YzAyLTRmMGEtYTRkYy0yYTI0MzQyMjg2ZGYiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.FyLl6A1rjpT3AEErLxxHLsdUnuWHXsw39Ad4g3F-VxVD5dPHyHs7bIaMfFDJ53kDxBCALpQEOtOmbvv44tN9u7eonxyEndKRYe6uhz15oQdGs29srq26jLkTA3exPGI8bZ0fCnIouyMSP48BAvbnu2xJWJm_kh-J5vTlEjMD2NU1kdxLq5VUHOb6G4OH19nvZ_vtTDnJYKIVewfJo2BF6bRjV3Jaf-TymnA4jhPFfU6V6FL7-T3rrHa6BE3Fu4cInvUwKth79bFZ6_2DyuEbxL8-Kjg-S42gqCq6R9c8RkthC0DOFwCZnzLPXhNa18wmP3swNhY6crqatMvWsLzSzg","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.InYiJQw6EiAJzjHj6lxVQgLzqj0FMqbs0X9Nc-rAuRsdr2NP8hRpbKsqhIajXXpNgDuzjxh-LgXG6oLqKHh4YZdO-zAGVcFTIptsbP7oKy9eJOwiGuagQH2JtL7ri9XzwuymXpz4WdvAawvLBiZxGAAqIIwF9sm0u2nI-5RWkPolmrUcvh0jXdk7j52-S3mQYOyZ4TQ58JG7HwAqx3Q6oeEWXGWGtwA9tAHn9HCi9y8w-DhN1TPTIAeLvy75e6U98xDsOPp29UjCE4Bt6os8wwaJ4XQ17jjt4YPEM5Pevhz-BE0Il8lF-oM_xActMds774KJuTiUj2mPiOEPJcIh7g.BLlZ-ZoJKXy0JnYp.Hj8LRJA41foxduFyxJN4BC8bJKHRLNKYQ8XxmH2Go9cWK_i1WU4zqM0FnCOOAaT3Uj0-3y29a0AZHaAzMqfDdYOFMYdr8bhO7QB9xmLq3cdRrtdVcr9n1KYQQ_XDFuW_p870gpH92jKoAU7gFl99esZu2BqYdlRb3uvJTs--k1_AVd8qQHM1ZZFwaLAMQPNsaXEyathYkbANzkFZ7tDVv3oCSXD1m8OOSlywy0yDelKnaamBD5hCkd9P0kPHRPCG1HLyXkAZ5H3AY7g-ZKZbSVZjDq89FQtb1YeVQJ-HqD3bZtW5W0LTPWPT1jpNPq23MPbz-ffAacfk8T7uDXxrG30-mlPov6wBZ-nUlSw1tYzOiR0VmvTXm9My_EqjszXNyKUDkd0mjO4LGHRN8shGEncCZIA7w3_y5JRzBUyiwqH8G_qiMGIEumfuhKMaO0crKHjDpD3-7R9whE5b-dmg0c0sj0XzMD_hEArJ65xyiecbYJq4Qq-_JAx-BJ_bQb0fPFN0M7XOMlyK24HRsni1PYE49pZervwWvMvpt6wlqtyyZ4cdvTojSSPiYY-HlBP2eQbccUQd1oXwuG84oQT5hxgVUko99B4ryeXNH55x21xwUgypwqXmurG0aisH0wTDXceJp9_ck_84pWR4hYqlCU3u3HK9dEX0RTwZisDFH3FzFfv5PQAxuddli8IMI8B4CDQ8k0QjS3eKO9BxDdMEbd8t_E6o5eRynV6uu2pFrOKEH5FuR0F7XX3VzGYe7Cpr9Cje3WV78KfeoGdKf3URu-DkIKd06gkditXrhGXXg4ibtgI8Z6ZvqPF7c32-t298TVssJrd7LIhqTxDaqWFnVcLfJ6MzuWfXW3J62SGemRleTXDgdIpf8TTkFZJZgB4rUwmfQZOnVNZIujFnMQ_yt9VcFK2SsrA90E95Ra9dj0dp4QyWY3wcVnaOPM85QJsKpQGhNrxkoLziiasaHL84QyDp1Km0zh9_S9ZQrqT9YIeRjJETPiZX73AtUjlEgPSRf3z2fdb2OOgx2wvEePuXnG0wkIiHsxfYZf29yzXefLU1yc3lpOH9Y4-W9EhYNUgF7iwaVQYYdpAhshbrcC7g9rYO-OQI2nHOy6BUcqchG4-eAXylLE72esuPJdF8o7ThTL8tY8_kaqdlLzvttVBqfX4T6r9_ddkPh_CQYTunGf5nKDz5jMFGEEzm_73gAYl51-mjJqk7Kl5F9aDptrGU2v71QtmELAUEvwOJn7QDuaBi1cwVX8oNwVmTotbl9i0dXL5-koURFGYLXzNQbU_A3mn20ey_Sq3QrbdkIbaHseRAPqfEckBm-xgdk3Que68.dYK0uN3UPnQ79oJEvxpkdQ"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUser","relativePath":"test\/graphql\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"01:27:42.631 over-writing existing variable 'saveUser' with new value: call read('SaveUser.feature') userToken\n"},{"result":{"nanos":491000,"millis":0.491,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":892300,"millis":0.8923,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":310000,"millis":0.31,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":332600,"millis":0.3326,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":330200,"millis":0.3302,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":657387900,"millis":657.3879,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"01:27:42.645 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 257\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"User\",\"username\":\"userNotAdmin@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n01:27:43.298 response time in milliseconds: 652\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 155\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 23:27:43 GMT\n1 < x-amzn-RequestId: 9c3e56d9-f36b-4172-9d30-406585f239b1\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fpqBUEhEDoEFSJA=\n1 < X-Amzn-Trace-Id: Root=1-60a6f06e-2dc934763f7e6977479ef9f3;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 84edc0906da5023aac71c5fb4a35cd89.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: yGAxktsFBSxKFw1mjN6KHU8Q4mwsGxHCzIP1BVQYvvVAvPC6MYoN4Q==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"An account with the given email already exists.\"}]}\n"},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4016299900,"millis":4016.2999,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":385400,"millis":0.3854,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Save a new User","description":"","durationMillis":4676.5146,"startTime":1621553262640,"failed":false,"refId":"[1:9]","endTime":1621553267318,"exampleIndex":-1}],"name":"Generate a new user","passedCount":1}]},{"result":{"nanos":647400,"millis":0.6474,"status":"passed"},"step":{"endLine":85,"comments":["# Check that the default value is 'User'"],"line":80,"prefix":"*","docString":"{\n   \"message\":\"An account with the given email already exists.\"\n}","index":13,"text":"def expected ="},"stepLog":"01:27:47.323 over-writing existing variable 'expected' with new value: {\n   \"message\":\"An account with the given email already exists.\"\n}\n"},{"result":{"nanos":239700,"millis":0.2397,"status":"passed"},"step":{"line":87,"prefix":"*","index":14,"text":"match saveUser.response.errors contains deep expected"}},{"result":{"nanos":133000,"millis":0.133,"status":"passed"},"step":{"endLine":96,"comments":["### Create a new customers without name and surname","# It should fail because they are mandatory fields"],"line":91,"prefix":"*","docString":"{\n   \"id\": \"idCustomer\"\n}\n\"","index":15,"text":"def newCustomer ="}},{"result":{"nanos":4308261800,"millis":4308.2618,"status":"passed"},"step":{"line":97,"prefix":"*","index":16,"text":"def saveCustomer = call read('SaveCustomer.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveCustomer.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-21 01:27:56 a.Â m.","durationMillis":4296.1317,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjFhMTI5MDQ5LWVmNTAtNDdhYi05MjhiLTkyYzNkYTc5MDdlNSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1NTMyNTcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTU1Njg1NywiaWF0IjoxNjIxNTUzMjU3LCJqdGkiOiIwODJjMDhkNC05YzAyLTRmMGEtYTRkYy0yYTI0MzQyMjg2ZGYiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.FyLl6A1rjpT3AEErLxxHLsdUnuWHXsw39Ad4g3F-VxVD5dPHyHs7bIaMfFDJ53kDxBCALpQEOtOmbvv44tN9u7eonxyEndKRYe6uhz15oQdGs29srq26jLkTA3exPGI8bZ0fCnIouyMSP48BAvbnu2xJWJm_kh-J5vTlEjMD2NU1kdxLq5VUHOb6G4OH19nvZ_vtTDnJYKIVewfJo2BF6bRjV3Jaf-TymnA4jhPFfU6V6FL7-T3rrHa6BE3Fu4cInvUwKth79bFZ6_2DyuEbxL8-Kjg-S42gqCq6R9c8RkthC0DOFwCZnzLPXhNa18wmP3swNhY6crqatMvWsLzSzg","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.InYiJQw6EiAJzjHj6lxVQgLzqj0FMqbs0X9Nc-rAuRsdr2NP8hRpbKsqhIajXXpNgDuzjxh-LgXG6oLqKHh4YZdO-zAGVcFTIptsbP7oKy9eJOwiGuagQH2JtL7ri9XzwuymXpz4WdvAawvLBiZxGAAqIIwF9sm0u2nI-5RWkPolmrUcvh0jXdk7j52-S3mQYOyZ4TQ58JG7HwAqx3Q6oeEWXGWGtwA9tAHn9HCi9y8w-DhN1TPTIAeLvy75e6U98xDsOPp29UjCE4Bt6os8wwaJ4XQ17jjt4YPEM5Pevhz-BE0Il8lF-oM_xActMds774KJuTiUj2mPiOEPJcIh7g.BLlZ-ZoJKXy0JnYp.Hj8LRJA41foxduFyxJN4BC8bJKHRLNKYQ8XxmH2Go9cWK_i1WU4zqM0FnCOOAaT3Uj0-3y29a0AZHaAzMqfDdYOFMYdr8bhO7QB9xmLq3cdRrtdVcr9n1KYQQ_XDFuW_p870gpH92jKoAU7gFl99esZu2BqYdlRb3uvJTs--k1_AVd8qQHM1ZZFwaLAMQPNsaXEyathYkbANzkFZ7tDVv3oCSXD1m8OOSlywy0yDelKnaamBD5hCkd9P0kPHRPCG1HLyXkAZ5H3AY7g-ZKZbSVZjDq89FQtb1YeVQJ-HqD3bZtW5W0LTPWPT1jpNPq23MPbz-ffAacfk8T7uDXxrG30-mlPov6wBZ-nUlSw1tYzOiR0VmvTXm9My_EqjszXNyKUDkd0mjO4LGHRN8shGEncCZIA7w3_y5JRzBUyiwqH8G_qiMGIEumfuhKMaO0crKHjDpD3-7R9whE5b-dmg0c0sj0XzMD_hEArJ65xyiecbYJq4Qq-_JAx-BJ_bQb0fPFN0M7XOMlyK24HRsni1PYE49pZervwWvMvpt6wlqtyyZ4cdvTojSSPiYY-HlBP2eQbccUQd1oXwuG84oQT5hxgVUko99B4ryeXNH55x21xwUgypwqXmurG0aisH0wTDXceJp9_ck_84pWR4hYqlCU3u3HK9dEX0RTwZisDFH3FzFfv5PQAxuddli8IMI8B4CDQ8k0QjS3eKO9BxDdMEbd8t_E6o5eRynV6uu2pFrOKEH5FuR0F7XX3VzGYe7Cpr9Cje3WV78KfeoGdKf3URu-DkIKd06gkditXrhGXXg4ibtgI8Z6ZvqPF7c32-t298TVssJrd7LIhqTxDaqWFnVcLfJ6MzuWfXW3J62SGemRleTXDgdIpf8TTkFZJZgB4rUwmfQZOnVNZIujFnMQ_yt9VcFK2SsrA90E95Ra9dj0dp4QyWY3wcVnaOPM85QJsKpQGhNrxkoLziiasaHL84QyDp1Km0zh9_S9ZQrqT9YIeRjJETPiZX73AtUjlEgPSRf3z2fdb2OOgx2wvEePuXnG0wkIiHsxfYZf29yzXefLU1yc3lpOH9Y4-W9EhYNUgF7iwaVQYYdpAhshbrcC7g9rYO-OQI2nHOy6BUcqchG4-eAXylLE72esuPJdF8o7ThTL8tY8_kaqdlLzvttVBqfX4T6r9_ddkPh_CQYTunGf5nKDz5jMFGEEzm_73gAYl51-mjJqk7Kl5F9aDptrGU2v71QtmELAUEvwOJn7QDuaBi1cwVX8oNwVmTotbl9i0dXL5-koURFGYLXzNQbU_A3mn20ey_Sq3QrbdkIbaHseRAPqfEckBm-xgdk3Que68.dYK0uN3UPnQ79oJEvxpkdQ"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveCustomer","relativePath":"test\/graphql\/SaveCustomer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":219300,"millis":0.2193,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1179800,"millis":1.1798,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":10173700,"millis":10.1737,"status":"passed"},"step":{"endLine":22,"comments":["# The body of the graphql request is a JSON with the generated values"],"line":14,"prefix":"*","docString":"{ \n\t\"id\": \"#(first_customer.id)\", \n\t\"name\": \"#(first_customer.name)\", \n\t\"surname\": \"#(first_customer.surname)\",\n\t\"photo\": \"#(first_customer.photo)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":234700,"millis":0.2347,"status":"passed"},"step":{"line":24,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":263100,"millis":0.2631,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":694300,"millis":0.6943,"status":"passed"},"step":{"line":27,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":267211400,"millis":267.2114,"status":"passed"},"step":{"line":28,"prefix":"When","index":5,"text":"method post"},"stepLog":"01:27:47.345 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 330\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"#(first_customer.surname)\",\"name\":\"#(first_customer.name)\",\"photo\":\"#(first_customer.photo)\",\"id\":\"#(first_customer.id)\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n01:27:47.608 response time in milliseconds: 262\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 30\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 23:27:47 GMT\n1 < x-amzn-RequestId: 7e9e970c-d645-4581-8f4a-96a6eda09343\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fpqCDGdwDoEFcRw=\n1 < X-Amzn-Trace-Id: Root=1-60a6f073-1f84a25d6753804e3f0bbaf7;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 cace9d3ed4c025b270cfeeb95eed0eab.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: 3MU3MqTdyRoeA-mhmQyNhMHN66NsuxVFhWjCU6hZMkPrNFeGAxWDiA==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":29,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4015125800,"millis":4015.1258,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be saved before the next test"],"line":31,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":401000,"millis":0.401,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":34,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":593500,"millis":0.5935,"status":"passed"},"step":{"comments":["# If the customer is saved, the response shouldn't contain a field \"error\""],"line":37,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Save a new Customer","description":"","durationMillis":4296.1317,"startTime":1621553267330,"failed":false,"refId":"[1:9]","endTime":1621553271627,"exampleIndex":-1}],"name":"Generate and save a new customer","passedCount":1}]},{"result":{"nanos":112400,"millis":0.1124,"status":"passed"},"step":{"endLine":107,"comments":["#    * match saveCustomer.response.errors != '#notpresent'","### Delete a customer who doesn't exist"],"line":102,"prefix":"*","docString":"{\n   \"id\": \"cusrtomerNotExist\"\n}","index":17,"text":"def customerDelete ="}},{"result":{"nanos":4388477600,"millis":4388.4776,"status":"passed"},"step":{"line":108,"prefix":"*","index":18,"text":"def deleteCustomer = call read('DeleteCustomer.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/DeleteCustomer.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-21 01:27:56 a.Â m.","durationMillis":4373.5569,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjFhMTI5MDQ5LWVmNTAtNDdhYi05MjhiLTkyYzNkYTc5MDdlNSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE1NTMyNTcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTU1Njg1NywiaWF0IjoxNjIxNTUzMjU3LCJqdGkiOiIwODJjMDhkNC05YzAyLTRmMGEtYTRkYy0yYTI0MzQyMjg2ZGYiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.FyLl6A1rjpT3AEErLxxHLsdUnuWHXsw39Ad4g3F-VxVD5dPHyHs7bIaMfFDJ53kDxBCALpQEOtOmbvv44tN9u7eonxyEndKRYe6uhz15oQdGs29srq26jLkTA3exPGI8bZ0fCnIouyMSP48BAvbnu2xJWJm_kh-J5vTlEjMD2NU1kdxLq5VUHOb6G4OH19nvZ_vtTDnJYKIVewfJo2BF6bRjV3Jaf-TymnA4jhPFfU6V6FL7-T3rrHa6BE3Fu4cInvUwKth79bFZ6_2DyuEbxL8-Kjg-S42gqCq6R9c8RkthC0DOFwCZnzLPXhNa18wmP3swNhY6crqatMvWsLzSzg","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.InYiJQw6EiAJzjHj6lxVQgLzqj0FMqbs0X9Nc-rAuRsdr2NP8hRpbKsqhIajXXpNgDuzjxh-LgXG6oLqKHh4YZdO-zAGVcFTIptsbP7oKy9eJOwiGuagQH2JtL7ri9XzwuymXpz4WdvAawvLBiZxGAAqIIwF9sm0u2nI-5RWkPolmrUcvh0jXdk7j52-S3mQYOyZ4TQ58JG7HwAqx3Q6oeEWXGWGtwA9tAHn9HCi9y8w-DhN1TPTIAeLvy75e6U98xDsOPp29UjCE4Bt6os8wwaJ4XQ17jjt4YPEM5Pevhz-BE0Il8lF-oM_xActMds774KJuTiUj2mPiOEPJcIh7g.BLlZ-ZoJKXy0JnYp.Hj8LRJA41foxduFyxJN4BC8bJKHRLNKYQ8XxmH2Go9cWK_i1WU4zqM0FnCOOAaT3Uj0-3y29a0AZHaAzMqfDdYOFMYdr8bhO7QB9xmLq3cdRrtdVcr9n1KYQQ_XDFuW_p870gpH92jKoAU7gFl99esZu2BqYdlRb3uvJTs--k1_AVd8qQHM1ZZFwaLAMQPNsaXEyathYkbANzkFZ7tDVv3oCSXD1m8OOSlywy0yDelKnaamBD5hCkd9P0kPHRPCG1HLyXkAZ5H3AY7g-ZKZbSVZjDq89FQtb1YeVQJ-HqD3bZtW5W0LTPWPT1jpNPq23MPbz-ffAacfk8T7uDXxrG30-mlPov6wBZ-nUlSw1tYzOiR0VmvTXm9My_EqjszXNyKUDkd0mjO4LGHRN8shGEncCZIA7w3_y5JRzBUyiwqH8G_qiMGIEumfuhKMaO0crKHjDpD3-7R9whE5b-dmg0c0sj0XzMD_hEArJ65xyiecbYJq4Qq-_JAx-BJ_bQb0fPFN0M7XOMlyK24HRsni1PYE49pZervwWvMvpt6wlqtyyZ4cdvTojSSPiYY-HlBP2eQbccUQd1oXwuG84oQT5hxgVUko99B4ryeXNH55x21xwUgypwqXmurG0aisH0wTDXceJp9_ck_84pWR4hYqlCU3u3HK9dEX0RTwZisDFH3FzFfv5PQAxuddli8IMI8B4CDQ8k0QjS3eKO9BxDdMEbd8t_E6o5eRynV6uu2pFrOKEH5FuR0F7XX3VzGYe7Cpr9Cje3WV78KfeoGdKf3URu-DkIKd06gkditXrhGXXg4ibtgI8Z6ZvqPF7c32-t298TVssJrd7LIhqTxDaqWFnVcLfJ6MzuWfXW3J62SGemRleTXDgdIpf8TTkFZJZgB4rUwmfQZOnVNZIujFnMQ_yt9VcFK2SsrA90E95Ra9dj0dp4QyWY3wcVnaOPM85QJsKpQGhNrxkoLziiasaHL84QyDp1Km0zh9_S9ZQrqT9YIeRjJETPiZX73AtUjlEgPSRf3z2fdb2OOgx2wvEePuXnG0wkIiHsxfYZf29yzXefLU1yc3lpOH9Y4-W9EhYNUgF7iwaVQYYdpAhshbrcC7g9rYO-OQI2nHOy6BUcqchG4-eAXylLE72esuPJdF8o7ThTL8tY8_kaqdlLzvttVBqfX4T6r9_ddkPh_CQYTunGf5nKDz5jMFGEEzm_73gAYl51-mjJqk7Kl5F9aDptrGU2v71QtmELAUEvwOJn7QDuaBi1cwVX8oNwVmTotbl9i0dXL5-koURFGYLXzNQbU_A3mn20ey_Sq3QrbdkIbaHseRAPqfEckBm-xgdk3Que68.dYK0uN3UPnQ79oJEvxpkdQ"},"failedCount":0,"packageQualifiedName":"test.graphql.DeleteCustomer","relativePath":"test\/graphql\/DeleteCustomer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":215900,"millis":0.2159,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1461700,"millis":1.4617,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def queryDeleteCustomer = read('DeleteCustomer.graphql')"}},{"result":{"nanos":205100,"millis":0.2051,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":356100,"millis":0.3561,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":1263500,"millis":1.2635,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(queryDeleteCustomer)',  variables: '#(customerDelete)'  }"}},{"result":{"nanos":358380200,"millis":358.3802,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"01:27:51.647 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxYTEyOTA0OS1lZjUwLTQ3YWItOTI4Yi05MmMzZGE3OTA3ZTUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTU1MzI1NywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTU1Njg1NywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTU1MzI1NywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.yDotfIip7crQ7w5Z78nlMH-vqPU14k1xb95qBkqKhyzmLfA0I0903iePpWwfV80QQYFh1MMjLjMC7frT-xeY0C2KzK-rRMrCO95Tl374Cn6NA2xwfjl6dFX6HolNP1bywggnGKYmkrcjPDM_1fvRexv3Ya8kNkbk2tqb-zDeMe3IG4S_6uhPaushe9s1oLeoQF750OOegkq6Rli5y6TWaPCF_y-vwPhT2Mv0kJkqj8u_P6jKCuaHMLM0FRq1n1VLZW6Z22usYPGfOq58_mGY4h7i_PHN-wJfEjuyu-dUurrDcSQjgHuDb1INQzq3x_eUKzKzGWrybHBtNDLlVDD1og\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 135\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"cusrtomerNotExist\"},\"query\":\"mutation DeleteCustomer($id: ID) {\\r\\n    DeleteCustomer(input: {id: $id})\\r\\n} \\r\\n\"}\n\n01:27:52.002 response time in milliseconds: 354\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 32\n1 < Connection: keep-alive\n1 < Date: Thu, 20 May 2021 23:27:51 GMT\n1 < x-amzn-RequestId: 19bccb04-66f4-4430-ab5e-95888b0480de\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fpqCuF2ojoEFnqw=\n1 < X-Amzn-Trace-Id: Root=1-60a6f077-1e2ba2105a1d8c4d5a1eb754;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b89214703c5c60a107a07c982809a482.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: 9fgDmnfYHfrT3wtRFaReZR9NFfbBYspVT-bme875tP4h_0gFl1gRuQ==\n{\"data\":{\"DeleteCustomer\":true}}\n"},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4010724900,"millis":4010.7249,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be delete before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":386500,"millis":0.3865,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":530900,"millis":0.5309,"status":"passed"},"step":{"comments":["# If the customer was delete, the response shouldn't contain a field \"error\""],"line":26,"prefix":"And","index":8,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Delete a customer","description":"","durationMillis":4373.5569,"startTime":1621553271641,"failed":false,"refId":"[1:9]","endTime":1621553276015,"exampleIndex":-1}],"name":"Delete a customer","passedCount":1}]},{"result":{"nanos":704300,"errorMessage":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:test\/graphql\/TestFailures.feature:109","millis":0.7043,"status":"failed"},"step":{"line":109,"prefix":"*","index":19,"text":"match deleteCustomer.response.errors != '#notpresent'"},"stepLog":"01:27:56.022 classpath:test\/graphql\/TestFailures.feature:109\n* match deleteCustomer.response.errors != '#notpresent'\nmatch failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:test\/graphql\/TestFailures.feature:109\n"}],"line":6,"description":"","durationMillis":19424.5962,"failed":true,"error":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:test\/graphql\/TestFailures.feature:109","executorName":"main","name":"Test if the API met the acceptance criteria for an admin user","startTime":1621553256441,"refId":"[1:6]","endTime":1621553276022,"exampleIndex":-1}],"callDepth":0,"name":"Test the graphql API for admin and not admin users in wrong cases","description":"","resultDate":"2021-05-21 01:27:56 a.Â m.","durationMillis":19424.5962,"passedCount":0}