{"failedCount":0,"prefixedPath":"classpath:examples\/users\/SaveUserNoAdmin.feature","packageQualifiedName":"examples.users.SaveUserNoAdmin","loopIndex":-1,"relativePath":"examples\/users\/SaveUserNoAdmin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1866300,"millis":1.8663,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"22:24:40.119 karate.env system property was: prod \n"},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":34541600,"millis":34.5416,"status":"passed"},"step":{"comments":["# Get the idToken for one of the user created by the admin"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUserNoAdmin.json')"}},{"result":{"nanos":874049800,"millis":874.0498,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the user's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-16 10:24:45 p. m.","durationMillis":847.7378,"callArg":{"password":"Password_1","clientId":"799hogucm363v55l7dk2n1l5u0","username":"user8@test.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":2060500,"millis":2.0605,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":3497900,"millis":3.4979,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"22:24:40.211 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"user8@test.com\",\n  \"password\": \"Password_1\"\n}\n \n"},{"result":{"nanos":4651400,"millis":4.6514,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":72400,"millis":0.0724,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":589100,"millis":0.5891,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":834159900,"millis":834.1599,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"22:24:40.422 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 93\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Password_1\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"user8@test.com\"}\n\n22:24:41.047 response time in milliseconds: 619\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 3994\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 20:24:41 GMT\n1 < x-amzn-RequestId: 5b9d2036-f109-4773-b404-e9114be07b2c\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fcDddFONjoEF1Ww=\n1 < X-Amzn-Trace-Id: Root=1-60a17f89-7c0ba4e56816bfde7d5f28fd\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 3f18bbc133cf4ddae8afcd8a83c77a98.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: -6VWXjxGSPwSZeMsCveJ331kBPYe4zWMT6e1-R79vqvHRnASN_66Zw==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyYWQ2MWM2Yi02OTNjLTQ3OTgtYjJjZS01NGRiOWFiMDdhMGEiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjA2ODdmYzZlLWFhNjYtNDNlZS04ZGJiLWVjZDQ4ZjIyYjZhNCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMTk2NjgxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiMmFkNjFjNmItNjkzYy00Nzk4LWIyY2UtNTRkYjlhYjA3YTBhIiwiZXhwIjoxNjIxMjAwMjgxLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjExOTY2ODEsImVtYWlsIjoidXNlcjhAdGVzdC5jb20ifQ.Isfer2EG1B7XtJ8Me5nJKScjRNcm4oIM4WfC4YtR1XweDLXP1Ul9M3xhDtB2GCRQZZFdRbr8qgw-otdiq_a6jFvOlkf0Cszq-4-XrSdRcsBR7D5Wn9VxR3s9ulrkhOYbrMs0YZdEutLDfYFxXyfUfv0grzi_Ck0buXrFFny56QzRe5Rw7sV4ZvTcDffsa_aKZw1YtzV8otfKvRXbMesngp2U7BtJ2_u1AuHEAQpeeeFIZ42DasN9QH3ffTz5b0ogGj49_hhRlZu3D4sM4d6gNY6LqZGOv1Hz6bpE-9xPgdGGxLMJENtsF3MnBi1gCPPVL45J9z8jh5Bo9emZext7LQ\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIyYWQ2MWM2Yi02OTNjLTQ3OTgtYjJjZS01NGRiOWFiMDdhMGEiLCJldmVudF9pZCI6IjA2ODdmYzZlLWFhNjYtNDNlZS04ZGJiLWVjZDQ4ZjIyYjZhNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExOTY2ODEsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTIwMDI4MSwiaWF0IjoxNjIxMTk2NjgxLCJqdGkiOiI2MTUwMzZmMi05ZmE1LTRiMDEtYjRhZC0wM2NiMTJiM2VhNzQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiMmFkNjFjNmItNjkzYy00Nzk4LWIyY2UtNTRkYjlhYjA3YTBhIn0.qiv9qldKm2cuHujvclsEkuFu2SfOYwrX-CGR6JAVEx1Oo_joRwYMv18eavdrehGzgKalWF-C3lbCMJZYI9lmmngU6rVsz0E7DOnGZpHsKXiHAYhgtZMIHQgGiFK68R6Ayi9k_nstWiFsVJoXi6S0FUaagfTdeDGBjKSvP9nIo77a1WPb2BN2BNrWB6IJLiy8RFo_P1f0Lei8RZ00x3oWG1wlLmHnJZtRQ_exA5e76a7cQxku-ACA4gWygCNgd9zLz2gGKEiFKkf0TWELEUTTTKrYYK-vb-Q78qCqppYAFgxB9OVrxyn5JeGqGPcwUGSNAi-njl1JIEoeluNxaSWHvA\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.Wx-f2NFTysQ5GJO111hyq2U1z2zc4_crOkQMXdO3zTK_LHu0WtAX7ilCECyZ02qf_q1pvl_QoWany5_XA4woNMpt9ZB4Zj2b9gWv0AemMB7wjYDJEyLBiBi2DLsPb2wOrTDMjgX4aN9gEWTwSBuUMSwnCyWu9W0RHP_CedBvTTkvevtA-h8Xrs-LI8upb9NLoVn5qCczI1eX3Giyibq61PRxGMaM-E9ULYZcqUjmX1qCDma6-c7XP6zVZw6EkqTWHHhvaY8mKWruiKtQLpJg_VhGVbBwNhnoKHesfgIQdmfUdD1rePiYboca0uxcpUqzNNiR9naWWMS0TJDEJzHlxA.n9zMkQFHfWrC1hII.izgXkWxgsN2e6jU16kFx2n4Q2YliCekl75f0M61w1MdE2ZV2yWX4jBcAgzSVQIOuyxM7gmZPLt5s_5rrEEns4lPagZMDZh7pbua211dQ4yH9RzitAA2-txcyK9KhQOCVv0vcn2MrPR0PuM3TyuliC66gsutuUTaXJdiOrlyUhpziwgTWWDRF_kemPsRxFXurkLf3jXoy0WaJJ4z1Ds0VhYksUCLHo3mYtU60q6c48s1EC0sx5QOwuz4Knf6ZPnbEB6_IQm89SrsX-pqtBhW-oUShmRG8hdBNSUk1OygpNaMxCddZGkiEa5Hy8DTWneyH0RuVu7i7oIwDSf74mTi8wFnI_svpdc3jY62ldPxTZX3WyDF3UiEpvW5Mx-4p7yhVVHo5eKJ0x2cy0X_rWNowntXvOfgM8C1NjSniP93tevmkNjH3LKtIdeQPBPub5GMvuE7h3vXA7lWmtqwWdVtgoDfSQCpvbVLtK1IHE_9Hgf08RhLZvZ75fiYGyN7t_Qe3HsCO6OJt8BIxDHOv-npPkwooUvxoBNGB7qgVsgtfhyj0Ysy0yuUUIfq3fVzK6NKFploPh8O7f_kUIVJLbPUFPUe5meY8zVqHANm6u_z_Tm9xREHVJNgnjfgo-aO4zE_RkAXbuq_GFiyypQthnt-miaD_J9Qy9-uCaagK-yIJY41KmjugW1SKMjvEy-M6QiNiqffUdDrIQs7lrzz0lkBeEVprEsN-_S_3p2pBJYdOuxAylJbikgzhqASLeLQleZlZlaGUqbuXgDbFak_fn3sAxTKPojUdP4IS3rYYHMNU-GKkuecFPZSnqLm7OUHQ3tpUUshnzjmQ1eQfgf3WW3LsVmR7QVPn0a9ClWIMvvBy5QRVQeYw3xTRzgD8fksubWBE8_-q893Z4QjpLpKez7gK6fPO31aehI_rVa588Cf-6nM2Hw3tp406xaTIFyShz6h2p3MGlzsmF-yUacCSIBw0n6Zn_lANzd6UoyW59sGzmPIFM98mqVnxswPLTNL5CAEdn0vzSEKoCwxRPJmOnxVOIer0Tq2EZR7XVP1QzNertNF_3DxygWwYeka-J0fyS2_RnWL4j9ows641f98KKSbNeN6n7natq-uht8Ay1VAzbTW79ZwkuDDnZFBch0uGYyxgRTZOgISQs95bBjKKAQKc_FpqoLl0TxWVlGGRUqpM0ircx9Z46PBQHCvWNjkVaMNE8cY851iDzBBwmtgOV6DVkbYREvPS2hen5j7XcgujLqXbflMzqgIsrQLSLcjGBNM7cognpNsTbQ1XH2fa9T5DRFnogbJZw5eBudKlL_YlZCpPBP6pl5UFVr9-42cOCFo.dppdPhIXgTd5nvZhJ8zJ6w\"}\n"},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1462700,"millis":1.4627,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1189100,"millis":1.1891,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"22:24:41.054 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyYWQ2MWM2Yi02OTNjLTQ3OTgtYjJjZS01NGRiOWFiMDdhMGEiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjA2ODdmYzZlLWFhNjYtNDNlZS04ZGJiLWVjZDQ4ZjIyYjZhNCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMTk2NjgxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiMmFkNjFjNmItNjkzYy00Nzk4LWIyY2UtNTRkYjlhYjA3YTBhIiwiZXhwIjoxNjIxMjAwMjgxLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjExOTY2ODEsImVtYWlsIjoidXNlcjhAdGVzdC5jb20ifQ.Isfer2EG1B7XtJ8Me5nJKScjRNcm4oIM4WfC4YtR1XweDLXP1Ul9M3xhDtB2GCRQZZFdRbr8qgw-otdiq_a6jFvOlkf0Cszq-4-XrSdRcsBR7D5Wn9VxR3s9ulrkhOYbrMs0YZdEutLDfYFxXyfUfv0grzi_Ck0buXrFFny56QzRe5Rw7sV4ZvTcDffsa_aKZw1YtzV8otfKvRXbMesngp2U7BtJ2_u1AuHEAQpeeeFIZ42DasN9QH3ffTz5b0ogGj49_hhRlZu3D4sM4d6gNY6LqZGOv1Hz6bpE-9xPgdGGxLMJENtsF3MnBi1gCPPVL45J9z8jh5Bo9emZext7LQ \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":847.7378,"startTime":1621196680205,"failed":false,"refId":"[1:6]","endTime":1621196681054,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":2354200,"millis":2.3542,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"22:24:41.060 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyYWQ2MWM2Yi02OTNjLTQ3OTgtYjJjZS01NGRiOWFiMDdhMGEiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjA2ODdmYzZlLWFhNjYtNDNlZS04ZGJiLWVjZDQ4ZjIyYjZhNCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMTk2NjgxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiMmFkNjFjNmItNjkzYy00Nzk4LWIyY2UtNTRkYjlhYjA3YTBhIiwiZXhwIjoxNjIxMjAwMjgxLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjExOTY2ODEsImVtYWlsIjoidXNlcjhAdGVzdC5jb20ifQ.Isfer2EG1B7XtJ8Me5nJKScjRNcm4oIM4WfC4YtR1XweDLXP1Ul9M3xhDtB2GCRQZZFdRbr8qgw-otdiq_a6jFvOlkf0Cszq-4-XrSdRcsBR7D5Wn9VxR3s9ulrkhOYbrMs0YZdEutLDfYFxXyfUfv0grzi_Ck0buXrFFny56QzRe5Rw7sV4ZvTcDffsa_aKZw1YtzV8otfKvRXbMesngp2U7BtJ2_u1AuHEAQpeeeFIZ42DasN9QH3ffTz5b0ogGj49_hhRlZu3D4sM4d6gNY6LqZGOv1Hz6bpE-9xPgdGGxLMJENtsF3MnBi1gCPPVL45J9z8jh5Bo9emZext7LQ\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiIyYWQ2MWM2Yi02OTNjLTQ3OTgtYjJjZS01NGRiOWFiMDdhMGEiLCJldmVudF9pZCI6IjA2ODdmYzZlLWFhNjYtNDNlZS04ZGJiLWVjZDQ4ZjIyYjZhNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExOTY2ODEsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTIwMDI4MSwiaWF0IjoxNjIxMTk2NjgxLCJqdGkiOiI2MTUwMzZmMi05ZmE1LTRiMDEtYjRhZC0wM2NiMTJiM2VhNzQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiMmFkNjFjNmItNjkzYy00Nzk4LWIyY2UtNTRkYjlhYjA3YTBhIn0.qiv9qldKm2cuHujvclsEkuFu2SfOYwrX-CGR6JAVEx1Oo_joRwYMv18eavdrehGzgKalWF-C3lbCMJZYI9lmmngU6rVsz0E7DOnGZpHsKXiHAYhgtZMIHQgGiFK68R6Ayi9k_nstWiFsVJoXi6S0FUaagfTdeDGBjKSvP9nIo77a1WPb2BN2BNrWB6IJLiy8RFo_P1f0Lei8RZ00x3oWG1wlLmHnJZtRQ_exA5e76a7cQxku-ACA4gWygCNgd9zLz2gGKEiFKkf0TWELEUTTTKrYYK-vb-Q78qCqppYAFgxB9OVrxyn5JeGqGPcwUGSNAi-njl1JIEoeluNxaSWHvA\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.Wx-f2NFTysQ5GJO111hyq2U1z2zc4_crOkQMXdO3zTK_LHu0WtAX7ilCECyZ02qf_q1pvl_QoWany5_XA4woNMpt9ZB4Zj2b9gWv0AemMB7wjYDJEyLBiBi2DLsPb2wOrTDMjgX4aN9gEWTwSBuUMSwnCyWu9W0RHP_CedBvTTkvevtA-h8Xrs-LI8upb9NLoVn5qCczI1eX3Giyibq61PRxGMaM-E9ULYZcqUjmX1qCDma6-c7XP6zVZw6EkqTWHHhvaY8mKWruiKtQLpJg_VhGVbBwNhnoKHesfgIQdmfUdD1rePiYboca0uxcpUqzNNiR9naWWMS0TJDEJzHlxA.n9zMkQFHfWrC1hII.izgXkWxgsN2e6jU16kFx2n4Q2YliCekl75f0M61w1MdE2ZV2yWX4jBcAgzSVQIOuyxM7gmZPLt5s_5rrEEns4lPagZMDZh7pbua211dQ4yH9RzitAA2-txcyK9KhQOCVv0vcn2MrPR0PuM3TyuliC66gsutuUTaXJdiOrlyUhpziwgTWWDRF_kemPsRxFXurkLf3jXoy0WaJJ4z1Ds0VhYksUCLHo3mYtU60q6c48s1EC0sx5QOwuz4Knf6ZPnbEB6_IQm89SrsX-pqtBhW-oUShmRG8hdBNSUk1OygpNaMxCddZGkiEa5Hy8DTWneyH0RuVu7i7oIwDSf74mTi8wFnI_svpdc3jY62ldPxTZX3WyDF3UiEpvW5Mx-4p7yhVVHo5eKJ0x2cy0X_rWNowntXvOfgM8C1NjSniP93tevmkNjH3LKtIdeQPBPub5GMvuE7h3vXA7lWmtqwWdVtgoDfSQCpvbVLtK1IHE_9Hgf08RhLZvZ75fiYGyN7t_Qe3HsCO6OJt8BIxDHOv-npPkwooUvxoBNGB7qgVsgtfhyj0Ysy0yuUUIfq3fVzK6NKFploPh8O7f_kUIVJLbPUFPUe5meY8zVqHANm6u_z_Tm9xREHVJNgnjfgo-aO4zE_RkAXbuq_GFiyypQthnt-miaD_J9Qy9-uCaagK-yIJY41KmjugW1SKMjvEy-M6QiNiqffUdDrIQs7lrzz0lkBeEVprEsN-_S_3p2pBJYdOuxAylJbikgzhqASLeLQleZlZlaGUqbuXgDbFak_fn3sAxTKPojUdP4IS3rYYHMNU-GKkuecFPZSnqLm7OUHQ3tpUUshnzjmQ1eQfgf3WW3LsVmR7QVPn0a9ClWIMvvBy5QRVQeYw3xTRzgD8fksubWBE8_-q893Z4QjpLpKez7gK6fPO31aehI_rVa588Cf-6nM2Hw3tp406xaTIFyShz6h2p3MGlzsmF-yUacCSIBw0n6Zn_lANzd6UoyW59sGzmPIFM98mqVnxswPLTNL5CAEdn0vzSEKoCwxRPJmOnxVOIer0Tq2EZR7XVP1QzNertNF_3DxygWwYeka-J0fyS2_RnWL4j9ows641f98KKSbNeN6n7natq-uht8Ay1VAzbTW79ZwkuDDnZFBch0uGYyxgRTZOgISQs95bBjKKAQKc_FpqoLl0TxWVlGGRUqpM0ircx9Z46PBQHCvWNjkVaMNE8cY851iDzBBwmtgOV6DVkbYREvPS2hen5j7XcgujLqXbflMzqgIsrQLSLcjGBNM7cognpNsTbQ1XH2fa9T5DRFnogbJZw5eBudKlL_YlZCpPBP6pl5UFVr9-42cOCFo.dppdPhIXgTd5nvZhJ8zJ6w\"\n}\n \n"},{"result":{"nanos":801800,"millis":0.8018,"status":"passed"},"step":{"comments":["# Create the Authorization header"],"background":true,"line":18,"prefix":"*","index":5,"text":"def idToken = signIn.response.idToken"}},{"result":{"nanos":8836900,"millis":8.8369,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":6,"text":"def user_header = \"Bearer \" + idToken"}},{"result":{"nanos":970200,"millis":0.9702,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":7,"text":"print user_header"},"stepLog":"22:24:41.070 [print] Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyYWQ2MWM2Yi02OTNjLTQ3OTgtYjJjZS01NGRiOWFiMDdhMGEiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjA2ODdmYzZlLWFhNjYtNDNlZS04ZGJiLWVjZDQ4ZjIyYjZhNCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMTk2NjgxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiMmFkNjFjNmItNjkzYy00Nzk4LWIyY2UtNTRkYjlhYjA3YTBhIiwiZXhwIjoxNjIxMjAwMjgxLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjExOTY2ODEsImVtYWlsIjoidXNlcjhAdGVzdC5jb20ifQ.Isfer2EG1B7XtJ8Me5nJKScjRNcm4oIM4WfC4YtR1XweDLXP1Ul9M3xhDtB2GCRQZZFdRbr8qgw-otdiq_a6jFvOlkf0Cszq-4-XrSdRcsBR7D5Wn9VxR3s9ulrkhOYbrMs0YZdEutLDfYFxXyfUfv0grzi_Ck0buXrFFny56QzRe5Rw7sV4ZvTcDffsa_aKZw1YtzV8otfKvRXbMesngp2U7BtJ2_u1AuHEAQpeeeFIZ42DasN9QH3ffTz5b0ogGj49_hhRlZu3D4sM4d6gNY6LqZGOv1Hz6bpE-9xPgdGGxLMJENtsF3MnBi1gCPPVL45J9z8jh5Bo9emZext7LQ \n"},{"result":{"nanos":1142600,"millis":1.1426,"status":"passed"},"step":{"endLine":28,"comments":["# Get the query from a .feature field"],"line":25,"prefix":"*","docString":"read('UserReadModels.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":397600,"millis":0.3976,"status":"passed"},"step":{"line":30,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":1819300,"millis":1.8193,"status":"passed"},"step":{"line":31,"prefix":"And","index":2,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":330500,"millis":0.3305,"status":"passed"},"step":{"line":32,"prefix":"And","index":3,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":455800,"millis":0.4558,"status":"passed"},"step":{"line":33,"prefix":"And","index":4,"text":"request { query: '#(query)' }"}},{"result":{"nanos":258047400,"millis":258.0474,"status":"passed"},"step":{"line":34,"prefix":"When","index":5,"text":"method post"},"stepLog":"22:24:41.077 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyYWQ2MWM2Yi02OTNjLTQ3OTgtYjJjZS01NGRiOWFiMDdhMGEiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjA2ODdmYzZlLWFhNjYtNDNlZS04ZGJiLWVjZDQ4ZjIyYjZhNCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMTk2NjgxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiMmFkNjFjNmItNjkzYy00Nzk4LWIyY2UtNTRkYjlhYjA3YTBhIiwiZXhwIjoxNjIxMjAwMjgxLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjExOTY2ODEsImVtYWlsIjoidXNlcjhAdGVzdC5jb20ifQ.Isfer2EG1B7XtJ8Me5nJKScjRNcm4oIM4WfC4YtR1XweDLXP1Ul9M3xhDtB2GCRQZZFdRbr8qgw-otdiq_a6jFvOlkf0Cszq-4-XrSdRcsBR7D5Wn9VxR3s9ulrkhOYbrMs0YZdEutLDfYFxXyfUfv0grzi_Ck0buXrFFny56QzRe5Rw7sV4ZvTcDffsa_aKZw1YtzV8otfKvRXbMesngp2U7BtJ2_u1AuHEAQpeeeFIZ42DasN9QH3ffTz5b0ogGj49_hhRlZu3D4sM4d6gNY6LqZGOv1Hz6bpE-9xPgdGGxLMJENtsF3MnBi1gCPPVL45J9z8jh5Bo9emZext7LQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 102\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query UserReadModels {\\r\\n    UserReadModels {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n22:24:41.330 response time in milliseconds: 252\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 162\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 20:24:41 GMT\n1 < x-amzn-RequestId: 6cbf2d4b-653b-4900-902f-4bc945fd2c0e\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fcDdiFTfjoEF7Tg=\n1 < X-Amzn-Trace-Id: Root=1-60a17f89-24552fba3cfcdd862271c380;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 0ef74e866fd3a98abc576c37ab84cf4f.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: mCy0ePx8dLybANQJr7HkyG5X_VV7HP3mzIihPkmvNJuAmUuFGnUKrw==\n{\"data\":{\"UserReadModels\":null},\"errors\":[{\"path\":[\"UserReadModels\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for read model UserReadModel\"}]}\n"},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":35,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":7464300,"millis":7.4643,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":38,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":12739500,"millis":12.7395,"status":"passed"},"step":{"comments":["# As the user is not admin, the response contains a field \"error\" and it is printed"],"line":41,"prefix":"*","index":8,"text":"match response.errors != '#notpresent'"}},{"result":{"nanos":4109700,"millis":4.1097,"status":"passed"},"step":{"endLine":48,"comments":["#Scenario: The user not admin create a new user"],"line":45,"prefix":"*","docString":"read('SaveUser.graphql')","index":9,"text":"def query ="},"stepLog":"22:24:41.354 over-writing existing variable 'query' with new value: read('SaveUser.graphql')\n"},{"result":{"nanos":1079600,"millis":1.0796,"status":"passed"},"step":{"comments":["# JSON file with the new user's datas"],"line":50,"prefix":"*","index":10,"text":"def user_datas = read('NewUser.json')"}},{"result":{"nanos":197200,"millis":0.1972,"status":"passed"},"step":{"line":52,"prefix":"Given","index":11,"text":"path 'graphql'"}},{"result":{"nanos":283000,"millis":0.283,"status":"passed"},"step":{"line":53,"prefix":"And","index":12,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":500500,"millis":0.5005,"status":"passed"},"step":{"line":54,"prefix":"And","index":13,"text":"request { query: '#(query)',  variables: '#(user_datas)'}"}},{"result":{"nanos":276883500,"millis":276.8835,"status":"passed"},"step":{"line":55,"prefix":"When","index":14,"text":"method post"},"stepLog":"22:24:41.361 request:\n2 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n2 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyYWQ2MWM2Yi02OTNjLTQ3OTgtYjJjZS01NGRiOWFiMDdhMGEiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjA2ODdmYzZlLWFhNjYtNDNlZS04ZGJiLWVjZDQ4ZjIyYjZhNCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMTk2NjgxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiMmFkNjFjNmItNjkzYy00Nzk4LWIyY2UtNTRkYjlhYjA3YTBhIiwiZXhwIjoxNjIxMjAwMjgxLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjExOTY2ODEsImVtYWlsIjoidXNlcjhAdGVzdC5jb20ifQ.Isfer2EG1B7XtJ8Me5nJKScjRNcm4oIM4WfC4YtR1XweDLXP1Ul9M3xhDtB2GCRQZZFdRbr8qgw-otdiq_a6jFvOlkf0Cszq-4-XrSdRcsBR7D5Wn9VxR3s9ulrkhOYbrMs0YZdEutLDfYFxXyfUfv0grzi_Ck0buXrFFny56QzRe5Rw7sV4ZvTcDffsa_aKZw1YtzV8otfKvRXbMesngp2U7BtJ2_u1AuHEAQpeeeFIZ42DasN9QH3ffTz5b0ogGj49_hhRlZu3D4sM4d6gNY6LqZGOv1Hz6bpE-9xPgdGGxLMJENtsF3MnBi1gCPPVL45J9z8jh5Bo9emZext7LQ\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 249\n2 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password1\",\"role\":\"User\",\"username\":\"user9@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n22:24:41.635 response time in milliseconds: 273\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 144\n2 < Connection: keep-alive\n2 < Date: Sun, 16 May 2021 20:24:42 GMT\n2 < x-amzn-RequestId: 9f43037c-bae4-4a38-b1d9-a48ba6818aec\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: fcDdlEp1joEFsgQ=\n2 < X-Amzn-Trace-Id: Root=1-60a17f8a-39224d8a13009e370d21e6b4;Sampled=0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 9bac09758c086d613f2c0a80dd66c7a6.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: MAD50-C1\n2 < X-Amz-Cf-Id: zWtoosoN9zwape8uLRoaLSOd_hApuX0oR1Ej6WtjTiBQOpGs98Fo6A==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for command 'SaveUser'\"}]}\n"},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":56,"prefix":"Then","index":15,"text":"status 200"}},{"result":{"nanos":4026784100,"millis":4026.7841,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":59,"prefix":"*","index":16,"text":"wait(4000)"}},{"result":{"nanos":422800,"millis":0.4228,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":62,"prefix":"*","index":17,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":462100,"millis":0.4621,"status":"passed"},"step":{"comments":["# As the user is not admin, the response must contains a field \"error\""],"line":65,"prefix":"*","index":18,"text":"match response.errors != '#notpresent'"}},{"result":{"nanos":2188200,"millis":2.1882,"status":"passed"},"step":{"endLine":74,"comments":["#Scenario: List the new user by id","# Get the query from a .graphql file"],"line":71,"prefix":"*","docString":"read('UserReadModel.graphql')","index":19,"text":"def query ="},"stepLog":"22:24:45.665 over-writing existing variable 'query' with new value: read('UserReadModel.graphql')\n"},{"result":{"nanos":720500,"millis":0.7205,"status":"passed"},"step":{"comments":["# Define the username of the user to list"],"line":77,"prefix":"*","index":20,"text":"def newUser = read('NewUser.json')"}},{"result":{"nanos":497500,"millis":0.4975,"status":"passed"},"step":{"endLine":83,"line":78,"prefix":"*","docString":"{ \n   \"id\": \"#(newUser.username)\"\n}","index":21,"text":"def id ="}},{"result":{"nanos":626800,"millis":0.6268,"status":"passed"},"step":{"line":84,"prefix":"*","index":22,"text":"print id"},"stepLog":"22:24:45.669 [print] {\n  \"id\": \"user9@test.com\"\n}\n \n"},{"result":{"nanos":119900,"millis":0.1199,"status":"passed"},"step":{"line":86,"prefix":"Given","index":23,"text":"path 'graphql'"}},{"result":{"nanos":167700,"millis":0.1677,"status":"passed"},"step":{"line":88,"prefix":"And","index":24,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":89,"prefix":"And","index":25,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":303700,"millis":0.3037,"status":"passed"},"step":{"line":90,"prefix":"And","index":26,"text":"request { query: '#(query)', variables: '#(id)' }"}},{"result":{"nanos":269426900,"millis":269.4269,"status":"passed"},"step":{"line":91,"prefix":"When","index":27,"text":"method post"},"stepLog":"22:24:45.671 request:\n3 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n3 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIyYWQ2MWM2Yi02OTNjLTQ3OTgtYjJjZS01NGRiOWFiMDdhMGEiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjA2ODdmYzZlLWFhNjYtNDNlZS04ZGJiLWVjZDQ4ZjIyYjZhNCIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxMTk2NjgxLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiMmFkNjFjNmItNjkzYy00Nzk4LWIyY2UtNTRkYjlhYjA3YTBhIiwiZXhwIjoxNjIxMjAwMjgxLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjExOTY2ODEsImVtYWlsIjoidXNlcjhAdGVzdC5jb20ifQ.Isfer2EG1B7XtJ8Me5nJKScjRNcm4oIM4WfC4YtR1XweDLXP1Ul9M3xhDtB2GCRQZZFdRbr8qgw-otdiq_a6jFvOlkf0Cszq-4-XrSdRcsBR7D5Wn9VxR3s9ulrkhOYbrMs0YZdEutLDfYFxXyfUfv0grzi_Ck0buXrFFny56QzRe5Rw7sV4ZvTcDffsa_aKZw1YtzV8otfKvRXbMesngp2U7BtJ2_u1AuHEAQpeeeFIZ42DasN9QH3ffTz5b0ogGj49_hhRlZu3D4sM4d6gNY6LqZGOv1Hz6bpE-9xPgdGGxLMJENtsF3MnBi1gCPPVL45J9z8jh5Bo9emZext7LQ\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Content-Length: 155\n3 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n3 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"user9@test.com\"},\"query\":\"query UserReadModel($id: ID!) {\\r\\n    UserReadModel(id: $id) {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n22:24:45.938 response time in milliseconds: 267\n3 < 200\n3 < Content-Type: application\/json\n3 < Content-Length: 160\n3 < Connection: keep-alive\n3 < Date: Sun, 16 May 2021 20:24:46 GMT\n3 < x-amzn-RequestId: bdab4d12-edf6-419a-97f2-cfed9a5e885f\n3 < Access-Control-Allow-Origin: *\n3 < x-amz-apigw-id: fcDeQGP4joEFcMw=\n3 < X-Amzn-Trace-Id: Root=1-60a17f8e-2adcfe6b792ed9151eb928b9;Sampled=0\n3 < X-Cache: Miss from cloudfront\n3 < Via: 1.1 adaa7e69b304066aa4eaf0d2190ecfd7.cloudfront.net (CloudFront)\n3 < X-Amz-Cf-Pop: MAD50-C1\n3 < X-Amz-Cf-Id: 8ffN6GduTQE8I84NGJ5CQDbjucO5UB3l7dXCsWcdQGecYphka7o8LQ==\n{\"data\":{\"UserReadModel\":null},\"errors\":[{\"path\":[\"UserReadModel\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for read model UserReadModel\"}]}\n"},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":92,"prefix":"Then","index":28,"text":"status 200"}},{"result":{"nanos":1863200,"millis":1.8632,"status":"passed"},"step":{"comments":["# As the user is not admin, the response of the query shouldn't contain the datas of the user tryed to saved"],"line":95,"prefix":"*","index":29,"text":"match response.data.UserReadModel != {id: '#(newUser.username)', role: '#(newUser.role)' }"}}],"executorName":"main","line":22,"name":"List all the users. Only an admin user can, so the test shouldn't retrun datas","description":"","durationMillis":5792.6042,"startTime":1621196679997,"failed":false,"refId":"[1:22]","endTime":1621196685942,"exampleIndex":-1}],"callDepth":0,"name":"Test the creation of users by an user not admin in the environment set from the java class","description":"","resultDate":"2021-05-16 10:24:45 p. m.","durationMillis":5792.6042,"passedCount":1}