{"failedCount":0,"prefixedPath":"classpath:examples\/users\/SaveUserWrongUsername.feature","packageQualifiedName":"examples.users.SaveUserWrongUsername","loopIndex":-1,"relativePath":"examples\/users\/SaveUserWrongUsername.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1862400,"millis":1.8624,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"19:49:19.925 karate.env system property was: prod \n"},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":39993000,"millis":39.993,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":712183700,"millis":712.1837,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-16 07:49:25 p.Â m.","durationMillis":692.3505,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":2887500,"millis":2.8875,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":4322200,"millis":4.3222,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"19:49:20.016 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":6372700,"millis":6.3727,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":639700,"millis":0.6397,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":676567600,"millis":676.5676,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:49:20.219 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n19:49:20.698 response time in milliseconds: 469\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:49:21 GMT\n1 < x-amzn-RequestId: 630b71a1-aa46-46aa-aaa7-742095843f6e\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbstLHmTjoEF4DQ=\n1 < X-Amzn-Trace-Id: Root=1-60a15b21-37c45c90192e7b2e1ede0398\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e39311b8bbf120eef85be5222b7fadac.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: k83IZkA9fKFrKAVDLpykYcSeXlBzq5ZEoFKof_fI77tVUkSx4jjJOg==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjNjM2ZDZmZS1kODc5LTQ1Y2UtOTVkNy02NTE4ZmNmOTliMTIiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2MSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2MSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2MSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.WWBmSBUnCkZD-neVFYTkJv6_qj37kDJsJfOcTvBEQxrkR1oZBsX-HTa2i2vG3y9xs0t61hXcKClhfGAL5RPGBQ34fmF7actmQ7ipjPAsBn2YaT-MtlhnDXZP2Joxj_noKTfj5Q6YKlm_s5hUh-ctUWibb668e5Nq4cckwxHCqy4UdqQNW8xDlbA7aN2dqD-cKJbE9u248GmdtNNpSoD4_djdMQFxqjAIYpf0HKRV4FkUzbrUYhVt3kgCbJRyzXEpnXipGFHO0H4tX2f9b8P1hs9PC0BmB_57fuFCgSFg6hHhFpunnt5LSOrX_rrY0XrTF24F41br29W-2EzS3NMdGA\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImM2MzZkNmZlLWQ4NzktNDVjZS05NWQ3LTY1MThmY2Y5OWIxMiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODczNjEsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE5MDk2MSwiaWF0IjoxNjIxMTg3MzYxLCJqdGkiOiI4MzcxZTNjNy02YzAwLTRmOWEtYmIwMC02MTNjMTY3ZGViODkiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.HjCoYTLvyWi03Zo3o3Vtr9yuX3fG7h-sZ-7rapy_FSjTS1RBm6S47l5ZotwpniXWi2i-VF_wNuzl5Fwfvw6kUQJEtq3J8lQ-_RgDAD0p8rPi77jBGRzkjiaNse-gVsGZxGi39lWHQeEPUjIhQk4XtqGAahTRrro6zjTci4JiQCmDuVA4HEsJQwawf9TMD-CaWWMVz2sgEWuwg_iUO4ScmnfWU8u_aweCr87lmPfKwpdI6-Yb2VGOeYLcrxA1gM4SbVlpXPbL43RqDTwEXx-z8zFJ6W2RWmldc1cYZ1e0BBWSu0GtYJR5fAW_9yAc_om-R2jIMlG-HOJxGdjPosG-Hg\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.fac1rqks-diqpP-V3VYHS-wmFcZcI2517brAQUPLwij_XysNM4ykSyL52Iw1dOL6eanPB7gV4pEav9fdkpBvgf4Ykia10uLDaihIqR7mKs3WaTE0xLgT13ab-DCjuengbHuGJWCOy_WomDA0ZCS0iKxFDn76XYr_tEbelD7FJ_NlK-T8qzVjigJ1LuF0QW6UngNPAYg4RhAzhHcqeRZQBXdQwktJkVBcuGbJh2Iio--c6h19TyFmw7v9soLIN_91qBcoqYPI340elyAqup1kBaWdgRxTwwe0ut58tHYjWZubs52PNc-QmEFZwCwu59yKH2HF_C8PQs1y__-FS4Jj_Q.ZcQ9mN7JDF51mC0R.YU-zUW-gsiAa7QJf5JIqG1EKFEUsfFg0GU1Jyl6V2RDFMdGMrGuAW3irfEjyQuMfsZjk8s6pmzaiCkI2AvC696LpH1isNBg71MtXu8rsUWs7sGb0PrLJYSwgwnJqkSgL5s5TUMPUo29SAC7Vl4Vynx56fONtxysxsrVtNZCN8e_hj8xuIz-JDCcBOo7SIBGBV1trKbr4gvg4eMiDTtJ2SA4s_YZdxw4O2hoAhDEoMJK6bZ5n_x-aoYkE9VJE0ahReev04kTjkw64vZHgqHjLo93oymHo7Tub3TwBwkiRNgwOaloYyx_saEKZ6O-Yt5Xn3FqGxsoIa7ndNsSEjJ2mJqEDvyu4bmct8dKSF4W01Ts6Kaa3ZsbT4IkLjirkY-nJrpo8e79UnGlQSGOObrUtoBotFpSlEr5XbH9iCxNdufbwYKc5-lkOYhwbe4mu8MhLJ5dTQCU84825jMSJ8BS80EcKWlspUuIfbq6fZoccZoqPPARho_JbfDsee5Vggzep9DMq2UdQvQWzg6BVV1GK2YLKsjwxGz6YL7A60YeSJUYseWfwaq_bMJZodO64NCHEAvJ5UVu-UvpXmYr173HcSD5tHuuoHez1DyCDoYEO57pSnHTw-VVj5I6ZPxPGz48Mo4YbWTb9TwIM3tR8IWP3ktoZoNVuHgOMpGcWNlsDOaiz8Svs_g3ZN49cZw-lReLktvoDFTdAT6W4lLmzZIaj0jBMLSoKOBCGDOYQ80hGfJMtgOJ5NEcSPo3zGZr6pSIitfoTD5WjGkoEUhZZUxH88I4tDBmA0C4PKnWMkTLpYifIvEpig5IBkePhXrdP-6X7ALuMNJWjwr9TKCtCahTvnYvU9I13qmbTNFpfTt5KMKGDy0oDEx3-NUeLyVFnZidp_cOBDzd9g8fmGVZEIy20cLPkNrnu3V6CQHx6eX8Q6rQhxaxrJEKJPXhAq7U4gEK6tIkAWCA0MmsgBSor_Hm367nvrV2F-fQzCZo0fGjxjL6Q2RkcgiGUEmk06ar58PdInF0d2V_OAMnNgZl2iKxLjeLenp4zAqSpaNYDuJg99Kgq8aASxqK81RL1xcc0LwVfitkdPNljVplrI9rtvlCeN2dKhQGyq9FPDRyZDGDyV3--xjX2HOxxHHtpX07tKOR05r48SOqPbuCX-78Vvg9fx1gzV88jRNl-ouPNTT6NC0a58eWTupQyOBsu9Cf18tWoGYBJIFbaCmcoiG07Y8K9n6-lssyoPM7jk1ceK-J-yp4hgcV-hSKylO7vp3xAkyczxuwoq2ApTzhtlSQQ2_H_jZxMz44IBu4YoQKhvPNsvSxYKfXag6NthrF2RTfj6OM.LHG2L7AtcH4wD7Zu3x-61Q\"}\n"},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":754500,"millis":0.7545,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":730300,"millis":0.7303,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"19:49:20.701 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjNjM2ZDZmZS1kODc5LTQ1Y2UtOTVkNy02NTE4ZmNmOTliMTIiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2MSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2MSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2MSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.WWBmSBUnCkZD-neVFYTkJv6_qj37kDJsJfOcTvBEQxrkR1oZBsX-HTa2i2vG3y9xs0t61hXcKClhfGAL5RPGBQ34fmF7actmQ7ipjPAsBn2YaT-MtlhnDXZP2Joxj_noKTfj5Q6YKlm_s5hUh-ctUWibb668e5Nq4cckwxHCqy4UdqQNW8xDlbA7aN2dqD-cKJbE9u248GmdtNNpSoD4_djdMQFxqjAIYpf0HKRV4FkUzbrUYhVt3kgCbJRyzXEpnXipGFHO0H4tX2f9b8P1hs9PC0BmB_57fuFCgSFg6hHhFpunnt5LSOrX_rrY0XrTF24F41br29W-2EzS3NMdGA \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":692.3505,"startTime":1621187360008,"failed":false,"refId":"[1:6]","endTime":1621187360701,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1566300,"millis":1.5663,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"19:49:20.705 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjNjM2ZDZmZS1kODc5LTQ1Y2UtOTVkNy02NTE4ZmNmOTliMTIiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2MSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2MSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2MSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.WWBmSBUnCkZD-neVFYTkJv6_qj37kDJsJfOcTvBEQxrkR1oZBsX-HTa2i2vG3y9xs0t61hXcKClhfGAL5RPGBQ34fmF7actmQ7ipjPAsBn2YaT-MtlhnDXZP2Joxj_noKTfj5Q6YKlm_s5hUh-ctUWibb668e5Nq4cckwxHCqy4UdqQNW8xDlbA7aN2dqD-cKJbE9u248GmdtNNpSoD4_djdMQFxqjAIYpf0HKRV4FkUzbrUYhVt3kgCbJRyzXEpnXipGFHO0H4tX2f9b8P1hs9PC0BmB_57fuFCgSFg6hHhFpunnt5LSOrX_rrY0XrTF24F41br29W-2EzS3NMdGA\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImM2MzZkNmZlLWQ4NzktNDVjZS05NWQ3LTY1MThmY2Y5OWIxMiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODczNjEsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE5MDk2MSwiaWF0IjoxNjIxMTg3MzYxLCJqdGkiOiI4MzcxZTNjNy02YzAwLTRmOWEtYmIwMC02MTNjMTY3ZGViODkiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.HjCoYTLvyWi03Zo3o3Vtr9yuX3fG7h-sZ-7rapy_FSjTS1RBm6S47l5ZotwpniXWi2i-VF_wNuzl5Fwfvw6kUQJEtq3J8lQ-_RgDAD0p8rPi77jBGRzkjiaNse-gVsGZxGi39lWHQeEPUjIhQk4XtqGAahTRrro6zjTci4JiQCmDuVA4HEsJQwawf9TMD-CaWWMVz2sgEWuwg_iUO4ScmnfWU8u_aweCr87lmPfKwpdI6-Yb2VGOeYLcrxA1gM4SbVlpXPbL43RqDTwEXx-z8zFJ6W2RWmldc1cYZ1e0BBWSu0GtYJR5fAW_9yAc_om-R2jIMlG-HOJxGdjPosG-Hg\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.fac1rqks-diqpP-V3VYHS-wmFcZcI2517brAQUPLwij_XysNM4ykSyL52Iw1dOL6eanPB7gV4pEav9fdkpBvgf4Ykia10uLDaihIqR7mKs3WaTE0xLgT13ab-DCjuengbHuGJWCOy_WomDA0ZCS0iKxFDn76XYr_tEbelD7FJ_NlK-T8qzVjigJ1LuF0QW6UngNPAYg4RhAzhHcqeRZQBXdQwktJkVBcuGbJh2Iio--c6h19TyFmw7v9soLIN_91qBcoqYPI340elyAqup1kBaWdgRxTwwe0ut58tHYjWZubs52PNc-QmEFZwCwu59yKH2HF_C8PQs1y__-FS4Jj_Q.ZcQ9mN7JDF51mC0R.YU-zUW-gsiAa7QJf5JIqG1EKFEUsfFg0GU1Jyl6V2RDFMdGMrGuAW3irfEjyQuMfsZjk8s6pmzaiCkI2AvC696LpH1isNBg71MtXu8rsUWs7sGb0PrLJYSwgwnJqkSgL5s5TUMPUo29SAC7Vl4Vynx56fONtxysxsrVtNZCN8e_hj8xuIz-JDCcBOo7SIBGBV1trKbr4gvg4eMiDTtJ2SA4s_YZdxw4O2hoAhDEoMJK6bZ5n_x-aoYkE9VJE0ahReev04kTjkw64vZHgqHjLo93oymHo7Tub3TwBwkiRNgwOaloYyx_saEKZ6O-Yt5Xn3FqGxsoIa7ndNsSEjJ2mJqEDvyu4bmct8dKSF4W01Ts6Kaa3ZsbT4IkLjirkY-nJrpo8e79UnGlQSGOObrUtoBotFpSlEr5XbH9iCxNdufbwYKc5-lkOYhwbe4mu8MhLJ5dTQCU84825jMSJ8BS80EcKWlspUuIfbq6fZoccZoqPPARho_JbfDsee5Vggzep9DMq2UdQvQWzg6BVV1GK2YLKsjwxGz6YL7A60YeSJUYseWfwaq_bMJZodO64NCHEAvJ5UVu-UvpXmYr173HcSD5tHuuoHez1DyCDoYEO57pSnHTw-VVj5I6ZPxPGz48Mo4YbWTb9TwIM3tR8IWP3ktoZoNVuHgOMpGcWNlsDOaiz8Svs_g3ZN49cZw-lReLktvoDFTdAT6W4lLmzZIaj0jBMLSoKOBCGDOYQ80hGfJMtgOJ5NEcSPo3zGZr6pSIitfoTD5WjGkoEUhZZUxH88I4tDBmA0C4PKnWMkTLpYifIvEpig5IBkePhXrdP-6X7ALuMNJWjwr9TKCtCahTvnYvU9I13qmbTNFpfTt5KMKGDy0oDEx3-NUeLyVFnZidp_cOBDzd9g8fmGVZEIy20cLPkNrnu3V6CQHx6eX8Q6rQhxaxrJEKJPXhAq7U4gEK6tIkAWCA0MmsgBSor_Hm367nvrV2F-fQzCZo0fGjxjL6Q2RkcgiGUEmk06ar58PdInF0d2V_OAMnNgZl2iKxLjeLenp4zAqSpaNYDuJg99Kgq8aASxqK81RL1xcc0LwVfitkdPNljVplrI9rtvlCeN2dKhQGyq9FPDRyZDGDyV3--xjX2HOxxHHtpX07tKOR05r48SOqPbuCX-78Vvg9fx1gzV88jRNl-ouPNTT6NC0a58eWTupQyOBsu9Cf18tWoGYBJIFbaCmcoiG07Y8K9n6-lssyoPM7jk1ceK-J-yp4hgcV-hSKylO7vp3xAkyczxuwoq2ApTzhtlSQQ2_H_jZxMz44IBu4YoQKhvPNsvSxYKfXag6NthrF2RTfj6OM.LHG2L7AtcH4wD7Zu3x-61Q\"\n}\n \n"},{"result":{"nanos":749600,"millis":0.7496,"status":"passed"},"step":{"comments":["# Create the Authorization header"],"background":true,"line":18,"prefix":"*","index":5,"text":"def idToken = signIn.response.idToken"}},{"result":{"nanos":4501500,"millis":4.5015,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":6,"text":"def user_header = \"Bearer \" + idToken"}},{"result":{"nanos":939900,"millis":0.9399,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":7,"text":"print user_header"},"stepLog":"19:49:20.712 [print] Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjNjM2ZDZmZS1kODc5LTQ1Y2UtOTVkNy02NTE4ZmNmOTliMTIiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2MSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2MSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2MSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.WWBmSBUnCkZD-neVFYTkJv6_qj37kDJsJfOcTvBEQxrkR1oZBsX-HTa2i2vG3y9xs0t61hXcKClhfGAL5RPGBQ34fmF7actmQ7ipjPAsBn2YaT-MtlhnDXZP2Joxj_noKTfj5Q6YKlm_s5hUh-ctUWibb668e5Nq4cckwxHCqy4UdqQNW8xDlbA7aN2dqD-cKJbE9u248GmdtNNpSoD4_djdMQFxqjAIYpf0HKRV4FkUzbrUYhVt3kgCbJRyzXEpnXipGFHO0H4tX2f9b8P1hs9PC0BmB_57fuFCgSFg6hHhFpunnt5LSOrX_rrY0XrTF24F41br29W-2EzS3NMdGA \n"},{"result":{"nanos":932800,"millis":0.9328,"status":"passed"},"step":{"endLine":28,"line":25,"prefix":"*","docString":"read('SaveUser.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":759500,"millis":0.7595,"status":"passed"},"step":{"comments":["# JSON file with the new user's datas"],"line":30,"prefix":"*","index":1,"text":"def user_datas = read('NewUser_BadUsername.json')"}},{"result":{"nanos":376900,"millis":0.3769,"status":"passed"},"step":{"line":32,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":2010600,"millis":2.0106,"status":"passed"},"step":{"line":33,"prefix":"And","index":3,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":650400,"millis":0.6504,"status":"passed"},"step":{"line":34,"prefix":"And","index":4,"text":"request { query: '#(query)',  variables: '#(user_datas)'}"}},{"result":{"nanos":399527400,"millis":399.5274,"status":"passed"},"step":{"line":35,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:49:20.718 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjNjM2ZDZmZS1kODc5LTQ1Y2UtOTVkNy02NTE4ZmNmOTliMTIiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2MSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2MSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2MSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.WWBmSBUnCkZD-neVFYTkJv6_qj37kDJsJfOcTvBEQxrkR1oZBsX-HTa2i2vG3y9xs0t61hXcKClhfGAL5RPGBQ34fmF7actmQ7ipjPAsBn2YaT-MtlhnDXZP2Joxj_noKTfj5Q6YKlm_s5hUh-ctUWibb668e5Nq4cckwxHCqy4UdqQNW8xDlbA7aN2dqD-cKJbE9u248GmdtNNpSoD4_djdMQFxqjAIYpf0HKRV4FkUzbrUYhVt3kgCbJRyzXEpnXipGFHO0H4tX2f9b8P1hs9PC0BmB_57fuFCgSFg6hHhFpunnt5LSOrX_rrY0XrTF24F41br29W-2EzS3NMdGA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 251\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"User\",\"username\":\"user10.test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n19:49:21.115 response time in milliseconds: 396\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 137\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:49:21 GMT\n1 < x-amzn-RequestId: 30ebf8bd-c751-416a-9d63-56e1d4486383\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbstPE0HDoEFzbA=\n1 < X-Amzn-Trace-Id: Root=1-60a15b21-2831e76b37ff759a682e539c;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd86a70de12d26e8fcde971fee50512c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: -ZCtVuq-JBJRx-gwQ64VXbH9yfFKz2GrYb2uRUFTJqyVJKojqOohnw==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Invalid email address format.\"}]}\n"},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":36,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4025157300,"millis":4025.1573,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":39,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":1678700,"millis":1.6787,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":42,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":8669200,"millis":8.6692,"status":"passed"},"step":{"comments":["# The user musn't be created, so the response contains a field \"error\""],"line":45,"prefix":"*","index":9,"text":"match response.errors != '#notpresent'"}}],"executorName":"main","line":23,"name":"Creation of a new user with a wrong username","description":"","durationMillis":5201.6144,"startTime":1621187359814,"failed":false,"refId":"[1:23]","endTime":1621187365153,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":200200,"millis":0.2002,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"19:49:25.161 karate.env system property was: prod \n"},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":787500,"millis":0.7875,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":349830200,"millis":349.8302,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-16 07:49:25 p.Â m.","durationMillis":342.3787,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":912200,"millis":0.9122,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":702100,"millis":0.7021,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"19:49:25.170 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":308500,"millis":0.3085,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":202700,"millis":0.2027,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":339558300,"millis":339.5583,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:49:25.172 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n19:49:25.509 response time in milliseconds: 335\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:49:26 GMT\n1 < x-amzn-RequestId: c20661ca-0301-4d95-b6cc-033a2a772f22\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbst7Fu9joEFj4w=\n1 < X-Amzn-Trace-Id: Root=1-60a15b25-1f210c11054bf3130427b161\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 bd86a70de12d26e8fcde971fee50512c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: -lqpxdk1voNmVgpbmlrJqMCo8-OWAALL6x-2WkSju8JzKxYZpOGmHg==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIwNjdlNmMxYi1lNWRlLTRkYjUtOTU4My1mNjc4OGM2MWE4ODQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2NiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2NiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2NiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.bEeAkEoGKFnCjIu5qQJSinIGWWBzChZUQjovTWZBrgd-yHckICzuiRt-4S3K67gd5Ybaw7wEkz9kDMTuDxYvEbK5rafdYB-u_Z0Q6gz9kURWBu0VwaaLUGVW5MlR8EJNZhWR58UUius4HQILRKLR71qWF412D425D21SgN9EOxpI9AQE08a0EvdA9gu_ypRfuZ9WxS6jHNjNgZXenfOEx1lz4fXlaYMSh15OPt29RXSg9IhXzU6Q5FfiY2Wd4dFXbfb01Kcu94bXjEUS3-HvmymnJQR2VXwkS0Y8zHmL763nZ5xmqDQH5Y5vwtiq30IK2W49XMYGbkLGXTKdDlwAcA\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjA2N2U2YzFiLWU1ZGUtNGRiNS05NTgzLWY2Nzg4YzYxYTg4NCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODczNjYsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE5MDk2NiwiaWF0IjoxNjIxMTg3MzY2LCJqdGkiOiI3ZWM5YmM2ZC0yZGM1LTQyNmEtOWNiOC1mNzczY2FjMDRjM2QiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.RgKZq4XDjzl33Eyr2zEKmzIJKgoCNbKNoZxmsZBksK-p8O63kB3ZxMOx9dpppC6STqIYogUgW_IFOJ3PDTTwQA7yR-yVjY_xoOVkIteubCDFMz__mxdBYX2lVSr9ax3Yw25aZOuRwWcVA1s1KIrOgkPa4IB0jr2l0UxlK6Ydf066YHdIVlaAZ9qo-D-8ScuGdH5WffPGDduegXjfqrHalrfNW_emW2oJko4cQsIITXrKsEVF1I-O80rA5f8qy6Gg3qZmKX07o9pMSAfAFwAd_ZEmbWl325TGEcj7KYX4qTWzU5IVEOLdP7cDuED2xJBrZj2lCOv6W-lThLND27Pzfw\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.octjLKebYES8hUFQzyrvYInrKZagFUJvfYdFxMJNtD4IuC-O7_Y0ELGHaGys9C36UD55t1IMrdQkkw4zCk88Duf7QsjflUb-udzdMNZpb8tSuv2-JIR7BMkGLa95CWdk_DNEgw67V6H8iCCVU_i046dk7Oj-aRBsmSiQZx3QQBMyIEzI4UXyGYg2_iPwlfLdFzQM15gKZE6a_FdLxrp6g9jDe3X7QsueVCHNyCKl7Olve5M7srxpItSnSj2X6_r_Igo6QRhjWxLGR6gaer2IEda0zOEEbGBvUQEHJ-vTvkWhViSKuiyv3tb-QjHV8lmh6SLz468EmDOyncjuqpAGbg.O0uy9wTS5sdlPZAT.OdpQuoOoqO-8d3IYLTGR-J0nyAbHbTbgP-ft4JWnBdtyH2XeP73izMAIlWRMS0JTfgU9aZ5uKFabcsJVRJGRH1oRDY8AVUdFyHhj_9yBQJvhLOy2VeJqndxfQSOFg7mSLaTNWrciTlb76utPscoGK1N3HIpuzp5qiTwH9o-NNsmppBvS395u1KG9AF0IvBs7TgqD-2k6h1-LBzGAgsAhb4lLJglKR4OvFqc3WUdcukzbsI2o_xf3wTCXTtAAfmI4cB4sVUbV7wU8T8CTnGPC35wKT81WxFuJoaNou77b1eycAR5eViE9ySMRLjihk8K0-m0rSHG46CeqNo-DRME8QgHWZmqkI7eeXaDdqtV4-rrQO5y7b2gXeOoXpwB7BFYokVvCoi5OiM-SdKVQTIaBHMUp_dZ1S1rurb-pIrxUQl0SVx6-_AjVZglzfQ0qX9mt0sSXMFOHx1CRfYfQHH1PjJgHOyf1xFO1kcja5OhQnB90uwbYA-SaMCTeeoh4Mzp-2mUqUn60g1-XHov9OX6M8xTn_yKMgCcd8U2DYa27WSB8M7sMjEFisT4O6zjNKCbl0A-_bo_-nwDT4i9zXZ73KOGjxFtmlDTH1jkqEOPZOw5PBLsmdmwBC4Dn3aKqcbj-nK22k5I3oKKusy-f2CMdC3b9UXexwHJTCEiWDeQZ7ghGrD9Iltn3oRNDtwD1PbUVXbuxhBqoosf9itwQ99hr8mJWSBLOsyYjAOdZuMeU6NSsNIFSTzlsyXRtx7-xAts7dOlDdGxyZZmKMHvrUgqGHE4MDWQ2JrE0bU5UBIDgcunm83nRcL2m7KqZcvAdQ8ouErlAkayk_vgudUFuQ5Efk4ntoC_OU72QdPg_zTwimztxlwd18_0xFHtTI2RxVOHbvcLgdzmPH2PagqVGfqLVHfHeSJBmGn4JA4_0LAV9xWLqt3tvuC3H458oZfTRRYggNUI7-8NOPwGoKPb-u8YnQx02tw3ijcDVFFFwFohZg8Qu_pNCvoaAabKyeplLcm-63Ib-UmuX4J6ZXVK5khHCMJVeUzCf0hpNKJnW-MDFBLTi9Bj4X1hdSPutPkoWuo83sn6nzM5Wre27dM8y7xL3gCukUvpr9_aWjPdujmK7niO8rLGzh0kwugw6n35Yxc4_IawWqCq0FEt9MZj29ixBwqFoZZN9IFPPbh9xF-uL4Ar9XT53yQU_RtjZIc9YBQbeSt55fIzAg4IXAp10ek7SzW3quRSU0SokJdu8qdkTuJ1POT2K6lU4oxfKXgMDYigHKbDYxzIdaI_D54o3Y_2Azo7WaQlrKlm92O2MHTOH53R2SUuZ2y7Hi9MURrwnO3s.fL1VXd4PpK7Ncn9X_gF9qg\"}\n"},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":310000,"millis":0.31,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":348200,"millis":0.3482,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"19:49:25.512 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIwNjdlNmMxYi1lNWRlLTRkYjUtOTU4My1mNjc4OGM2MWE4ODQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2NiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2NiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2NiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.bEeAkEoGKFnCjIu5qQJSinIGWWBzChZUQjovTWZBrgd-yHckICzuiRt-4S3K67gd5Ybaw7wEkz9kDMTuDxYvEbK5rafdYB-u_Z0Q6gz9kURWBu0VwaaLUGVW5MlR8EJNZhWR58UUius4HQILRKLR71qWF412D425D21SgN9EOxpI9AQE08a0EvdA9gu_ypRfuZ9WxS6jHNjNgZXenfOEx1lz4fXlaYMSh15OPt29RXSg9IhXzU6Q5FfiY2Wd4dFXbfb01Kcu94bXjEUS3-HvmymnJQR2VXwkS0Y8zHmL763nZ5xmqDQH5Y5vwtiq30IK2W49XMYGbkLGXTKdDlwAcA \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":342.3787,"startTime":1621187365168,"failed":false,"refId":"[1:6]","endTime":1621187365512,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":938200,"millis":0.9382,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"19:49:25.513 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIwNjdlNmMxYi1lNWRlLTRkYjUtOTU4My1mNjc4OGM2MWE4ODQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2NiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2NiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2NiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.bEeAkEoGKFnCjIu5qQJSinIGWWBzChZUQjovTWZBrgd-yHckICzuiRt-4S3K67gd5Ybaw7wEkz9kDMTuDxYvEbK5rafdYB-u_Z0Q6gz9kURWBu0VwaaLUGVW5MlR8EJNZhWR58UUius4HQILRKLR71qWF412D425D21SgN9EOxpI9AQE08a0EvdA9gu_ypRfuZ9WxS6jHNjNgZXenfOEx1lz4fXlaYMSh15OPt29RXSg9IhXzU6Q5FfiY2Wd4dFXbfb01Kcu94bXjEUS3-HvmymnJQR2VXwkS0Y8zHmL763nZ5xmqDQH5Y5vwtiq30IK2W49XMYGbkLGXTKdDlwAcA\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjA2N2U2YzFiLWU1ZGUtNGRiNS05NTgzLWY2Nzg4YzYxYTg4NCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODczNjYsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE5MDk2NiwiaWF0IjoxNjIxMTg3MzY2LCJqdGkiOiI3ZWM5YmM2ZC0yZGM1LTQyNmEtOWNiOC1mNzczY2FjMDRjM2QiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.RgKZq4XDjzl33Eyr2zEKmzIJKgoCNbKNoZxmsZBksK-p8O63kB3ZxMOx9dpppC6STqIYogUgW_IFOJ3PDTTwQA7yR-yVjY_xoOVkIteubCDFMz__mxdBYX2lVSr9ax3Yw25aZOuRwWcVA1s1KIrOgkPa4IB0jr2l0UxlK6Ydf066YHdIVlaAZ9qo-D-8ScuGdH5WffPGDduegXjfqrHalrfNW_emW2oJko4cQsIITXrKsEVF1I-O80rA5f8qy6Gg3qZmKX07o9pMSAfAFwAd_ZEmbWl325TGEcj7KYX4qTWzU5IVEOLdP7cDuED2xJBrZj2lCOv6W-lThLND27Pzfw\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.octjLKebYES8hUFQzyrvYInrKZagFUJvfYdFxMJNtD4IuC-O7_Y0ELGHaGys9C36UD55t1IMrdQkkw4zCk88Duf7QsjflUb-udzdMNZpb8tSuv2-JIR7BMkGLa95CWdk_DNEgw67V6H8iCCVU_i046dk7Oj-aRBsmSiQZx3QQBMyIEzI4UXyGYg2_iPwlfLdFzQM15gKZE6a_FdLxrp6g9jDe3X7QsueVCHNyCKl7Olve5M7srxpItSnSj2X6_r_Igo6QRhjWxLGR6gaer2IEda0zOEEbGBvUQEHJ-vTvkWhViSKuiyv3tb-QjHV8lmh6SLz468EmDOyncjuqpAGbg.O0uy9wTS5sdlPZAT.OdpQuoOoqO-8d3IYLTGR-J0nyAbHbTbgP-ft4JWnBdtyH2XeP73izMAIlWRMS0JTfgU9aZ5uKFabcsJVRJGRH1oRDY8AVUdFyHhj_9yBQJvhLOy2VeJqndxfQSOFg7mSLaTNWrciTlb76utPscoGK1N3HIpuzp5qiTwH9o-NNsmppBvS395u1KG9AF0IvBs7TgqD-2k6h1-LBzGAgsAhb4lLJglKR4OvFqc3WUdcukzbsI2o_xf3wTCXTtAAfmI4cB4sVUbV7wU8T8CTnGPC35wKT81WxFuJoaNou77b1eycAR5eViE9ySMRLjihk8K0-m0rSHG46CeqNo-DRME8QgHWZmqkI7eeXaDdqtV4-rrQO5y7b2gXeOoXpwB7BFYokVvCoi5OiM-SdKVQTIaBHMUp_dZ1S1rurb-pIrxUQl0SVx6-_AjVZglzfQ0qX9mt0sSXMFOHx1CRfYfQHH1PjJgHOyf1xFO1kcja5OhQnB90uwbYA-SaMCTeeoh4Mzp-2mUqUn60g1-XHov9OX6M8xTn_yKMgCcd8U2DYa27WSB8M7sMjEFisT4O6zjNKCbl0A-_bo_-nwDT4i9zXZ73KOGjxFtmlDTH1jkqEOPZOw5PBLsmdmwBC4Dn3aKqcbj-nK22k5I3oKKusy-f2CMdC3b9UXexwHJTCEiWDeQZ7ghGrD9Iltn3oRNDtwD1PbUVXbuxhBqoosf9itwQ99hr8mJWSBLOsyYjAOdZuMeU6NSsNIFSTzlsyXRtx7-xAts7dOlDdGxyZZmKMHvrUgqGHE4MDWQ2JrE0bU5UBIDgcunm83nRcL2m7KqZcvAdQ8ouErlAkayk_vgudUFuQ5Efk4ntoC_OU72QdPg_zTwimztxlwd18_0xFHtTI2RxVOHbvcLgdzmPH2PagqVGfqLVHfHeSJBmGn4JA4_0LAV9xWLqt3tvuC3H458oZfTRRYggNUI7-8NOPwGoKPb-u8YnQx02tw3ijcDVFFFwFohZg8Qu_pNCvoaAabKyeplLcm-63Ib-UmuX4J6ZXVK5khHCMJVeUzCf0hpNKJnW-MDFBLTi9Bj4X1hdSPutPkoWuo83sn6nzM5Wre27dM8y7xL3gCukUvpr9_aWjPdujmK7niO8rLGzh0kwugw6n35Yxc4_IawWqCq0FEt9MZj29ixBwqFoZZN9IFPPbh9xF-uL4Ar9XT53yQU_RtjZIc9YBQbeSt55fIzAg4IXAp10ek7SzW3quRSU0SokJdu8qdkTuJ1POT2K6lU4oxfKXgMDYigHKbDYxzIdaI_D54o3Y_2Azo7WaQlrKlm92O2MHTOH53R2SUuZ2y7Hi9MURrwnO3s.fL1VXd4PpK7Ncn9X_gF9qg\"\n}\n \n"},{"result":{"nanos":239200,"millis":0.2392,"status":"passed"},"step":{"comments":["# Create the Authorization header"],"background":true,"line":18,"prefix":"*","index":5,"text":"def idToken = signIn.response.idToken"}},{"result":{"nanos":193300,"millis":0.1933,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":6,"text":"def user_header = \"Bearer \" + idToken"}},{"result":{"nanos":299300,"millis":0.2993,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":7,"text":"print user_header"},"stepLog":"19:49:25.514 [print] Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIwNjdlNmMxYi1lNWRlLTRkYjUtOTU4My1mNjc4OGM2MWE4ODQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2NiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2NiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2NiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.bEeAkEoGKFnCjIu5qQJSinIGWWBzChZUQjovTWZBrgd-yHckICzuiRt-4S3K67gd5Ybaw7wEkz9kDMTuDxYvEbK5rafdYB-u_Z0Q6gz9kURWBu0VwaaLUGVW5MlR8EJNZhWR58UUius4HQILRKLR71qWF412D425D21SgN9EOxpI9AQE08a0EvdA9gu_ypRfuZ9WxS6jHNjNgZXenfOEx1lz4fXlaYMSh15OPt29RXSg9IhXzU6Q5FfiY2Wd4dFXbfb01Kcu94bXjEUS3-HvmymnJQR2VXwkS0Y8zHmL763nZ5xmqDQH5Y5vwtiq30IK2W49XMYGbkLGXTKdDlwAcA \n"},{"result":{"nanos":966500,"millis":0.9665,"status":"passed"},"step":{"endLine":54,"comments":["# Get the query from a .graphql file"],"line":51,"prefix":"*","docString":"read('UserReadModel.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":384900,"millis":0.3849,"status":"passed"},"step":{"comments":["# Define the username of the user to list"],"line":57,"prefix":"*","index":1,"text":"def newUser = read('NewUser_BadUsername.json')"}},{"result":{"nanos":7559400,"millis":7.5594,"status":"passed"},"step":{"endLine":63,"line":58,"prefix":"*","docString":"{ \n   \"id\": \"#(NewUser_BadUsername.username)\"\n}","index":2,"text":"def id ="}},{"result":{"nanos":957100,"millis":0.9571,"status":"passed"},"step":{"line":64,"prefix":"*","index":3,"text":"print id"},"stepLog":"19:49:25.524 [print] {\n  \"id\": \"#(NewUser_BadUsername.username)\"\n}\n \n"},{"result":{"nanos":160900,"millis":0.1609,"status":"passed"},"step":{"line":66,"prefix":"Given","index":4,"text":"path 'graphql'"}},{"result":{"nanos":223300,"millis":0.2233,"status":"passed"},"step":{"line":68,"prefix":"And","index":5,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"line":69,"prefix":"And","index":6,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":500300,"millis":0.5003,"status":"passed"},"step":{"line":70,"prefix":"And","index":7,"text":"request { query: '#(query)', variables: '#(id)' }"}},{"result":{"nanos":149663800,"millis":149.6638,"status":"passed"},"step":{"line":71,"prefix":"When","index":8,"text":"method post"},"stepLog":"19:49:25.526 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIwNjdlNmMxYi1lNWRlLTRkYjUtOTU4My1mNjc4OGM2MWE4ODQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NzM2NiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE5MDk2NiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NzM2NiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.bEeAkEoGKFnCjIu5qQJSinIGWWBzChZUQjovTWZBrgd-yHckICzuiRt-4S3K67gd5Ybaw7wEkz9kDMTuDxYvEbK5rafdYB-u_Z0Q6gz9kURWBu0VwaaLUGVW5MlR8EJNZhWR58UUius4HQILRKLR71qWF412D425D21SgN9EOxpI9AQE08a0EvdA9gu_ypRfuZ9WxS6jHNjNgZXenfOEx1lz4fXlaYMSh15OPt29RXSg9IhXzU6Q5FfiY2Wd4dFXbfb01Kcu94bXjEUS3-HvmymnJQR2VXwkS0Y8zHmL763nZ5xmqDQH5Y5vwtiq30IK2W49XMYGbkLGXTKdDlwAcA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 172\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"#(NewUser_BadUsername.username)\"},\"query\":\"query UserReadModel($id: ID!) {\\r\\n    UserReadModel(id: $id) {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n19:49:25.673 response time in milliseconds: 147\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 31\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:49:26 GMT\n1 < x-amzn-RequestId: 710fa76b-4885-465f-a298-28356eec09d7\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbst-H-tjoEFRxQ=\n1 < X-Amzn-Trace-Id: Root=1-60a15b26-45a0f44a36d2ed161b8f6239;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a79264f1781916a9abe8d5b96e40a058.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: GlWX51P8wPsIQmkotiUUEBCMNsSn4x61gCE7m3A3EkZEz64jyWGBHQ==\n{\"data\":{\"UserReadModel\":null}}\n"},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":72,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":2174000,"millis":2.174,"status":"passed"},"step":{"comments":["# As the user wasn't created, the response of the query shouldn't return values"],"line":75,"prefix":"*","index":10,"text":"match response.data.UserReadModel != {id: '#(newUser.username)', role: '#(newUser.role)' }"}}],"executorName":"main","line":48,"name":"Try to List the new user by id","description":"","durationMillis":515.1555,"startTime":1621187365160,"failed":false,"refId":"[2:48]","endTime":1621187365678,"exampleIndex":-1}],"callDepth":0,"name":"Test the users with wrong paramenters in the graphQL API in the environment set from the java class","description":"","resultDate":"2021-05-16 07:49:25 p.Â m.","durationMillis":5716.7699,"passedCount":2}