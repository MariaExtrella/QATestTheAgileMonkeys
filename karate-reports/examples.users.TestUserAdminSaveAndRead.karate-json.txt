{"failedCount":1,"prefixedPath":"classpath:examples\/users\/TestUserAdminSaveAndRead.feature","packageQualifiedName":"examples.users.TestUserAdminSaveAndRead","loopIndex":-1,"relativePath":"examples\/users\/TestUserAdminSaveAndRead.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1966200,"millis":1.9662,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"00:33:24.299 karate.env system property was: prod \n"},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":38625800,"millis":38.6258,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":863849700,"millis":863.8497,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 12:34:06 a.Â m.","durationMillis":838.6957,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":2683100,"millis":2.6831,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":4893300,"millis":4.8933,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"00:33:24.400 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":6826600,"millis":6.8266,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":110800,"millis":0.1108,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":805900,"millis":0.8059,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":821132100,"millis":821.1321,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:24.639 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n00:33:25.227 response time in milliseconds: 585\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:25 GMT\n1 < x-amzn-RequestId: b0e6e28e-8719-4217-8d68-12c7a29ef40c\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpQVExVDoEF1dw=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef35-36f68bd71b3f60a66afe5ff3\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 06bb36c6f8415e5c64e03df316bffb5b.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: A_oyTpERBivgpGiPRDW0v9jTMoosDWAQIRjqo6hl3u0LuIyOv8fGAw==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjOGQyMjM4YS0wZmJkLTQxNjctOGI5Ni1jNWVlMTJhYTllMWYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgwNSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQwNSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgwNSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.zfAMbeAbX8O5Z1ttJbJqmsLrDN2YNL2bKCHF2VnwZ6UZCHFBE-9Qo-3YrqqMzTQeUt86XLp6q8MjacM4N0SZL8_zqZADWd3i04pdETgPejFpuHohQLartbYT6sMO8iCfDVPMCgMGOQsOAGLBbGokw6foFivrIvxMBj8Oquq0ewB0Jt8-7dHReEKWIm5FdveqlurEJTB0DAB-TfUO4bDlckDE7YUKxM7J_kawxg8xNrPh6_5TI4VoeLPDdE-AqkdCIUfdjukO86KEnu25LxdpOibflUUaTjOxQkguSy4rgzLL1wJk5-jqjy2zJgK6dOvSzZaSQ04LGHMUEiYk3V45NA\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImM4ZDIyMzhhLTBmYmQtNDE2Ny04Yjk2LWM1ZWUxMmFhOWUxZiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MDUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQwNSwiaWF0IjoxNjIxMjkwODA1LCJqdGkiOiI2MGNjMGJiNC00OTUxLTQxYjEtOWU5MC0zYjljMmVjYTNjNDYiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.IR_hlVc2WPkbcKJrlppkXTR_1yal8pEsTAMs7wDPxZw5rGHFBKUoW47vo0zGxUdh1JCgK6eKXJZ8xqxUGov9rmbusfOanMJZCnXx4rcl4hKLPS62vj14qM_qJDUhgufkktNbmYf9IIGlfT514QtIDWSCEwiqTkdeZ0-MTfOi1HT0INu3LlHR-8jqmKo7YClVLgd1tgtsUiLZKCbbjWT8RmGAEKAUQ-6eqlMeHNjaLSD9OwQDcP79Bh0Za18C9OCIeOBVcgwKV73OAV6HIbXt8cMxwZbQC1ZDoa9eFF6hkIWkwOAAjny_yA58m3fv_CavwNIQ5MH3Gp9HfCzaL7W_iQ\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.Pr-FY9Kd46LjNYUeafGH-I7ZuGsR-u4JEq0ZcGmnZeoty1mhMBjH9tCxJivgBxGpXDQixD2svldZLI8u834qsWSXQ5ON81acIJwk2FXU8qD2KazzXYRmhm7LScdrb0T1enaP7ntkqA92cWXS5AokJ6ECn2OT8blcE3Z2nI3HY6o3AModDkLYU7PEFU6oCqwtXEvR8WIfSSytvX1l0fKhA5SyyQDeJCEWe5xmWRnGY1SV-llRRRJ05dofg_aT_k5Gx_WTDXzIiNiIFDFph8vhMIM2IXeEuDJougZgayoxTt794kOBIc8f9z4WcrykwrfCgS2cQdqQ2qLGeXZq6XeFrw.yt776X7EgMvosVF4.ID7NXxmXm0osEIdaRcWuM4-OceDgWACfQqKvWHZ43nItQ5fhP1twRXDdzTzpHYyS4mgg4e9JpYAFb9dc852GvBm_LDPaacuZhO7b_ZAFCESzVnAaqqUdqej2ebE3DtoWAbeFlFFwD0_UfX7tqf8oRzeUOABSxC2vsGGh6xfKxBsJtJd6dxY1wPzq5xJjy6E1q-ehdvK9EGMoYrkRnlSxYnKfcFizq8Pk4oXFolBYtFyV2KShvh_VtAlxcrh38cnBItpki8c7oUQ_ytn3K7eHPJ17e_lJpsuv66nghfxSc_ia3mfYA-c4SbuflA4XBKM5qWErISp-6iPjRG_YPvOVlHG5oLky0iyIHhe4js1SUPXMSXOjyiDdHseajVMJKKOdAz6z_ORRKwwf036qDyZ7M7I7tcfJRtz301wEoK2iKKe78F_p0LLYgr9uZDGVxZgid565ovwktWfsAUKUqY8HQcuMPr_j5-9pG1O570e4mx9M04gtg1I-R5yCpq1iDlA7WS1IFmZqt0FJLUy3x4MbYp8_sAz5X6g_1HdX3kFxy6icmKXLR-IQ4qEWmjXqIFXRVGWnlqY4zfrqj7sCPfDCdlsaGolEoyYcPcNI-Kzqm8l_S6HsrGQF_UaMh_YKyL52zAZ-hEI8m5viJmNlmnFZF5_fseaw9vaJHsyUNHVCTkwsDCH6kEGakvOt0hWSDjfAPrLIN7b0_eCHjUSMTaqp3MkPczDbkgdOWEZDCUvvpo_EVZ1cvo25SHluQnlt88cmw3rkGktZA57gkLzscpeox5SF0IgXyYyzV60Z1jyfdqNIXWa4VOzoUCFN3kpH1YGorjvmL41bR-iKeinNiDAfi9TzSVqv3pH9WycLm9sB0s8ws90NmcIHGKOzSmWsBujtRG6krgTQX5AyEwODfQUYZOq9bse1h8YM2lCSi8NgXwJxaY-DaQVJFr7uC494dNElNkDfhDvk4jZrawBwN0lE5kfPzakvs8Rfm1gTJEGaKsLJip9gRyNB458f_gC_wzjQYiHuXIz8uKPETKvlw_JJTNvUf91xHynSPhMBSabI-E1CsUu4xHF3VlQtsnJpwLXSaMRVPSvjj8w8EQTnVkuY_GfYtPbzICsOMflwwol5q_cxQil9L5vJjX0AlZKtUm9iaLtusi3Miiy_yFF5lPShG_JquoP2Z9O4zxi4rlsQDjUjv7qUBzR2BUnKx76PWUDUJRJwpIjONh1C3LcjiaUo1OfrUovj942FF01MtHh6YaNDCVhtD-3jE6aEF0YIirY_Rrc_0wYFcVKBbdUULNW0GiSmk3wAowZs_IbclpNQARKQC7lKk4PgeaCH5per3Dc.lNdqMQRlKq-dffiGsBYjjg\"}\n"},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1231200,"millis":1.2312,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":956600,"millis":0.9566,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"00:33:25.233 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjOGQyMjM4YS0wZmJkLTQxNjctOGI5Ni1jNWVlMTJhYTllMWYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgwNSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQwNSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgwNSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.zfAMbeAbX8O5Z1ttJbJqmsLrDN2YNL2bKCHF2VnwZ6UZCHFBE-9Qo-3YrqqMzTQeUt86XLp6q8MjacM4N0SZL8_zqZADWd3i04pdETgPejFpuHohQLartbYT6sMO8iCfDVPMCgMGOQsOAGLBbGokw6foFivrIvxMBj8Oquq0ewB0Jt8-7dHReEKWIm5FdveqlurEJTB0DAB-TfUO4bDlckDE7YUKxM7J_kawxg8xNrPh6_5TI4VoeLPDdE-AqkdCIUfdjukO86KEnu25LxdpOibflUUaTjOxQkguSy4rgzLL1wJk5-jqjy2zJgK6dOvSzZaSQ04LGHMUEiYk3V45NA \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":838.6957,"startTime":1621290804392,"failed":false,"refId":"[1:6]","endTime":1621290805233,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1769400,"millis":1.7694,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"00:33:25.236 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjOGQyMjM4YS0wZmJkLTQxNjctOGI5Ni1jNWVlMTJhYTllMWYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgwNSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQwNSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgwNSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.zfAMbeAbX8O5Z1ttJbJqmsLrDN2YNL2bKCHF2VnwZ6UZCHFBE-9Qo-3YrqqMzTQeUt86XLp6q8MjacM4N0SZL8_zqZADWd3i04pdETgPejFpuHohQLartbYT6sMO8iCfDVPMCgMGOQsOAGLBbGokw6foFivrIvxMBj8Oquq0ewB0Jt8-7dHReEKWIm5FdveqlurEJTB0DAB-TfUO4bDlckDE7YUKxM7J_kawxg8xNrPh6_5TI4VoeLPDdE-AqkdCIUfdjukO86KEnu25LxdpOibflUUaTjOxQkguSy4rgzLL1wJk5-jqjy2zJgK6dOvSzZaSQ04LGHMUEiYk3V45NA\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImM4ZDIyMzhhLTBmYmQtNDE2Ny04Yjk2LWM1ZWUxMmFhOWUxZiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MDUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQwNSwiaWF0IjoxNjIxMjkwODA1LCJqdGkiOiI2MGNjMGJiNC00OTUxLTQxYjEtOWU5MC0zYjljMmVjYTNjNDYiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.IR_hlVc2WPkbcKJrlppkXTR_1yal8pEsTAMs7wDPxZw5rGHFBKUoW47vo0zGxUdh1JCgK6eKXJZ8xqxUGov9rmbusfOanMJZCnXx4rcl4hKLPS62vj14qM_qJDUhgufkktNbmYf9IIGlfT514QtIDWSCEwiqTkdeZ0-MTfOi1HT0INu3LlHR-8jqmKo7YClVLgd1tgtsUiLZKCbbjWT8RmGAEKAUQ-6eqlMeHNjaLSD9OwQDcP79Bh0Za18C9OCIeOBVcgwKV73OAV6HIbXt8cMxwZbQC1ZDoa9eFF6hkIWkwOAAjny_yA58m3fv_CavwNIQ5MH3Gp9HfCzaL7W_iQ\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.Pr-FY9Kd46LjNYUeafGH-I7ZuGsR-u4JEq0ZcGmnZeoty1mhMBjH9tCxJivgBxGpXDQixD2svldZLI8u834qsWSXQ5ON81acIJwk2FXU8qD2KazzXYRmhm7LScdrb0T1enaP7ntkqA92cWXS5AokJ6ECn2OT8blcE3Z2nI3HY6o3AModDkLYU7PEFU6oCqwtXEvR8WIfSSytvX1l0fKhA5SyyQDeJCEWe5xmWRnGY1SV-llRRRJ05dofg_aT_k5Gx_WTDXzIiNiIFDFph8vhMIM2IXeEuDJougZgayoxTt794kOBIc8f9z4WcrykwrfCgS2cQdqQ2qLGeXZq6XeFrw.yt776X7EgMvosVF4.ID7NXxmXm0osEIdaRcWuM4-OceDgWACfQqKvWHZ43nItQ5fhP1twRXDdzTzpHYyS4mgg4e9JpYAFb9dc852GvBm_LDPaacuZhO7b_ZAFCESzVnAaqqUdqej2ebE3DtoWAbeFlFFwD0_UfX7tqf8oRzeUOABSxC2vsGGh6xfKxBsJtJd6dxY1wPzq5xJjy6E1q-ehdvK9EGMoYrkRnlSxYnKfcFizq8Pk4oXFolBYtFyV2KShvh_VtAlxcrh38cnBItpki8c7oUQ_ytn3K7eHPJ17e_lJpsuv66nghfxSc_ia3mfYA-c4SbuflA4XBKM5qWErISp-6iPjRG_YPvOVlHG5oLky0iyIHhe4js1SUPXMSXOjyiDdHseajVMJKKOdAz6z_ORRKwwf036qDyZ7M7I7tcfJRtz301wEoK2iKKe78F_p0LLYgr9uZDGVxZgid565ovwktWfsAUKUqY8HQcuMPr_j5-9pG1O570e4mx9M04gtg1I-R5yCpq1iDlA7WS1IFmZqt0FJLUy3x4MbYp8_sAz5X6g_1HdX3kFxy6icmKXLR-IQ4qEWmjXqIFXRVGWnlqY4zfrqj7sCPfDCdlsaGolEoyYcPcNI-Kzqm8l_S6HsrGQF_UaMh_YKyL52zAZ-hEI8m5viJmNlmnFZF5_fseaw9vaJHsyUNHVCTkwsDCH6kEGakvOt0hWSDjfAPrLIN7b0_eCHjUSMTaqp3MkPczDbkgdOWEZDCUvvpo_EVZ1cvo25SHluQnlt88cmw3rkGktZA57gkLzscpeox5SF0IgXyYyzV60Z1jyfdqNIXWa4VOzoUCFN3kpH1YGorjvmL41bR-iKeinNiDAfi9TzSVqv3pH9WycLm9sB0s8ws90NmcIHGKOzSmWsBujtRG6krgTQX5AyEwODfQUYZOq9bse1h8YM2lCSi8NgXwJxaY-DaQVJFr7uC494dNElNkDfhDvk4jZrawBwN0lE5kfPzakvs8Rfm1gTJEGaKsLJip9gRyNB458f_gC_wzjQYiHuXIz8uKPETKvlw_JJTNvUf91xHynSPhMBSabI-E1CsUu4xHF3VlQtsnJpwLXSaMRVPSvjj8w8EQTnVkuY_GfYtPbzICsOMflwwol5q_cxQil9L5vJjX0AlZKtUm9iaLtusi3Miiy_yFF5lPShG_JquoP2Z9O4zxi4rlsQDjUjv7qUBzR2BUnKx76PWUDUJRJwpIjONh1C3LcjiaUo1OfrUovj942FF01MtHh6YaNDCVhtD-3jE6aEF0YIirY_Rrc_0wYFcVKBbdUULNW0GiSmk3wAowZs_IbclpNQARKQC7lKk4PgeaCH5per3Dc.lNdqMQRlKq-dffiGsBYjjg\"\n}\n \n"},{"result":{"nanos":1326800,"millis":1.3268,"status":"passed"},"step":{"endLine":21,"line":18,"prefix":"*","docString":"read('SaveUser.graphql')","index":0,"text":"def querySaveUser ="}},{"result":{"nanos":1436800,"millis":1.4368,"status":"passed"},"step":{"comments":["# JSON file with the new user's datas"],"line":23,"prefix":"*","index":1,"text":"def NewUser = read('NewUser.json')"}},{"result":{"nanos":1046600,"millis":1.0466,"status":"passed"},"step":{"line":25,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":10621200,"millis":10.6212,"status":"passed"},"step":{"line":26,"prefix":"And","index":3,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":1125900,"millis":1.1259,"status":"passed"},"step":{"line":27,"prefix":"And","index":4,"text":"request { query: '#(querySaveUser)',  variables: '#(NewUser)'}"}},{"result":{"nanos":2419208800,"millis":2419.2088,"status":"passed"},"step":{"line":28,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:25.255 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjOGQyMjM4YS0wZmJkLTQxNjctOGI5Ni1jNWVlMTJhYTllMWYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgwNSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQwNSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgwNSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.zfAMbeAbX8O5Z1ttJbJqmsLrDN2YNL2bKCHF2VnwZ6UZCHFBE-9Qo-3YrqqMzTQeUt86XLp6q8MjacM4N0SZL8_zqZADWd3i04pdETgPejFpuHohQLartbYT6sMO8iCfDVPMCgMGOQsOAGLBbGokw6foFivrIvxMBj8Oquq0ewB0Jt8-7dHReEKWIm5FdveqlurEJTB0DAB-TfUO4bDlckDE7YUKxM7J_kawxg8xNrPh6_5TI4VoeLPDdE-AqkdCIUfdjukO86KEnu25LxdpOibflUUaTjOxQkguSy4rgzLL1wJk5-jqjy2zJgK6dOvSzZaSQ04LGHMUEiYk3V45NA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 251\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_2\",\"role\":\"User\",\"username\":\"user30@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n00:33:27.669 response time in milliseconds: 2413\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 26\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:27 GMT\n1 < x-amzn-RequestId: 94494f1c-1d35-4401-b1bb-c9d109f628d5\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpQaHGojoEF3AA=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef35-3be0a0c0000d7fa40fa8b4dc;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 02fcbf68a81897cc093ee1510fb7e93e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: 85lAIq_DS89PgiGcIPdT-SV_ys92_GPTe24b4Bkue9oODsr6OZEqMA==\n{\"data\":{\"SaveUser\":true}}\n"},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":29,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4024560300,"millis":4024.5603,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":32,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":1977600,"millis":1.9776,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":34,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":23887600,"millis":23.8876,"status":"passed"},"step":{"comments":["# if the user can't be created, the response contains a field \"error\""],"line":36,"prefix":"*","index":9,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":17,"name":"The user admin save a new user","description":"","durationMillis":7391.4608,"startTime":1621290804181,"failed":false,"refId":"[1:17]","endTime":1621290811724,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":583300,"millis":0.5833,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"00:33:31.731 karate.env system property was: prod \n"},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":666100,"millis":0.6661,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":559196500,"millis":559.1965,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 12:34:06 a.Â m.","durationMillis":548.7192,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1073200,"millis":1.0732,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":1266800,"millis":1.2668,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"00:33:31.743 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":413000,"millis":0.413,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":415700,"millis":0.4157,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":543078100,"millis":543.0781,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:31.746 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n00:33:32.286 response time in milliseconds: 538\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:32 GMT\n1 < x-amzn-RequestId: a3a9a46d-6505-4602-b2e9-2da0a2bc7f5f\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpRbEFJjoEFw-w=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef3c-517bbd0129ac7ded5a0d00a3\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52686d7bb0f6b3316a4c50b617ea8077.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: QEMSDSJlJUSTbDMwcbXz0mwxFNP7Q3Yg1CtSHwn-bCQz7m3bxCSfxQ==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJkZDMxMTY3Ny1jMTE0LTQ4YjctODJmMC04NjE2MDVmMWIzMmEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgxMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQxMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgxMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.hQ8W7uRCExlULadrov8AmqILKMpucPepkEKZnKpdOaGb_cS_U8Z7N_I6tgq03QyuVO9D07dvUKw8_6-8C8wcuZ7kQ7oUYllYM_AH01yXxZ76fh0wI_fQv9YpG9c04n9Xz-X8Wja2N_1MpV-ZipeU9SdhzyVn69p_dYaeYcpR-nrzw6S5GQ6QcRX2k-6Et8nPEzP344PbHmkPZBuksSkx6NDr2Hp42i8lrZbeg7IcKcvwT-3tqZkuMEUsXA-yBOTZ4kQgvEhIx50t7srfI71pyYTrN0pBtdSDR6vl3mkVRiKbVwIrQOQ7cTEvHc9FTn9qcmzLm8Q7rC8dOyEbD3tIxw\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImRkMzExNjc3LWMxMTQtNDhiNy04MmYwLTg2MTYwNWYxYjMyYSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MTIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQxMiwiaWF0IjoxNjIxMjkwODEyLCJqdGkiOiJiMTE5OGZhMC03NWUwLTQ1NjMtOTI1OC0zZWE2ODFmYTUzYmEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.leMLjRww7rH_0brmRe7x3yBhycpkct5tqNO21SmqPnBDtWpEWmi-ZhQ7tHpFe5LOm8oFrEnndiiYVQcfUJ3q5F6wSUJ9Oxq0ZNbRHXWN101BcyRTOGEpynWZV-58talaTx_XR6sSWDWlzfK1Svtvb9NXb7_LMnY3SIjfxjpVPaJw-mBlliISuNIaPHie8x0kahP7KJ9NfPL0M4COWco2d3x84TxuB1EsrC5TdJZC47uu_JL7Z8cmstPd4V9KGZhRjF_4DAz9yzPMhf0GFoiTkWWIRHn4JuAJrhag3WtKKWAuvGwApT9wCg98qEpyaiGbiHkAta6UGYiDbgbQiEv7Qg\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.hCpbiy07_T6zaYgmXPPHskNNBCCBO--OjsmVw1W_CH2NMCCQ48xMn_GylLHQ8-aTf5wlRWpmrY9sXRiifqPJ8SbptSApqhqkHhOI7495UQtAqd5cazfE_wYLPG1Gtm9336IlpTZw9TWgFBUIElNcyNYEyS4UjwZY0EZJJOOol-xSbzLNbovurRqgwydoLdbFkYXEfyROIO1AufI1jctx_x1Qh-PMnNlIp5xjiH_adw2pQoKEiWSL9jGOQYj3GnDVvhRlAY6lRNv0XkP5zUu_CAlNBNFNM7PQVKBOs5p54NHZlN1BGjqRNvMReFP1dr-b--oVUadoW0uERkSK6MhdvQ.j_s726Hz4dxUlSUH.1aNuwPlWUzsyxSNfKPJd_69etgJPJ5p2I3NA-jE-GBB5mLX2lDG5SUUIHWEImVtX_MoYLnq1IoB5eBjNRxtFF59MPEoyU8NJshyWYaKVI_DMM1PvsoCZ1aQR_e01ikDuZ5NuPDxrrxPT-5oVgoUAd_z7QdEPGIwC64vaUh4Cjznh3J2-ItOP7YOK64Bz1Km6kYtHmthj-_0JWuU35XT74fysJNAoVH8IUIxdbZl1No-A3xbQhuKvYRoRba1p8st7siHriEXSI7Ei5BDoNujnZStn_Dz5eZidHIkD7zlVXLlxoR7kPugyHZMjHb-Fd_JQzasOekrn17LLKWBMYa7mk3JlT_DU3j-27zut9fX4zVIv7udyCL4V6Sp8gYgk28UE7IY84ZEfhXZbSEr7PLIzmCKT59ZM37rY53My9DGdMfFmAYxRVWWVsivTCWPUvmbJwhSyUho_l2in33lQl0xHCOu0T8kskCMICxKgKWHNQu5E_2LwBapgQnMMD6qTbY5CJ2BkbojYkxY8hM4j2BgNWJptshXKiED7ZME3nxW0tVI8fFj9A2FxPk97GJ7rrmJHCHpfBfqz32USTVVyboPK1peaZAyFDjh2FfCccqlD1yD4DiNVnjg-mRmPci13-j6E-O3Ku8ZbnSaf_wF84kPQ70Kv71Ft_UPZ4i_fsvAPxRnJAntCoD4QKPHPA5m50GyAHSxjfVuajog-Xhil915s3IrMAg0nsd4LmYn1uZ0WgdXNlBoO2dJXeo79mXAyay3Cei6xcZ8Q4sSH3KACiiNcsnCNsjRSC2C1DUzZnPRMX6-7ZCGCQKO6ULLHiMbHzqHDlTCKZZlvkFJU5oXrgZ-2JQghwNYi64KMAqPw5hzRq4R4bNfyfnA2HqlnXmZ9NkPyBAAj6MKToyYAw4nkzzVkJESBW3fwMKK3atZN9a8zT375ie7pFaYJsPe-_YTvQfc3TCiGA4QURqKruIOnn0uHkDO1gzjaAiPPCNuQeeSZcHzvmopHbFTKbjijsZtyPEf9fW_u9jmseR0n3LVPPp8inQFQ5Fsi_TP3MWAMF_K32h5_kXBxZr2v-nqB_v2S8PTww0pQPr4iwKsWIwmfP9MCaT8-ut8Qr68H-ZWiAZuiV-aqiAhtme3hv8Hf5Bn4MKqw9T9SBwReDUTFwZnMhi3ED_Wu_ELq2X52RM8IFi8ox-tNUa9fJ220EFPIbVYmWd0jnfjlXjTaL9tIYOrC6jmeJ6Y_zLhxTiv0mdYiNEEl67gNFEouDENoBMsa3z0KJEl3Yjw1YJUNehUKgkKI7XkBbZlPdK3wnMVVl2u9ObCLzCqpXVp5NQGjuBzs_hGGCz8.06TOXzvloh98cYwobpY6qg\"}\n"},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1171900,"millis":1.1719,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1268900,"millis":1.2689,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"00:33:32.290 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJkZDMxMTY3Ny1jMTE0LTQ4YjctODJmMC04NjE2MDVmMWIzMmEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgxMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQxMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgxMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.hQ8W7uRCExlULadrov8AmqILKMpucPepkEKZnKpdOaGb_cS_U8Z7N_I6tgq03QyuVO9D07dvUKw8_6-8C8wcuZ7kQ7oUYllYM_AH01yXxZ76fh0wI_fQv9YpG9c04n9Xz-X8Wja2N_1MpV-ZipeU9SdhzyVn69p_dYaeYcpR-nrzw6S5GQ6QcRX2k-6Et8nPEzP344PbHmkPZBuksSkx6NDr2Hp42i8lrZbeg7IcKcvwT-3tqZkuMEUsXA-yBOTZ4kQgvEhIx50t7srfI71pyYTrN0pBtdSDR6vl3mkVRiKbVwIrQOQ7cTEvHc9FTn9qcmzLm8Q7rC8dOyEbD3tIxw \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":548.7192,"startTime":1621290811740,"failed":false,"refId":"[1:6]","endTime":1621290812290,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1632100,"millis":1.6321,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"00:33:32.294 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJkZDMxMTY3Ny1jMTE0LTQ4YjctODJmMC04NjE2MDVmMWIzMmEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgxMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQxMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgxMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.hQ8W7uRCExlULadrov8AmqILKMpucPepkEKZnKpdOaGb_cS_U8Z7N_I6tgq03QyuVO9D07dvUKw8_6-8C8wcuZ7kQ7oUYllYM_AH01yXxZ76fh0wI_fQv9YpG9c04n9Xz-X8Wja2N_1MpV-ZipeU9SdhzyVn69p_dYaeYcpR-nrzw6S5GQ6QcRX2k-6Et8nPEzP344PbHmkPZBuksSkx6NDr2Hp42i8lrZbeg7IcKcvwT-3tqZkuMEUsXA-yBOTZ4kQgvEhIx50t7srfI71pyYTrN0pBtdSDR6vl3mkVRiKbVwIrQOQ7cTEvHc9FTn9qcmzLm8Q7rC8dOyEbD3tIxw\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImRkMzExNjc3LWMxMTQtNDhiNy04MmYwLTg2MTYwNWYxYjMyYSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MTIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQxMiwiaWF0IjoxNjIxMjkwODEyLCJqdGkiOiJiMTE5OGZhMC03NWUwLTQ1NjMtOTI1OC0zZWE2ODFmYTUzYmEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.leMLjRww7rH_0brmRe7x3yBhycpkct5tqNO21SmqPnBDtWpEWmi-ZhQ7tHpFe5LOm8oFrEnndiiYVQcfUJ3q5F6wSUJ9Oxq0ZNbRHXWN101BcyRTOGEpynWZV-58talaTx_XR6sSWDWlzfK1Svtvb9NXb7_LMnY3SIjfxjpVPaJw-mBlliISuNIaPHie8x0kahP7KJ9NfPL0M4COWco2d3x84TxuB1EsrC5TdJZC47uu_JL7Z8cmstPd4V9KGZhRjF_4DAz9yzPMhf0GFoiTkWWIRHn4JuAJrhag3WtKKWAuvGwApT9wCg98qEpyaiGbiHkAta6UGYiDbgbQiEv7Qg\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.hCpbiy07_T6zaYgmXPPHskNNBCCBO--OjsmVw1W_CH2NMCCQ48xMn_GylLHQ8-aTf5wlRWpmrY9sXRiifqPJ8SbptSApqhqkHhOI7495UQtAqd5cazfE_wYLPG1Gtm9336IlpTZw9TWgFBUIElNcyNYEyS4UjwZY0EZJJOOol-xSbzLNbovurRqgwydoLdbFkYXEfyROIO1AufI1jctx_x1Qh-PMnNlIp5xjiH_adw2pQoKEiWSL9jGOQYj3GnDVvhRlAY6lRNv0XkP5zUu_CAlNBNFNM7PQVKBOs5p54NHZlN1BGjqRNvMReFP1dr-b--oVUadoW0uERkSK6MhdvQ.j_s726Hz4dxUlSUH.1aNuwPlWUzsyxSNfKPJd_69etgJPJ5p2I3NA-jE-GBB5mLX2lDG5SUUIHWEImVtX_MoYLnq1IoB5eBjNRxtFF59MPEoyU8NJshyWYaKVI_DMM1PvsoCZ1aQR_e01ikDuZ5NuPDxrrxPT-5oVgoUAd_z7QdEPGIwC64vaUh4Cjznh3J2-ItOP7YOK64Bz1Km6kYtHmthj-_0JWuU35XT74fysJNAoVH8IUIxdbZl1No-A3xbQhuKvYRoRba1p8st7siHriEXSI7Ei5BDoNujnZStn_Dz5eZidHIkD7zlVXLlxoR7kPugyHZMjHb-Fd_JQzasOekrn17LLKWBMYa7mk3JlT_DU3j-27zut9fX4zVIv7udyCL4V6Sp8gYgk28UE7IY84ZEfhXZbSEr7PLIzmCKT59ZM37rY53My9DGdMfFmAYxRVWWVsivTCWPUvmbJwhSyUho_l2in33lQl0xHCOu0T8kskCMICxKgKWHNQu5E_2LwBapgQnMMD6qTbY5CJ2BkbojYkxY8hM4j2BgNWJptshXKiED7ZME3nxW0tVI8fFj9A2FxPk97GJ7rrmJHCHpfBfqz32USTVVyboPK1peaZAyFDjh2FfCccqlD1yD4DiNVnjg-mRmPci13-j6E-O3Ku8ZbnSaf_wF84kPQ70Kv71Ft_UPZ4i_fsvAPxRnJAntCoD4QKPHPA5m50GyAHSxjfVuajog-Xhil915s3IrMAg0nsd4LmYn1uZ0WgdXNlBoO2dJXeo79mXAyay3Cei6xcZ8Q4sSH3KACiiNcsnCNsjRSC2C1DUzZnPRMX6-7ZCGCQKO6ULLHiMbHzqHDlTCKZZlvkFJU5oXrgZ-2JQghwNYi64KMAqPw5hzRq4R4bNfyfnA2HqlnXmZ9NkPyBAAj6MKToyYAw4nkzzVkJESBW3fwMKK3atZN9a8zT375ie7pFaYJsPe-_YTvQfc3TCiGA4QURqKruIOnn0uHkDO1gzjaAiPPCNuQeeSZcHzvmopHbFTKbjijsZtyPEf9fW_u9jmseR0n3LVPPp8inQFQ5Fsi_TP3MWAMF_K32h5_kXBxZr2v-nqB_v2S8PTww0pQPr4iwKsWIwmfP9MCaT8-ut8Qr68H-ZWiAZuiV-aqiAhtme3hv8Hf5Bn4MKqw9T9SBwReDUTFwZnMhi3ED_Wu_ELq2X52RM8IFi8ox-tNUa9fJ220EFPIbVYmWd0jnfjlXjTaL9tIYOrC6jmeJ6Y_zLhxTiv0mdYiNEEl67gNFEouDENoBMsa3z0KJEl3Yjw1YJUNehUKgkKI7XkBbZlPdK3wnMVVl2u9ObCLzCqpXVp5NQGjuBzs_hGGCz8.06TOXzvloh98cYwobpY6qg\"\n}\n \n"},{"result":{"nanos":1319500,"millis":1.3195,"status":"passed"},"step":{"endLine":45,"comments":["#### Check the new user created before","# Get the query from a .graphql file"],"line":42,"prefix":"*","docString":"read('UserReadModel.graphql')","index":0,"text":"def queryUserReadModel ="}},{"result":{"nanos":757000,"millis":0.757,"status":"passed"},"step":{"comments":["# Define the username of the user to list"],"line":47,"prefix":"*","index":1,"text":"def newUser = read('NewUser.json')"}},{"result":{"nanos":547500,"millis":0.5475,"status":"passed"},"step":{"endLine":53,"line":48,"prefix":"*","docString":"{ \n   \"id\": \"#(newUser.username)\"\n}","index":2,"text":"def id ="}},{"result":{"nanos":733900,"millis":0.7339,"status":"passed"},"step":{"line":54,"prefix":"*","index":3,"text":"print id"},"stepLog":"00:33:32.298 [print] {\n  \"id\": \"user30@test.com\"\n}\n \n"},{"result":{"nanos":282000,"millis":0.282,"status":"passed"},"step":{"line":56,"prefix":"Given","index":4,"text":"path 'graphql'"}},{"result":{"nanos":514600,"millis":0.5146,"status":"passed"},"step":{"line":57,"prefix":"And","index":5,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":58,"prefix":"And","index":6,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":921900,"millis":0.9219,"status":"passed"},"step":{"line":59,"prefix":"And","index":7,"text":"request { query: '#(queryUserReadModel)', variables: '#(id)' }"}},{"result":{"nanos":286174500,"millis":286.1745,"status":"passed"},"step":{"line":60,"prefix":"When","index":8,"text":"method post"},"stepLog":"00:33:32.302 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJkZDMxMTY3Ny1jMTE0LTQ4YjctODJmMC04NjE2MDVmMWIzMmEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgxMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQxMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgxMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.hQ8W7uRCExlULadrov8AmqILKMpucPepkEKZnKpdOaGb_cS_U8Z7N_I6tgq03QyuVO9D07dvUKw8_6-8C8wcuZ7kQ7oUYllYM_AH01yXxZ76fh0wI_fQv9YpG9c04n9Xz-X8Wja2N_1MpV-ZipeU9SdhzyVn69p_dYaeYcpR-nrzw6S5GQ6QcRX2k-6Et8nPEzP344PbHmkPZBuksSkx6NDr2Hp42i8lrZbeg7IcKcvwT-3tqZkuMEUsXA-yBOTZ4kQgvEhIx50t7srfI71pyYTrN0pBtdSDR6vl3mkVRiKbVwIrQOQ7cTEvHc9FTn9qcmzLm8Q7rC8dOyEbD3tIxw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 156\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"user30@test.com\"},\"query\":\"query UserReadModel($id: ID!) {\\r\\n    UserReadModel(id: $id) {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n00:33:32.584 response time in milliseconds: 281\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 65\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:32 GMT\n1 < x-amzn-RequestId: 980e7e92-61b7-45cd-b3d2-31bc4c9a116c\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpRhGSrDoEFTbw=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef3c-2bc14bcf0db71a7808444b17;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 0ef74e866fd3a98abc576c37ab84cf4f.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: JfTeA85FRn243R-j_KkitGi6KI_kakmByJ0-3-YoVhKtLPzZZk5-Wg==\n{\"data\":{\"UserReadModel\":{\"role\":\"User\",\"id\":\"user30@test.com\"}}}\n"},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":61,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":1554900,"millis":1.5549,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":64,"prefix":"*","index":10,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":1914600,"millis":1.9146,"status":"passed"},"step":{"comments":["# If the new user was created, the response of the query must contain the datas of the user"],"line":66,"prefix":"*","index":11,"text":"match response.data.UserReadModel == {id: '#(newUser.username)', role: '#(newUser.role)' }"}}],"executorName":"main","line":39,"name":"List the new user by id","description":"","durationMillis":856.8872,"startTime":1621290811731,"failed":false,"refId":"[2:39]","endTime":1621290812590,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":324600,"millis":0.3246,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"00:33:32.601 karate.env system property was: prod \n"},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":595400,"millis":0.5954,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":496694400,"millis":496.6944,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 12:34:06 a.Â m.","durationMillis":486.1985,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":768700,"millis":0.7687,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":885800,"millis":0.8858,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"00:33:32.613 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":257000,"millis":0.257,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":125100,"millis":0.1251,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":483413300,"millis":483.4133,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:32.616 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n00:33:33.096 response time in milliseconds: 478\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:33 GMT\n1 < x-amzn-RequestId: a4736869-8118-4c0a-b4ad-b80c954f1be4\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpRkFRCDoEFlLA=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef3d-1b33bbcb75ebccde2a51d525\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 5aa1be24b1cf8e3c10252fabac41cc27.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: VEUV64K-NLPkFmtIrD24ow1IGkwsEj34skj6K3VnogkNbZ_ON5SV4Q==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjOTllMzE1ZS1jZjdjLTQ4MmItODc2NC1mZjM5NGNiMzU1NzkiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgxMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQxMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgxMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.vOB6tkNMTcb6PXYfT9tT4s5H3JH_z0ohE_H4milYPIRC1lz2ek1qqlyNOjpzwLeaBNBmp3vodjiGDY9dr2YfDHAYNkzwdgw1Eblvch6aX6Svtf41tAKOPp9MDEWDB6CHG5k2tVwn1belM77CZt-Zpf9oA_4KxtkhNWIbbz8dqxha9iDWXbrau6veJPxE3NASM_Qlda_UZuoo49qGhpsxNk2e6SmT2LeSLDPlpf-mNVfvEMD6CD7MMwKA_q9Ze4wgAzCTrptwDwn9CSjknuYzg0ikzvAiMpREI5klgYe6EZYkSUKEl9zHhOQNfVTZwzbUHCLNkg-6tC-usJlXi-M3Xg\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImM5OWUzMTVlLWNmN2MtNDgyYi04NzY0LWZmMzk0Y2IzNTU3OSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MTMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQxMywiaWF0IjoxNjIxMjkwODEzLCJqdGkiOiIxOTUxMGJkMy1lOWFkLTQ4MDgtOTBlOC1kNWMwNmFlOTc2YmMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.vm-S3xqZ3ImtcZI1PU0ZNroGL71r2aSUPoPt-8OAph9wrOZp1U278KsiYErEWaZ95OespJCjTfkOU8OUT-ttTBuws9dpF0ANHN0vStBeU-G8Xs7OLGKjKX_E3_Z0O8TlMexCbmVStSZOVst-HnrEVG6luNw89e0gVzKYLLTUfvkLUfyG_5NvWIW_xZmYJWyjqYZFFZgcGbqxB-gjzitvY15PoYQFDxwYidq9721FG0ozQ9wJ7z5uJTg62ebcRh3Nk71N9gZnu8dZv-PmqI4fFKAp_fY5BSqqdyerN91JPzECL7h_m2-r3EQl3465tlLYEpS93yfiFPwYseS_pUkOAA\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bkgUwxBuM1TGHN90zP8XEjd3Fl50x2zrku7g70p5p0jjMAKa5kkICtK_CXE_lZZzxvoTopq-4zfovS4ytYcmJ9ef08BEvOcrjSAqbkCH8geIYamQHSqX4KrAKvmUwU0847zwDdy_-JtLu2lJuWyvLQ5JmRrEPIJLLZa2_OZ5-U5rSrdQbIt0bfnhWjr0ppQpZoqdvpujNft3bCSyAx2lmTvod7vIYPDEUloBuRzcM9pQ5KPBTjRTtVUE6bytBVOud3XYfFo3v17yatAUZpfztBkib4QWGRWCLrsY22QA0e3RPp_Czgq4ceG5C8TZOu4sA0IFxCzS16vB-yM93vVATA.iBLeNlv06lcYInd5.2-7VJIWtkLoDf285eXI5deRdbOFcqy2diXhoChwODxJtxyVKKnDI-j4gT2AB0G9in3MazACxvmdK_z8SBIK2LFVT5K67Bu3MV-595KV2ectg2SrQ_V-5wtoCPkrqlS7Tw9vsyADOK4vsFesYsGdpdY5cJHrQp5YvA8OKbHzWyjWDzepEbBi2p8kaKCYqHD6m5OzPqWwEHCf74JxjbhBqk5NOoNE3yz3gfyoWPbNYF4yhfLAI0G1Dm9Ff2iG-PXeUOT7QzWjnyxZk4ossIYnJYrH-3h1Hai20Gugx--oGye1KMacVAoXwddai62OtbVN7INaKivMU73E44HEHEj0SAPH0PW84eKrA2NZXFQvfewtbDaX79DbZH7BiXCE5TLVR5K1ooDSNqcm09-_Y73_hfR5sI3gKgqx84_f4NuSOpaO85e1P7kalBqsPqO5o5bbOl9U5nxnQvy46R5ZBIaMr7sb3WI3-0zle8HAyqXwgGUnsf1e37BQr2m1tHDC2fibKIwu52ZkQWg6LBSnk904XiqT4ZtpclsNudc79s7v5VPGxrTgHZaf3zCVZF97VTdNSCtU-F9TN4hRdsYT7OMG0UOrN0ZmMavkVir32E2s2YYUHkh5AlWXblvZ0wMJPdRgCz21jxpeUnQiuJl6BiGTNEXxwQG5bKf3e8eSVMRbQiu8K2nh64jirYK42TBphqvVgMZ4wOnPlPq8OtWA4NnxkA9Cc49kPQITYEpvjhAlX9oAGKg2eJHR9tuPlk0VcTY2iwQ4J1nwtaOwGpBYFQ5ekzJkNkSReEn200dE3K-E-tigzTeQyI4kBSy9xczq2XPJA9d5pZleR7YTDKDsGMmV9VoxRfrnxtUOqCoSL8dbkTvzmPlqByjyYUh4J3yyhpSyPQBdfaZa0sXzA_faW14Wj5bcfB_ICmidg_fVVgvz01p-eRr43IqrwplLa9yFNkRM5Q6y9TCL8oM8Tw1sdZDYMupunURKAJTVtB9LfwSLSeYlpcaJ5_SRCvc8OCy_wvjM5ugZA-OHKOcJsW52WkE-TArs1a3q6NGnB7YEBOV59aF3dmUPK7qEn7hlU9Lv3WuoctKyhkJ_RwGft9zZaJyJS2Dl2665Zwo7P_jlr1T1dcWQOF4k7QqnurREqizIeyTqSH69hMDTZouNZxhmEXImKI-sq486JcIPw6AEiA9fhhrQVWNXedmjDQZuwRtynVmMRM6L6dWQTIPMPxisVnl4EAZjELTiWM-9OPx3InrckgRSxSvUcUqMXNHTTMcK4FhiROoFhcJV7HpEMvFfMX6h6-Rbn9JUgq51JoRgUfmUZLoEY3SPluHMgc_Yu3rtDI-M.MWrF-8panSXp8baY_0ZEmA\"}\n"},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":339600,"millis":0.3396,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":368600,"millis":0.3686,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"00:33:33.098 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjOTllMzE1ZS1jZjdjLTQ4MmItODc2NC1mZjM5NGNiMzU1NzkiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgxMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQxMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgxMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.vOB6tkNMTcb6PXYfT9tT4s5H3JH_z0ohE_H4milYPIRC1lz2ek1qqlyNOjpzwLeaBNBmp3vodjiGDY9dr2YfDHAYNkzwdgw1Eblvch6aX6Svtf41tAKOPp9MDEWDB6CHG5k2tVwn1belM77CZt-Zpf9oA_4KxtkhNWIbbz8dqxha9iDWXbrau6veJPxE3NASM_Qlda_UZuoo49qGhpsxNk2e6SmT2LeSLDPlpf-mNVfvEMD6CD7MMwKA_q9Ze4wgAzCTrptwDwn9CSjknuYzg0ikzvAiMpREI5klgYe6EZYkSUKEl9zHhOQNfVTZwzbUHCLNkg-6tC-usJlXi-M3Xg \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":486.1985,"startTime":1621290812612,"failed":false,"refId":"[1:6]","endTime":1621290813099,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1365900,"millis":1.3659,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"00:33:33.101 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjOTllMzE1ZS1jZjdjLTQ4MmItODc2NC1mZjM5NGNiMzU1NzkiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgxMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQxMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgxMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.vOB6tkNMTcb6PXYfT9tT4s5H3JH_z0ohE_H4milYPIRC1lz2ek1qqlyNOjpzwLeaBNBmp3vodjiGDY9dr2YfDHAYNkzwdgw1Eblvch6aX6Svtf41tAKOPp9MDEWDB6CHG5k2tVwn1belM77CZt-Zpf9oA_4KxtkhNWIbbz8dqxha9iDWXbrau6veJPxE3NASM_Qlda_UZuoo49qGhpsxNk2e6SmT2LeSLDPlpf-mNVfvEMD6CD7MMwKA_q9Ze4wgAzCTrptwDwn9CSjknuYzg0ikzvAiMpREI5klgYe6EZYkSUKEl9zHhOQNfVTZwzbUHCLNkg-6tC-usJlXi-M3Xg\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImM5OWUzMTVlLWNmN2MtNDgyYi04NzY0LWZmMzk0Y2IzNTU3OSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MTMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQxMywiaWF0IjoxNjIxMjkwODEzLCJqdGkiOiIxOTUxMGJkMy1lOWFkLTQ4MDgtOTBlOC1kNWMwNmFlOTc2YmMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.vm-S3xqZ3ImtcZI1PU0ZNroGL71r2aSUPoPt-8OAph9wrOZp1U278KsiYErEWaZ95OespJCjTfkOU8OUT-ttTBuws9dpF0ANHN0vStBeU-G8Xs7OLGKjKX_E3_Z0O8TlMexCbmVStSZOVst-HnrEVG6luNw89e0gVzKYLLTUfvkLUfyG_5NvWIW_xZmYJWyjqYZFFZgcGbqxB-gjzitvY15PoYQFDxwYidq9721FG0ozQ9wJ7z5uJTg62ebcRh3Nk71N9gZnu8dZv-PmqI4fFKAp_fY5BSqqdyerN91JPzECL7h_m2-r3EQl3465tlLYEpS93yfiFPwYseS_pUkOAA\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bkgUwxBuM1TGHN90zP8XEjd3Fl50x2zrku7g70p5p0jjMAKa5kkICtK_CXE_lZZzxvoTopq-4zfovS4ytYcmJ9ef08BEvOcrjSAqbkCH8geIYamQHSqX4KrAKvmUwU0847zwDdy_-JtLu2lJuWyvLQ5JmRrEPIJLLZa2_OZ5-U5rSrdQbIt0bfnhWjr0ppQpZoqdvpujNft3bCSyAx2lmTvod7vIYPDEUloBuRzcM9pQ5KPBTjRTtVUE6bytBVOud3XYfFo3v17yatAUZpfztBkib4QWGRWCLrsY22QA0e3RPp_Czgq4ceG5C8TZOu4sA0IFxCzS16vB-yM93vVATA.iBLeNlv06lcYInd5.2-7VJIWtkLoDf285eXI5deRdbOFcqy2diXhoChwODxJtxyVKKnDI-j4gT2AB0G9in3MazACxvmdK_z8SBIK2LFVT5K67Bu3MV-595KV2ectg2SrQ_V-5wtoCPkrqlS7Tw9vsyADOK4vsFesYsGdpdY5cJHrQp5YvA8OKbHzWyjWDzepEbBi2p8kaKCYqHD6m5OzPqWwEHCf74JxjbhBqk5NOoNE3yz3gfyoWPbNYF4yhfLAI0G1Dm9Ff2iG-PXeUOT7QzWjnyxZk4ossIYnJYrH-3h1Hai20Gugx--oGye1KMacVAoXwddai62OtbVN7INaKivMU73E44HEHEj0SAPH0PW84eKrA2NZXFQvfewtbDaX79DbZH7BiXCE5TLVR5K1ooDSNqcm09-_Y73_hfR5sI3gKgqx84_f4NuSOpaO85e1P7kalBqsPqO5o5bbOl9U5nxnQvy46R5ZBIaMr7sb3WI3-0zle8HAyqXwgGUnsf1e37BQr2m1tHDC2fibKIwu52ZkQWg6LBSnk904XiqT4ZtpclsNudc79s7v5VPGxrTgHZaf3zCVZF97VTdNSCtU-F9TN4hRdsYT7OMG0UOrN0ZmMavkVir32E2s2YYUHkh5AlWXblvZ0wMJPdRgCz21jxpeUnQiuJl6BiGTNEXxwQG5bKf3e8eSVMRbQiu8K2nh64jirYK42TBphqvVgMZ4wOnPlPq8OtWA4NnxkA9Cc49kPQITYEpvjhAlX9oAGKg2eJHR9tuPlk0VcTY2iwQ4J1nwtaOwGpBYFQ5ekzJkNkSReEn200dE3K-E-tigzTeQyI4kBSy9xczq2XPJA9d5pZleR7YTDKDsGMmV9VoxRfrnxtUOqCoSL8dbkTvzmPlqByjyYUh4J3yyhpSyPQBdfaZa0sXzA_faW14Wj5bcfB_ICmidg_fVVgvz01p-eRr43IqrwplLa9yFNkRM5Q6y9TCL8oM8Tw1sdZDYMupunURKAJTVtB9LfwSLSeYlpcaJ5_SRCvc8OCy_wvjM5ugZA-OHKOcJsW52WkE-TArs1a3q6NGnB7YEBOV59aF3dmUPK7qEn7hlU9Lv3WuoctKyhkJ_RwGft9zZaJyJS2Dl2665Zwo7P_jlr1T1dcWQOF4k7QqnurREqizIeyTqSH69hMDTZouNZxhmEXImKI-sq486JcIPw6AEiA9fhhrQVWNXedmjDQZuwRtynVmMRM6L6dWQTIPMPxisVnl4EAZjELTiWM-9OPx3InrckgRSxSvUcUqMXNHTTMcK4FhiROoFhcJV7HpEMvFfMX6h6-Rbn9JUgq51JoRgUfmUZLoEY3SPluHMgc_Yu3rtDI-M.MWrF-8panSXp8baY_0ZEmA\"\n}\n \n"},{"result":{"nanos":961800,"millis":0.9618,"status":"passed"},"step":{"endLine":73,"comments":["## the password format isn't allowed"],"line":70,"prefix":"*","docString":"read('SaveUser.graphql')","index":0,"text":"def querySaveUser ="}},{"result":{"nanos":783500,"millis":0.7835,"status":"passed"},"step":{"line":74,"prefix":"*","index":1,"text":"def newUserBadPassword = read('newUser_BadPassword.json')"}},{"result":{"nanos":211600,"millis":0.2116,"status":"passed"},"step":{"line":76,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":246700,"millis":0.2467,"status":"passed"},"step":{"line":77,"prefix":"And","index":3,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":64600,"millis":0.0646,"status":"passed"},"step":{"line":78,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":633500,"millis":0.6335,"status":"passed"},"step":{"line":79,"prefix":"And","index":5,"text":"request { query: '#(querySaveUser)', variables: '#(newUserBadPassword)' }"}},{"result":{"nanos":505592300,"millis":505.5923,"status":"passed"},"step":{"line":80,"prefix":"When","index":6,"text":"method post"},"stepLog":"00:33:33.107 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjOTllMzE1ZS1jZjdjLTQ4MmItODc2NC1mZjM5NGNiMzU1NzkiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgxMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQxMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgxMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.vOB6tkNMTcb6PXYfT9tT4s5H3JH_z0ohE_H4milYPIRC1lz2ek1qqlyNOjpzwLeaBNBmp3vodjiGDY9dr2YfDHAYNkzwdgw1Eblvch6aX6Svtf41tAKOPp9MDEWDB6CHG5k2tVwn1belM77CZt-Zpf9oA_4KxtkhNWIbbz8dqxha9iDWXbrau6veJPxE3NASM_Qlda_UZuoo49qGhpsxNk2e6SmT2LeSLDPlpf-mNVfvEMD6CD7MMwKA_q9Ze4wgAzCTrptwDwn9CSjknuYzg0ikzvAiMpREI5klgYe6EZYkSUKEl9zHhOQNfVTZwzbUHCLNkg-6tC-usJlXi-M3Xg\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 254\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password\",\"role\":\"User\",\"username\":\"userBadPass@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n00:33:33.609 response time in milliseconds: 501\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 155\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:33 GMT\n1 < x-amzn-RequestId: b1aacce6-3339-4cc3-8e16-cf585f04125e\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpRpGeWDoEFmXg=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef3d-2432b3665e3302db5e89c2a3;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 86b86f43445d5446c8b16910b2a9b8f9.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: Hs082kabRUDMf4HDCI-3lE0YS9z4waMVAKlmERvY_o0-Va1pnnSU6A==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"An account with the given email already exists.\"}]}\n"},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":81,"prefix":"Then","index":7,"text":"status 200"}},{"result":{"nanos":4006880400,"millis":4006.8804,"status":"passed"},"step":{"line":82,"prefix":"*","index":8,"text":"wait(4000)"}},{"result":{"nanos":440400,"millis":0.4404,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":85,"prefix":"*","index":9,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":1053300,"millis":1.0533,"status":"passed"},"step":{"comments":["# The response return an error"],"line":87,"prefix":"*","index":10,"text":"match response.errors != '#notpresent'"}},{"result":{"nanos":1717800,"millis":1.7178,"status":"passed"},"step":{"comments":["## the username format isn't allowed"],"line":90,"prefix":"*","index":11,"text":"def newUserBadUsername = read('newUser_BadUsername.json')"}},{"result":{"nanos":142400,"millis":0.1424,"status":"passed"},"step":{"line":92,"prefix":"Given","index":12,"text":"path 'graphql'"}},{"result":{"nanos":185100,"millis":0.1851,"status":"passed"},"step":{"line":93,"prefix":"And","index":13,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":94,"prefix":"And","index":14,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":335200,"millis":0.3352,"status":"passed"},"step":{"line":95,"prefix":"And","index":15,"text":"request { query: '#(querySaveUser)', variables: '#(newUserBadUsername)' }"}},{"result":{"nanos":390025300,"millis":390.0253,"status":"passed"},"step":{"line":96,"prefix":"When","index":16,"text":"method post"},"stepLog":"00:33:37.624 request:\n2 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n2 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJjOTllMzE1ZS1jZjdjLTQ4MmItODc2NC1mZjM5NGNiMzU1NzkiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgxMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQxMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgxMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.vOB6tkNMTcb6PXYfT9tT4s5H3JH_z0ohE_H4milYPIRC1lz2ek1qqlyNOjpzwLeaBNBmp3vodjiGDY9dr2YfDHAYNkzwdgw1Eblvch6aX6Svtf41tAKOPp9MDEWDB6CHG5k2tVwn1belM77CZt-Zpf9oA_4KxtkhNWIbbz8dqxha9iDWXbrau6veJPxE3NASM_Qlda_UZuoo49qGhpsxNk2e6SmT2LeSLDPlpf-mNVfvEMD6CD7MMwKA_q9Ze4wgAzCTrptwDwn9CSjknuYzg0ikzvAiMpREI5klgYe6EZYkSUKEl9zHhOQNfVTZwzbUHCLNkg-6tC-usJlXi-M3Xg\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 250\n2 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"User\",\"username\":\"user10test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n00:33:38.010 response time in milliseconds: 385\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 137\n2 < Connection: keep-alive\n2 < Date: Mon, 17 May 2021 22:33:38 GMT\n2 < x-amzn-RequestId: 73434e73-aa5c-4973-a9c6-b36947228ba8\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: ffpSVFMpDoEF8lA=\n2 < X-Amzn-Trace-Id: Root=1-60a2ef42-11cce190103bf50a3b42c54f;Sampled=0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 315f537a0be356b37267f2ae21a5363d.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: MAD50-C1\n2 < X-Amz-Cf-Id: f68CpEBqyEnIY_5a_2b4tsiP9wgt-Mg-UjH-PHD3HzPaifb530yNrw==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Invalid email address format.\"}]}\n"},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":97,"prefix":"Then","index":17,"text":"status 200"}},{"result":{"nanos":4009081500,"millis":4009.0815,"status":"passed"},"step":{"line":98,"prefix":"*","index":18,"text":"wait(4000)"}},{"result":{"nanos":384200,"millis":0.3842,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":101,"prefix":"*","index":19,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":491700,"millis":0.4917,"status":"passed"},"step":{"comments":["# The response return an error"],"line":103,"prefix":"*","index":20,"text":"match response.errors != '#notpresent'"}}],"executorName":"main","line":68,"name":"Test that datas must be correct to create a new user","description":"","durationMillis":9418.3085,"startTime":1621290812600,"failed":false,"refId":"[3:68]","endTime":1621290822024,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":157700,"millis":0.1577,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"00:33:42.031 karate.env system property was: prod \n"},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":520900,"millis":0.5209,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":488194100,"millis":488.1941,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 12:34:06 a.Â m.","durationMillis":482.0771,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":301100,"millis":0.3011,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":391700,"millis":0.3917,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"00:33:42.037 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":118800,"millis":0.1188,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":480376800,"millis":480.3768,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:42.039 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n00:33:42.516 response time in milliseconds: 476\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:42 GMT\n1 < x-amzn-RequestId: 0184f4e4-28ed-4eeb-aa5f-3da263cad0a4\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpTCFb-DoEF-XA=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef46-020d4b2f0da557870a9a9d03\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 2ae7e0c53833032779e8c2554653673b.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: -1y_lR7hWhMpfChq807S9UMb5jYGu-7R8tr9qhegVtgS-LtzIJb19w==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJlMmY3NDU2Yy1mOTIzLTQ5YTgtYmUwZS03NzY0Mjk0NWZjNjYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.ycqNkRFHhH_Podj10DrN7D29mcANLNLpDHsjtolZOOgVI2a6hMdQVN2NLtbNxYRad_pVVuDopoRbFHplcQfPYrPm5DQ3hHReIDavCUUCDTDgAbWdJ6jwycqbtKU0wklwwhuV_tiD62rRxQw8-Aqz976JsYoYEm1MhGClgZJ6b7hCQCvQ5xzJQNhmmWa2WXcwiPQpmoLbxjno54a8mItmUh81bHnubDwXokmqXbMLdrDsbb_Y1D2D9UW97-c7Gyec1zPkq5ccDSgiKN8q9OruG9CmgzAR5QgdFg-_5dLZqqLYyXJglLeo1JcV2uNFybpNnlzsy61MqJY7hPsdSRSkog\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImUyZjc0NTZjLWY5MjMtNDlhOC1iZTBlLTc3NjQyOTQ1ZmM2NiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MjIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQyMiwiaWF0IjoxNjIxMjkwODIyLCJqdGkiOiI4NGM1NzE1OC05MmU0LTRmYmMtYmVmZi03Zjg5MjIzYjNkZTciLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.BTlFWwcjv759WmLlgdNFCvy2-Cikq2-NCzpHKtOnmQbAZk6ECRnDKd1m70eF-wPTcEqAP_YXNm9jdrwLU0O4EHsdwWs_JKXa7jnEkRiIzAr3LrPBlPOFc9NXiFKYYdxADXBYhF14XiH4AuEkN4TVxaM03OrehWSh_yPt8OA8TUDPfQiwXNephh0cV6viPq_zpIHij4Pjy67ozQb9dp4ayH17JBAGliMKeUC84SjAT_tmnmIphoCZrHP-fpRXaxEDxtXijE65C1XNd6HQJIu1FRkXQmr9hEJmTZ5JLlzJoVM-NLOuwBSsJVaouJ4AzR8hrSPnHAzlzU8NK5OGvqRSYw\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.CJZg5sIn-wG3OOWtQoTA3KW70txKCbC-vVKIjS915-DXohvR7rzDcxWgdKY7YF_qp7qmOt7xcDSO0m7gR9946f17_lDAiytaCnzUn-qOBv2jK_QF4P1RtCCQy7kMPj0DtQHMCwtk1I80d3FsYxZN1Im0E4LtbqaobvC0AFUZqNIVZQIl2czquSCWFwChdxEnx5smo5pUBHLRtTmWiNoY4uEh5pwxnRur0AxSBALjxRCqOdETcXitNNjMT243yvCdU88DCyVDjHlOgEAmcFnDfwYE5Ij3zSZ213QNZ1DceOYfdwX6dBF5reUDFLjU_jAFij-B8Vik0maGgeztfD621w._f79SVNZH02VrrUT.SNBN2zjqLNDvvUaSAP3ztdLs_8k1dzfJSecO_fNZGskWHAlaUhidsaMOfJEwq9iMDKpxGcXWPnqvbz6Xxm8yIVng-__OGr4nY031J2lZDOJ_SGWLl96-CuBEHC1UQI9wHz1He9MxIflAiqG6ENPLaOCS56QJ4BZjWfnxD1vxlL-BLaEyf9m7BzeOhecAPKIoqQaKHAelv3v2-rBFyc96XsGMFTQWGe5TK7ekeRnI3-WtJ0GDMPxUX93CqhSBBpeR3AGBE9hrGSuSyCl1ZujwYJ3L94Rln-ur3P1XnvFtfSToR8xTN6pkqCTCjlCHOrNkvoz2haq21PoEl5C4aWYMqk--EJQ2toMLXHeIoCPthfaJzjo0_MZ-ISgSSDnlTuOUib9gcqh0iYoO9AJKG0gkNO5AWAWIUSXknECGu4Dg4Tl8xDYp95sRbK6TBsSWm53flbtdXTLecFz2gKfQJfX3HFFioQoBqLibNy6bY-zZfM7pPxAtc3xXk6bH5M9NcmCVXuviRxZFQ4Vi3SJlDJTdVt2F9VBoIWCHYZtpVET2F7uy3O90lrvu5HhTrzKv95Uu2oyYxIdQZ40I6DPMErRSUh0r0eowJYBon1p9j0D93zMmywMuOhGK2ONPW36T5Q7TogNrgHq5SFp8CyDPZLdDwqKk0Rg4tud6QaPGLd7JH9wAoAsjQ1AaNHj4GXFzdELDmwq_71hImwYrlSt7t4kuzDRSpbHRvSoBunRKitDAMGmgVrhq0BkY_X1NbZRVlmXwtZlm_MX3gUYzbP_MIrmIt9saKvQQbAxCoZNA2oyn3EZj4j3L_Heeyr_RKAixOkHYz8n1Rx8BffFEvV-06rs1JngAGYB02XXW90l5NvuvWc9-8YGQwXUwxcyYXUxdayhoaLnkUKIX0VEZ-MAfyzYkWmaiWRSupC03Qm7chivo9XEBkM9y6hDIH1fHAi0DaVNRTg0kOikIf5EOh2FZt8yO2WN-KnrgUmoLDgOqH6ZNKGApV_e_Hds6UVsSXClOJozK8Ds-wagUl8z8evxMi5yEAXPW3unEvl0yLNhWab3WP4GZ8pzkMAYgbO0lROS9gl0-m1EAFu-lbIlNfvDnywfaP9wiyPvqCcn-U2pDplml4gW5YOE8ogXn3-LVsVotx-BfF_mNC1DYGGBZGix6Ck0lfp6RefWzMhpREGZD0gqpSXPI-fvPIGfkAR2vp9XIoieZxoqQnRzVQQstT3bBO_W2fTv4tMXlv-RYd7nIjf94vCrMyCJ0tQtfM2Y2yARcyLur0jGxTFj0joMujCsPLBmC-PSBKrUV1jBScLbTgd9p3Z1duegwLFN4qR1PKTPHa5c.3QQF7hyeL4wenDSVVqD3_Q\"}\n"},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":501900,"millis":0.5019,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":304100,"millis":0.3041,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"00:33:42.519 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJlMmY3NDU2Yy1mOTIzLTQ5YTgtYmUwZS03NzY0Mjk0NWZjNjYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.ycqNkRFHhH_Podj10DrN7D29mcANLNLpDHsjtolZOOgVI2a6hMdQVN2NLtbNxYRad_pVVuDopoRbFHplcQfPYrPm5DQ3hHReIDavCUUCDTDgAbWdJ6jwycqbtKU0wklwwhuV_tiD62rRxQw8-Aqz976JsYoYEm1MhGClgZJ6b7hCQCvQ5xzJQNhmmWa2WXcwiPQpmoLbxjno54a8mItmUh81bHnubDwXokmqXbMLdrDsbb_Y1D2D9UW97-c7Gyec1zPkq5ccDSgiKN8q9OruG9CmgzAR5QgdFg-_5dLZqqLYyXJglLeo1JcV2uNFybpNnlzsy61MqJY7hPsdSRSkog \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":482.0771,"startTime":1621290822037,"failed":false,"refId":"[1:6]","endTime":1621290822519,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":948700,"millis":0.9487,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"00:33:42.521 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJlMmY3NDU2Yy1mOTIzLTQ5YTgtYmUwZS03NzY0Mjk0NWZjNjYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.ycqNkRFHhH_Podj10DrN7D29mcANLNLpDHsjtolZOOgVI2a6hMdQVN2NLtbNxYRad_pVVuDopoRbFHplcQfPYrPm5DQ3hHReIDavCUUCDTDgAbWdJ6jwycqbtKU0wklwwhuV_tiD62rRxQw8-Aqz976JsYoYEm1MhGClgZJ6b7hCQCvQ5xzJQNhmmWa2WXcwiPQpmoLbxjno54a8mItmUh81bHnubDwXokmqXbMLdrDsbb_Y1D2D9UW97-c7Gyec1zPkq5ccDSgiKN8q9OruG9CmgzAR5QgdFg-_5dLZqqLYyXJglLeo1JcV2uNFybpNnlzsy61MqJY7hPsdSRSkog\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImUyZjc0NTZjLWY5MjMtNDlhOC1iZTBlLTc3NjQyOTQ1ZmM2NiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MjIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQyMiwiaWF0IjoxNjIxMjkwODIyLCJqdGkiOiI4NGM1NzE1OC05MmU0LTRmYmMtYmVmZi03Zjg5MjIzYjNkZTciLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.BTlFWwcjv759WmLlgdNFCvy2-Cikq2-NCzpHKtOnmQbAZk6ECRnDKd1m70eF-wPTcEqAP_YXNm9jdrwLU0O4EHsdwWs_JKXa7jnEkRiIzAr3LrPBlPOFc9NXiFKYYdxADXBYhF14XiH4AuEkN4TVxaM03OrehWSh_yPt8OA8TUDPfQiwXNephh0cV6viPq_zpIHij4Pjy67ozQb9dp4ayH17JBAGliMKeUC84SjAT_tmnmIphoCZrHP-fpRXaxEDxtXijE65C1XNd6HQJIu1FRkXQmr9hEJmTZ5JLlzJoVM-NLOuwBSsJVaouJ4AzR8hrSPnHAzlzU8NK5OGvqRSYw\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.CJZg5sIn-wG3OOWtQoTA3KW70txKCbC-vVKIjS915-DXohvR7rzDcxWgdKY7YF_qp7qmOt7xcDSO0m7gR9946f17_lDAiytaCnzUn-qOBv2jK_QF4P1RtCCQy7kMPj0DtQHMCwtk1I80d3FsYxZN1Im0E4LtbqaobvC0AFUZqNIVZQIl2czquSCWFwChdxEnx5smo5pUBHLRtTmWiNoY4uEh5pwxnRur0AxSBALjxRCqOdETcXitNNjMT243yvCdU88DCyVDjHlOgEAmcFnDfwYE5Ij3zSZ213QNZ1DceOYfdwX6dBF5reUDFLjU_jAFij-B8Vik0maGgeztfD621w._f79SVNZH02VrrUT.SNBN2zjqLNDvvUaSAP3ztdLs_8k1dzfJSecO_fNZGskWHAlaUhidsaMOfJEwq9iMDKpxGcXWPnqvbz6Xxm8yIVng-__OGr4nY031J2lZDOJ_SGWLl96-CuBEHC1UQI9wHz1He9MxIflAiqG6ENPLaOCS56QJ4BZjWfnxD1vxlL-BLaEyf9m7BzeOhecAPKIoqQaKHAelv3v2-rBFyc96XsGMFTQWGe5TK7ekeRnI3-WtJ0GDMPxUX93CqhSBBpeR3AGBE9hrGSuSyCl1ZujwYJ3L94Rln-ur3P1XnvFtfSToR8xTN6pkqCTCjlCHOrNkvoz2haq21PoEl5C4aWYMqk--EJQ2toMLXHeIoCPthfaJzjo0_MZ-ISgSSDnlTuOUib9gcqh0iYoO9AJKG0gkNO5AWAWIUSXknECGu4Dg4Tl8xDYp95sRbK6TBsSWm53flbtdXTLecFz2gKfQJfX3HFFioQoBqLibNy6bY-zZfM7pPxAtc3xXk6bH5M9NcmCVXuviRxZFQ4Vi3SJlDJTdVt2F9VBoIWCHYZtpVET2F7uy3O90lrvu5HhTrzKv95Uu2oyYxIdQZ40I6DPMErRSUh0r0eowJYBon1p9j0D93zMmywMuOhGK2ONPW36T5Q7TogNrgHq5SFp8CyDPZLdDwqKk0Rg4tud6QaPGLd7JH9wAoAsjQ1AaNHj4GXFzdELDmwq_71hImwYrlSt7t4kuzDRSpbHRvSoBunRKitDAMGmgVrhq0BkY_X1NbZRVlmXwtZlm_MX3gUYzbP_MIrmIt9saKvQQbAxCoZNA2oyn3EZj4j3L_Heeyr_RKAixOkHYz8n1Rx8BffFEvV-06rs1JngAGYB02XXW90l5NvuvWc9-8YGQwXUwxcyYXUxdayhoaLnkUKIX0VEZ-MAfyzYkWmaiWRSupC03Qm7chivo9XEBkM9y6hDIH1fHAi0DaVNRTg0kOikIf5EOh2FZt8yO2WN-KnrgUmoLDgOqH6ZNKGApV_e_Hds6UVsSXClOJozK8Ds-wagUl8z8evxMi5yEAXPW3unEvl0yLNhWab3WP4GZ8pzkMAYgbO0lROS9gl0-m1EAFu-lbIlNfvDnywfaP9wiyPvqCcn-U2pDplml4gW5YOE8ogXn3-LVsVotx-BfF_mNC1DYGGBZGix6Ck0lfp6RefWzMhpREGZD0gqpSXPI-fvPIGfkAR2vp9XIoieZxoqQnRzVQQstT3bBO_W2fTv4tMXlv-RYd7nIjf94vCrMyCJ0tQtfM2Y2yARcyLur0jGxTFj0joMujCsPLBmC-PSBKrUV1jBScLbTgd9p3Z1duegwLFN4qR1PKTPHa5c.3QQF7hyeL4wenDSVVqD3_Q\"\n}\n \n"},{"result":{"nanos":833100,"millis":0.8331,"status":"passed"},"step":{"endLine":111,"comments":["# Get the query from a .feature field"],"line":108,"prefix":"*","docString":"read('UserReadModels.graphql')","index":0,"text":"def queryUserReadModels ="}},{"result":{"nanos":151700,"millis":0.1517,"status":"passed"},"step":{"line":113,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":223100,"millis":0.2231,"status":"passed"},"step":{"line":114,"prefix":"And","index":2,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"line":115,"prefix":"And","index":3,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":407000,"millis":0.407,"status":"passed"},"step":{"line":116,"prefix":"And","index":4,"text":"request { query: '#(queryUserReadModels)' }"}},{"result":{"nanos":120080500,"millis":120.0805,"status":"passed"},"step":{"line":117,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:42.524 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJlMmY3NDU2Yy1mOTIzLTQ5YTgtYmUwZS03NzY0Mjk0NWZjNjYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.ycqNkRFHhH_Podj10DrN7D29mcANLNLpDHsjtolZOOgVI2a6hMdQVN2NLtbNxYRad_pVVuDopoRbFHplcQfPYrPm5DQ3hHReIDavCUUCDTDgAbWdJ6jwycqbtKU0wklwwhuV_tiD62rRxQw8-Aqz976JsYoYEm1MhGClgZJ6b7hCQCvQ5xzJQNhmmWa2WXcwiPQpmoLbxjno54a8mItmUh81bHnubDwXokmqXbMLdrDsbb_Y1D2D9UW97-c7Gyec1zPkq5ccDSgiKN8q9OruG9CmgzAR5QgdFg-_5dLZqqLYyXJglLeo1JcV2uNFybpNnlzsy61MqJY7hPsdSRSkog\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 102\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query UserReadModels {\\r\\n    UserReadModels {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n00:33:42.642 response time in milliseconds: 117\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 68\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:43 GMT\n1 < x-amzn-RequestId: 9f4eb69d-62e3-48d5-8022-6ad8dd1c338f\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpTGHvbjoEF2Qw=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef46-397e70956ed4ff3a1528c38e;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 adaa7e69b304066aa4eaf0d2190ecfd7.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: 2qODVhiDMQXxIGoTY3KnKxEsYCC1rc8bTyY85W9SNxDQsoAPD1PCGA==\n{\"data\":{\"UserReadModels\":[{\"role\":\"User\",\"id\":\"user30@test.com\"}]}}\n"},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":118,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":424600,"millis":0.4246,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":121,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":555400,"millis":0.5554,"status":"passed"},"step":{"comments":["# Check that the list is displayed"],"line":123,"prefix":"*","index":8,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":560500,"millis":0.5605,"status":"passed"},"step":{"line":124,"prefix":"*","index":9,"text":"match response.data.UserReadModels contains { id: '#ignore', role: '#ignore' }"}}],"executorName":"main","line":106,"name":"The user admin can list all the users","description":"","durationMillis":613.1424,"startTime":1621290822030,"failed":false,"refId":"[4:106]","endTime":1621290822646,"exampleIndex":-1},{"sectionIndex":4,"stepResults":[{"result":{"nanos":268200,"millis":0.2682,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"00:33:42.655 karate.env system property was: prod \n"},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":544000,"millis":0.544,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":379065500,"millis":379.0655,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 12:34:06 a.Â m.","durationMillis":369.3511,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":492200,"millis":0.4922,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":503300,"millis":0.5033,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"00:33:42.664 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":136800,"millis":0.1368,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":145100,"millis":0.1451,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":366498600,"millis":366.4986,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:42.667 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n00:33:43.031 response time in milliseconds: 362\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:43 GMT\n1 < x-amzn-RequestId: 1976b7ce-b726-4a85-bd8f-8cb37191e9cd\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpTIFfhDoEF1iQ=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef47-304b150959d758053f983b3c\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 77fcce204f96e329df7227f192690939.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: hhw1fap4H5GxuVTWp33cDZk7QXCuyX_uqpe8oLa8aDWjPRjF-0ZiwQ==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDBlMjVhZC0yOTQ2LTQ1NDctYTYwZi1kODE4NWEwOGY4ZjMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.GqGF_OfNr9AjF9Lq3Hp3rvA2V6tLSJj6uU5kyLGBLzm1kCzfbBLzWq4qz4F418qo6IZQT3icT5aDG83FhKHAUx1KdMFHD8uwnsjdxrYzF38BIlu0XceWfIROhn0xPtWlgIqJUd_sbvX4FOtq6ePCrvCNK18v80_LipY_jx4NdJLWqCBCIzDiyf0ZrJxp1UrDwoXjL_Gg7H2vSIlLGgK5QNHR5D42aZ2NWpI5Xx5xm_yoBzGhn6Lr-soSSmlmN-JdRPQYwDU9-3H9dhsg4Afzf8cnzCU787LSsFwXdqaT_NBwmJ_q1vxcqTGss4_i3PP5mTsqXnB2IXZw6hd_VTZMnw\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImE0MGUyNWFkLTI5NDYtNDU0Ny1hNjBmLWQ4MTg1YTA4ZjhmMyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MjMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQyMywiaWF0IjoxNjIxMjkwODIzLCJqdGkiOiI5Yzg0YzdkYy1jMGU0LTRkMTYtOGFkYS1jMjE2OTNkYTNjZGEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.BPSz23f6QJ7DF-LlAYgI5uNf0-iY9KTOdbml1TIdyYkJ5xvnc3deJhDDzKJO1tcRJuoQoTfXdayzV0FtJPWBdV1Gi4PXZcZ1t1ICTJ3AteAcuM1fATZA96jOZF2c-EaMGomL-kDykhRC8QpjLRF0E8nmcrh6hAe5Tn-1BCEA-qsP9volaYMM9u9LCD2E0udTT5qyPTPHcOhW02dpD7Hdih_iEv7MzekhHLw-vPtKrCmDtl1PKR4rh0Wcm6wFqpDOfjUJ6ymW0LmF2RyT6W8uwtV1cwbFgOYDPG8EoskoedoVsCJ8FdMhjbKNgUNai1G8kAT6euXFnpNhr8gLQFIwFw\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.U3DSMH8586BoznXgLatQWOmkZyy-UecLU73_SnkUOuF6vwi0rUtQX1E6cfHPQVT8tW2NfJ_TU20UePDxyc8kAUEqANZnaCSMwvZpiCxC2zl2dmvx2hDAPywbc5NWln5ZhcRw8rHnAAFWGk2AiqcpqCYuH3w-SJa9l0IndfQwg0EMXZjTKMW-SZjFnX8GuUFmSu52FnVAbOCu79169ZBHyuBJWadxAhbRqd2R-aG_j59VOFp7iG5-FLD1KMChmJv-vzhAfbv6BEleeAk8A0SxDwbrXHnY_q-XP5ErvGhnlB2Udzf68TtOjrcLF9YcOuLFaLY22MK3y942S0Wudrapfw.CV-k5JcpZXvyUdMn.BEbHMU9zAd2rwN_PXLxwkoefse_Qi0dcnZffnpMLbyajcy8_HwgYgVOdV9JFyXBYJJBGA2KJ4TLi84MtV66nDMHkZqpzuSGj9H6mkJRrw_q_Owis1S3u8Ft1o2mbU4utFGYfyi8a3Uj7lafv5IBQdr_8--bEWRPFfClqt9UdqGUTX9NZw3VqIyS68-xocWoAkdi6062vImHB3isJyRit_NadrP7T0JUnhX-09UUR4ozSHRwu5UAzV3qkPZExASjBVpARY0yeG7ERshXVAEeK0-XRDNYv88mojFyWJ6-un1GlcuYORf2tozs95lKiGhSexmTqsaIjPSVTNq3TG4Uube0UITFUFMD8ZsU_wfTHcFlrM8VU8kBGo_g3cbROj7T_-8eJiI98HLKgFOJCLFnAuTfdFXllS9LW11hugUjWdqhm_A6FufWPcsYd6VKDz22vA294Ok0ujl3afpol4Zat7XFhB_-xAFv8s_dKrrqzU4wb3QLHUvz5aFN76VBjTlZM1c_jqDuNFjkZGZUm--w7cQBtDgr3ltN8Qr33O8bQaHfQ2wGOLZ_6ajRYYcf5PzVMCCvQC8S1tERN6FyG7irTgJFHEz7MvfuVl0yUzZPlIBN_cyTwvtyKAEDJ8ItEZB8YNCWZM5xMvPJESSAbNkWZKOWnOfFjzMW0H3gc075jW65nD15a_40nt4T25om4Cd4lUsdH2egZpVbTF08LhLYHipAD8Zcp98E1WN14gm7a1atVwWe04OBZY-eZbuFuScR0xKHtYYWyDyYOV6L5cNtX6zxcDNTfDmiT1_cklJzVXq1GlWELVBpJOEZ6rck9gzj7aXpAb4J7w6Lexh5cfmk6JCsjQclk5l2Qi7HD9ytCnVMinIEqBADTDhJu118Z7LTFiiRLXjEG-fIyN9kGs65ywqpQjulFvcG4s5_zm-2Iwv-Lt8Uwtaka0kxhVIhGCocnIDAaRnTrrpjza7PSzHBWJGC_Bo-Z3-LT4CBBk1lPzSTJjMNaYm6eK3bk6NhvxRMwMPoFbKyN870kswLNlyAwhViX4IX7RvDa-MdxeWcaBCoAyNg-Kvmv-36pgxEwyu0GtjmICK_aCLoCRza6BwOGh1Bkd0yft1qXvX1teeIqFoMdazd05d-zMzsIsEmiykyZOJL0tojhBZB1aBkdbtsFiaOLTyYu3EEaq0JsCdIHXk3VVBRRCJp3553Q6psPgJHHiGSY3DL61kz2QhyEawBHviJHp4eWI5hBS2toHMYYSg8vfLGlG_zvtSO_sv4vw0Ad8LXLsT1Fs4VKi4yymAy_fn8FHrEuQJyvUQpPfbXyGeVYdN8x9Vu9IcdyC8MaFyA.2yfOmddWhj2_n-mbg52WqA\"}\n"},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":586500,"millis":0.5865,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":947800,"millis":0.9478,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"00:33:43.034 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDBlMjVhZC0yOTQ2LTQ1NDctYTYwZi1kODE4NWEwOGY4ZjMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.GqGF_OfNr9AjF9Lq3Hp3rvA2V6tLSJj6uU5kyLGBLzm1kCzfbBLzWq4qz4F418qo6IZQT3icT5aDG83FhKHAUx1KdMFHD8uwnsjdxrYzF38BIlu0XceWfIROhn0xPtWlgIqJUd_sbvX4FOtq6ePCrvCNK18v80_LipY_jx4NdJLWqCBCIzDiyf0ZrJxp1UrDwoXjL_Gg7H2vSIlLGgK5QNHR5D42aZ2NWpI5Xx5xm_yoBzGhn6Lr-soSSmlmN-JdRPQYwDU9-3H9dhsg4Afzf8cnzCU787LSsFwXdqaT_NBwmJ_q1vxcqTGss4_i3PP5mTsqXnB2IXZw6hd_VTZMnw \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":369.3511,"startTime":1621290822663,"failed":false,"refId":"[1:6]","endTime":1621290823034,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1453400,"millis":1.4534,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"00:33:43.037 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDBlMjVhZC0yOTQ2LTQ1NDctYTYwZi1kODE4NWEwOGY4ZjMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.GqGF_OfNr9AjF9Lq3Hp3rvA2V6tLSJj6uU5kyLGBLzm1kCzfbBLzWq4qz4F418qo6IZQT3icT5aDG83FhKHAUx1KdMFHD8uwnsjdxrYzF38BIlu0XceWfIROhn0xPtWlgIqJUd_sbvX4FOtq6ePCrvCNK18v80_LipY_jx4NdJLWqCBCIzDiyf0ZrJxp1UrDwoXjL_Gg7H2vSIlLGgK5QNHR5D42aZ2NWpI5Xx5xm_yoBzGhn6Lr-soSSmlmN-JdRPQYwDU9-3H9dhsg4Afzf8cnzCU787LSsFwXdqaT_NBwmJ_q1vxcqTGss4_i3PP5mTsqXnB2IXZw6hd_VTZMnw\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImE0MGUyNWFkLTI5NDYtNDU0Ny1hNjBmLWQ4MTg1YTA4ZjhmMyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MjMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQyMywiaWF0IjoxNjIxMjkwODIzLCJqdGkiOiI5Yzg0YzdkYy1jMGU0LTRkMTYtOGFkYS1jMjE2OTNkYTNjZGEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.BPSz23f6QJ7DF-LlAYgI5uNf0-iY9KTOdbml1TIdyYkJ5xvnc3deJhDDzKJO1tcRJuoQoTfXdayzV0FtJPWBdV1Gi4PXZcZ1t1ICTJ3AteAcuM1fATZA96jOZF2c-EaMGomL-kDykhRC8QpjLRF0E8nmcrh6hAe5Tn-1BCEA-qsP9volaYMM9u9LCD2E0udTT5qyPTPHcOhW02dpD7Hdih_iEv7MzekhHLw-vPtKrCmDtl1PKR4rh0Wcm6wFqpDOfjUJ6ymW0LmF2RyT6W8uwtV1cwbFgOYDPG8EoskoedoVsCJ8FdMhjbKNgUNai1G8kAT6euXFnpNhr8gLQFIwFw\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.U3DSMH8586BoznXgLatQWOmkZyy-UecLU73_SnkUOuF6vwi0rUtQX1E6cfHPQVT8tW2NfJ_TU20UePDxyc8kAUEqANZnaCSMwvZpiCxC2zl2dmvx2hDAPywbc5NWln5ZhcRw8rHnAAFWGk2AiqcpqCYuH3w-SJa9l0IndfQwg0EMXZjTKMW-SZjFnX8GuUFmSu52FnVAbOCu79169ZBHyuBJWadxAhbRqd2R-aG_j59VOFp7iG5-FLD1KMChmJv-vzhAfbv6BEleeAk8A0SxDwbrXHnY_q-XP5ErvGhnlB2Udzf68TtOjrcLF9YcOuLFaLY22MK3y942S0Wudrapfw.CV-k5JcpZXvyUdMn.BEbHMU9zAd2rwN_PXLxwkoefse_Qi0dcnZffnpMLbyajcy8_HwgYgVOdV9JFyXBYJJBGA2KJ4TLi84MtV66nDMHkZqpzuSGj9H6mkJRrw_q_Owis1S3u8Ft1o2mbU4utFGYfyi8a3Uj7lafv5IBQdr_8--bEWRPFfClqt9UdqGUTX9NZw3VqIyS68-xocWoAkdi6062vImHB3isJyRit_NadrP7T0JUnhX-09UUR4ozSHRwu5UAzV3qkPZExASjBVpARY0yeG7ERshXVAEeK0-XRDNYv88mojFyWJ6-un1GlcuYORf2tozs95lKiGhSexmTqsaIjPSVTNq3TG4Uube0UITFUFMD8ZsU_wfTHcFlrM8VU8kBGo_g3cbROj7T_-8eJiI98HLKgFOJCLFnAuTfdFXllS9LW11hugUjWdqhm_A6FufWPcsYd6VKDz22vA294Ok0ujl3afpol4Zat7XFhB_-xAFv8s_dKrrqzU4wb3QLHUvz5aFN76VBjTlZM1c_jqDuNFjkZGZUm--w7cQBtDgr3ltN8Qr33O8bQaHfQ2wGOLZ_6ajRYYcf5PzVMCCvQC8S1tERN6FyG7irTgJFHEz7MvfuVl0yUzZPlIBN_cyTwvtyKAEDJ8ItEZB8YNCWZM5xMvPJESSAbNkWZKOWnOfFjzMW0H3gc075jW65nD15a_40nt4T25om4Cd4lUsdH2egZpVbTF08LhLYHipAD8Zcp98E1WN14gm7a1atVwWe04OBZY-eZbuFuScR0xKHtYYWyDyYOV6L5cNtX6zxcDNTfDmiT1_cklJzVXq1GlWELVBpJOEZ6rck9gzj7aXpAb4J7w6Lexh5cfmk6JCsjQclk5l2Qi7HD9ytCnVMinIEqBADTDhJu118Z7LTFiiRLXjEG-fIyN9kGs65ywqpQjulFvcG4s5_zm-2Iwv-Lt8Uwtaka0kxhVIhGCocnIDAaRnTrrpjza7PSzHBWJGC_Bo-Z3-LT4CBBk1lPzSTJjMNaYm6eK3bk6NhvxRMwMPoFbKyN870kswLNlyAwhViX4IX7RvDa-MdxeWcaBCoAyNg-Kvmv-36pgxEwyu0GtjmICK_aCLoCRza6BwOGh1Bkd0yft1qXvX1teeIqFoMdazd05d-zMzsIsEmiykyZOJL0tojhBZB1aBkdbtsFiaOLTyYu3EEaq0JsCdIHXk3VVBRRCJp3553Q6psPgJHHiGSY3DL61kz2QhyEawBHviJHp4eWI5hBS2toHMYYSg8vfLGlG_zvtSO_sv4vw0Ad8LXLsT1Fs4VKi4yymAy_fn8FHrEuQJyvUQpPfbXyGeVYdN8x9Vu9IcdyC8MaFyA.2yfOmddWhj2_n-mbg52WqA\"\n}\n \n"},{"result":{"nanos":964500,"millis":0.9645,"status":"passed"},"step":{"endLine":132,"comments":["### without photo"],"line":129,"prefix":"*","docString":"read('SaveCustomer.graphql')","index":0,"text":"def querySaveCustomer ="}},{"result":{"nanos":804000,"millis":0.804,"status":"passed"},"step":{"comments":["# JSON file with the new user's datas","# In this case, the photoUrl field isn't filled"],"line":135,"prefix":"*","index":1,"text":"def new_customerNoPhoto = read('NewCustomerNoPhoto.json')"}},{"result":{"nanos":162200,"millis":0.1622,"status":"passed"},"step":{"line":137,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":452300,"millis":0.4523,"status":"passed"},"step":{"line":138,"prefix":"And","index":3,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":1565500,"millis":1.5655,"status":"passed"},"step":{"line":139,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(new_customerNoPhoto)'}"}},{"result":{"nanos":168895800,"millis":168.8958,"status":"passed"},"step":{"line":140,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:43.044 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDBlMjVhZC0yOTQ2LTQ1NDctYTYwZi1kODE4NWEwOGY4ZjMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.GqGF_OfNr9AjF9Lq3Hp3rvA2V6tLSJj6uU5kyLGBLzm1kCzfbBLzWq4qz4F418qo6IZQT3icT5aDG83FhKHAUx1KdMFHD8uwnsjdxrYzF38BIlu0XceWfIROhn0xPtWlgIqJUd_sbvX4FOtq6ePCrvCNK18v80_LipY_jx4NdJLWqCBCIzDiyf0ZrJxp1UrDwoXjL_Gg7H2vSIlLGgK5QNHR5D42aZ2NWpI5Xx5xm_yoBzGhn6Lr-soSSmlmN-JdRPQYwDU9-3H9dhsg4Afzf8cnzCU787LSsFwXdqaT_NBwmJ_q1vxcqTGss4_i3PP5mTsqXnB2IXZw6hd_VTZMnw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 284\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"photo\":\"\",\"id\":\"23000000nophoto\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n00:33:43.210 response time in milliseconds: 165\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 30\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:43 GMT\n1 < x-amzn-RequestId: ce8bae50-3df7-40e9-91e1-15ee6bc8c9fb\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpTMFvLjoEF8jQ=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef47-5c18c8a91755a4365a46a03f;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 adaa7e69b304066aa4eaf0d2190ecfd7.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: 73Nv9gsVE3esdOVt7xR631qj7u4-80VcE3UagOczeRJXbDa1cQTzEw==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":141,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4008542000,"millis":4008.542,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":143,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":348100,"millis":0.3481,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":146,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":581900,"millis":0.5819,"status":"passed"},"step":{"comments":["# If the customer is saved, the response shouldn't contain a field \"error\""],"line":148,"prefix":"*","index":9,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":2028300,"millis":2.0283,"status":"passed"},"step":{"comments":["### This time, the field photo is filled"],"line":151,"prefix":"*","index":10,"text":"def new_customerPhoto = read('NewCustomerPhoto.json')"}},{"result":{"nanos":308900,"millis":0.3089,"status":"passed"},"step":{"line":153,"prefix":"Given","index":11,"text":"path 'graphql'"}},{"result":{"nanos":13487100,"millis":13.4871,"status":"passed"},"step":{"line":154,"prefix":"And","index":12,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":820700,"millis":0.8207,"status":"passed"},"step":{"line":155,"prefix":"And","index":13,"text":"request { query: '#(querySaveCustomer)',  variables: '#(new_customerPhoto)'}"}},{"result":{"nanos":135988100,"millis":135.9881,"status":"passed"},"step":{"line":156,"prefix":"When","index":14,"text":"method post"},"stepLog":"00:33:47.240 request:\n2 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n2 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDBlMjVhZC0yOTQ2LTQ1NDctYTYwZi1kODE4NWEwOGY4ZjMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.GqGF_OfNr9AjF9Lq3Hp3rvA2V6tLSJj6uU5kyLGBLzm1kCzfbBLzWq4qz4F418qo6IZQT3icT5aDG83FhKHAUx1KdMFHD8uwnsjdxrYzF38BIlu0XceWfIROhn0xPtWlgIqJUd_sbvX4FOtq6ePCrvCNK18v80_LipY_jx4NdJLWqCBCIzDiyf0ZrJxp1UrDwoXjL_Gg7H2vSIlLGgK5QNHR5D42aZ2NWpI5Xx5xm_yoBzGhn6Lr-soSSmlmN-JdRPQYwDU9-3H9dhsg4Afzf8cnzCU787LSsFwXdqaT_NBwmJ_q1vxcqTGss4_i3PP5mTsqXnB2IXZw6hd_VTZMnw\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 290\n2 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"photo\":\"photo.jpg\",\"id\":\"2100000photo\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n00:33:47.373 response time in milliseconds: 133\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 30\n2 < Connection: keep-alive\n2 < Date: Mon, 17 May 2021 22:33:47 GMT\n2 < x-amzn-RequestId: 7f6647a8-d6ba-4548-b562-8095740a6842\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: ffpT1F4GjoEFlIw=\n2 < X-Amzn-Trace-Id: Root=1-60a2ef4b-3883d55e2c876c742daaa41b;Sampled=0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 d5cf9e2604452e6d04db24c2381f245d.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: MAD50-C1\n2 < X-Amz-Cf-Id: 6dUa-yN_hyI_ZmmB8U5rjqgHiZ6oMUH68cIfL-46p7CrOn4KfahImQ==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":157,"prefix":"Then","index":15,"text":"status 200"}},{"result":{"nanos":4015811900,"millis":4015.8119,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":159,"prefix":"*","index":16,"text":"wait(4000)"}},{"result":{"nanos":521500,"millis":0.5215,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":162,"prefix":"*","index":17,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":541000,"millis":0.541,"status":"passed"},"step":{"comments":["# If the customer is saved, the response shouldn't contain a field \"error\""],"line":164,"prefix":"*","index":18,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":1550100,"millis":1.5501,"status":"passed"},"step":{"endLine":171,"comments":["#### List all the customers to check that the creation was fine"],"line":168,"prefix":"*","docString":"read('CustomerReadModels.graphql')","index":19,"text":"def queryCustReadModels ="}},{"result":{"nanos":319800,"millis":0.3198,"status":"passed"},"step":{"line":173,"prefix":"Given","index":20,"text":"path 'graphql'"}},{"result":{"nanos":352300,"millis":0.3523,"status":"passed"},"step":{"line":174,"prefix":"And","index":21,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":276200,"millis":0.2762,"status":"passed"},"step":{"line":175,"prefix":"And","index":22,"text":"request { query: '#(queryCustReadModels)'}"}},{"result":{"nanos":141128900,"millis":141.1289,"status":"passed"},"step":{"line":176,"prefix":"When","index":23,"text":"method post"},"stepLog":"00:33:51.395 request:\n3 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n3 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDBlMjVhZC0yOTQ2LTQ1NDctYTYwZi1kODE4NWEwOGY4ZjMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgyMywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQyMywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgyMywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.GqGF_OfNr9AjF9Lq3Hp3rvA2V6tLSJj6uU5kyLGBLzm1kCzfbBLzWq4qz4F418qo6IZQT3icT5aDG83FhKHAUx1KdMFHD8uwnsjdxrYzF38BIlu0XceWfIROhn0xPtWlgIqJUd_sbvX4FOtq6ePCrvCNK18v80_LipY_jx4NdJLWqCBCIzDiyf0ZrJxp1UrDwoXjL_Gg7H2vSIlLGgK5QNHR5D42aZ2NWpI5Xx5xm_yoBzGhn6Lr-soSSmlmN-JdRPQYwDU9-3H9dhsg4Afzf8cnzCU787LSsFwXdqaT_NBwmJ_q1vxcqTGss4_i3PP5mTsqXnB2IXZw6hd_VTZMnw\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Content-Length: 167\n3 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n3 > Accept-Encoding: gzip,deflate\n{\"query\":\"query CustomerReadModels {\\r\\n    CustomerReadModels {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n00:33:51.534 response time in milliseconds: 138\n3 < 200\n3 < Content-Type: application\/json\n3 < Content-Length: 397\n3 < Connection: keep-alive\n3 < Date: Mon, 17 May 2021 22:33:51 GMT\n3 < x-amzn-RequestId: 157f50d0-e507-46dd-bfa3-90404b5a4915\n3 < Access-Control-Allow-Origin: *\n3 < x-amz-apigw-id: ffpUfHN0joEF8GQ=\n3 < X-Amzn-Trace-Id: Root=1-60a2ef4f-5b7d4f532d268b7006d6cd26;Sampled=0\n3 < X-Cache: Miss from cloudfront\n3 < Via: 1.1 adaa7e69b304066aa4eaf0d2190ecfd7.cloudfront.net (CloudFront)\n3 < X-Amz-Cf-Pop: MAD50-C1\n3 < X-Amz-Cf-Id: GIIooix4gvUa7wbPSeu4CyOIPsoypYP5lu-MC5NEDKRoISqzLLh9Ng==\n{\"data\":{\"CustomerReadModels\":[{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"23000000nophoto\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer3 Surname\",\"name\":\"Customer3\",\"id\":\"3\",\"userId\":\"admin@theagilemonkeys.com\"}]}}\n"},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":177,"prefix":"Then","index":24,"text":"status 200"}},{"result":{"nanos":430300,"millis":0.4303,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":180,"prefix":"*","index":25,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":944500,"millis":0.9445,"status":"passed"},"step":{"comments":["# Check that the response doesn't contains a field \"error\""],"line":183,"prefix":"*","index":26,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":5873000,"errorMessage":"match failed: CONTAINS\n  $ | actual does not contain expected | actual array does not contain expected item - {\"id\":\"2100000photo\",\"name\":\"Customer name\",\"surname\":\"Customer surname\",\"photoUrl\":null,\"userId\":\"admin@theagilemonkeys.com\"} (LIST:MAP)\n  [{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"23000000nophoto\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer3 Surname\",\"name\":\"Customer3\",\"id\":\"3\",\"userId\":\"admin@theagilemonkeys.com\"}]\n  {\"id\":\"2100000photo\",\"name\":\"Customer name\",\"surname\":\"Customer surname\",\"photoUrl\":null,\"userId\":\"admin@theagilemonkeys.com\"}\n\n    $[2] | not equal | match failed for name: 'id' (MAP:MAP)\n    {\"photoUrl\":\"\",\"surname\":\"Customer3 Surname\",\"name\":\"Customer3\",\"id\":\"3\",\"userId\":\"admin@theagilemonkeys.com\"}\n    {\"photoUrl\":null,\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n\n      $[2].id | not equal (STRING:STRING)\n      '3'\n      '2100000photo'\n\n        $[1] | not equal | match failed for name: 'id' (MAP:MAP)\n        {\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"23000000nophoto\",\"userId\":\"admin@theagilemonkeys.com\"}\n        {\"photoUrl\":null,\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n\n          $[1].id | not equal (STRING:STRING)\n          '23000000nophoto'\n          '2100000photo'\n\n            $[0] | not equal | match failed for name: 'photoUrl' (MAP:MAP)\n            {\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n            {\"photoUrl\":null,\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n\n              $[0].photoUrl | data types don't match (STRING:NULL)\n              ''\n              null\n\nclasspath:examples\/users\/TestUserAdminSaveAndRead.feature:185","millis":5.873,"status":"failed"},"step":{"comments":["# Check the customers created before"],"line":185,"prefix":"*","index":27,"text":"match response.data.CustomerReadModels contains {id: '#(new_customerPhoto.id)', name: '#(new_customerPhoto.name)', surname: '#(new_customerPhoto.surname)', photoUrl: '#(new_customerPhoto.photoUrl)', userId: '#(datas.username)' }"},"stepLog":"00:33:51.544 classpath:examples\/users\/TestUserAdminSaveAndRead.feature:185\n* match response.data.CustomerReadModels contains {id: '#(new_customerPhoto.id)', name: '#(new_customerPhoto.name)', surname: '#(new_customerPhoto.surname)', photoUrl: '#(new_customerPhoto.photoUrl)', userId: '#(datas.username)' }\nmatch failed: CONTAINS\n  $ | actual does not contain expected | actual array does not contain expected item - {\"id\":\"2100000photo\",\"name\":\"Customer name\",\"surname\":\"Customer surname\",\"photoUrl\":null,\"userId\":\"admin@theagilemonkeys.com\"} (LIST:MAP)\n  [{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"23000000nophoto\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer3 Surname\",\"name\":\"Customer3\",\"id\":\"3\",\"userId\":\"admin@theagilemonkeys.com\"}]\n  {\"id\":\"2100000photo\",\"name\":\"Customer name\",\"surname\":\"Customer surname\",\"photoUrl\":null,\"userId\":\"admin@theagilemonkeys.com\"}\n\n    $[2] | not equal | match failed for name: 'id' (MAP:MAP)\n    {\"photoUrl\":\"\",\"surname\":\"Customer3 Surname\",\"name\":\"Customer3\",\"id\":\"3\",\"userId\":\"admin@theagilemonkeys.com\"}\n    {\"photoUrl\":null,\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n\n      $[2].id | not equal (STRING:STRING)\n      '3'\n      '2100000photo'\n\n        $[1] | not equal | match failed for name: 'id' (MAP:MAP)\n        {\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"23000000nophoto\",\"userId\":\"admin@theagilemonkeys.com\"}\n        {\"photoUrl\":null,\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n\n          $[1].id | not equal (STRING:STRING)\n          '23000000nophoto'\n          '2100000photo'\n\n            $[0] | not equal | match failed for name: 'photoUrl' (MAP:MAP)\n            {\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n            {\"photoUrl\":null,\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n\n              $[0].photoUrl | data types don't match (STRING:NULL)\n              ''\n              null\n\nclasspath:examples\/users\/TestUserAdminSaveAndRead.feature:185\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":186,"prefix":"*","index":28,"text":"match response.data.CustomerReadModels contains {id: '#(new_customerNoPhoto.id)', name: '#(new_customerNoPhoto.name)', surname: '#(new_customerNoPhoto.surname)', photoUrl: '#(new_customerNoPhoto.photoUrl)', userId: '#(datas.username)' }"}}],"line":127,"description":"","durationMillis":8884.0882,"failed":true,"error":"match failed: CONTAINS\n  $ | actual does not contain expected | actual array does not contain expected item - {\"id\":\"2100000photo\",\"name\":\"Customer name\",\"surname\":\"Customer surname\",\"photoUrl\":null,\"userId\":\"admin@theagilemonkeys.com\"} (LIST:MAP)\n  [{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"23000000nophoto\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer3 Surname\",\"name\":\"Customer3\",\"id\":\"3\",\"userId\":\"admin@theagilemonkeys.com\"}]\n  {\"id\":\"2100000photo\",\"name\":\"Customer name\",\"surname\":\"Customer surname\",\"photoUrl\":null,\"userId\":\"admin@theagilemonkeys.com\"}\n\n    $[2] | not equal | match failed for name: 'id' (MAP:MAP)\n    {\"photoUrl\":\"\",\"surname\":\"Customer3 Surname\",\"name\":\"Customer3\",\"id\":\"3\",\"userId\":\"admin@theagilemonkeys.com\"}\n    {\"photoUrl\":null,\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n\n      $[2].id | not equal (STRING:STRING)\n      '3'\n      '2100000photo'\n\n        $[1] | not equal | match failed for name: 'id' (MAP:MAP)\n        {\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"23000000nophoto\",\"userId\":\"admin@theagilemonkeys.com\"}\n        {\"photoUrl\":null,\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n\n          $[1].id | not equal (STRING:STRING)\n          '23000000nophoto'\n          '2100000photo'\n\n            $[0] | not equal | match failed for name: 'photoUrl' (MAP:MAP)\n            {\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n            {\"photoUrl\":null,\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"}\n\n              $[0].photoUrl | data types don't match (STRING:NULL)\n              ''\n              null\n\nclasspath:examples\/users\/TestUserAdminSaveAndRead.feature:185","executorName":"main","name":"The admin user can create customers:","startTime":1621290822654,"refId":"[5:127]","endTime":1621290831544,"exampleIndex":-1},{"sectionIndex":5,"stepResults":[{"result":{"nanos":162800,"millis":0.1628,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"00:33:51.551 karate.env system property was: prod \n"},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":410800,"millis":0.4108,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":337526200,"millis":337.5262,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 12:34:06 a.Â m.","durationMillis":322.4058,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1963900,"millis":1.9639,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":1099200,"millis":1.0992,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"00:33:51.568 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":388000,"millis":0.388,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":249100,"millis":0.2491,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":315672700,"millis":315.6727,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:51.571 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n00:33:51.885 response time in milliseconds: 313\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:52 GMT\n1 < x-amzn-RequestId: 28bc9902-3b5a-4484-a997-d348dbe149ae\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpUhGXZjoEFqaQ=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef50-4805bfd119ed0f4d64e3f1dc\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 a6f1f6a7cb5a93f6f494d1d5945d867c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: 1OpRgblpZak-kh1kF-zIu5ee-qpIMzwxUf4ECOGX_Ox5uIDDT_n2-Q==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiI0ZTQ3YTI4My0yOTVjLTQwY2YtOGE3ZS1iOGI1ZWE0NjY3YWYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgzMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQzMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgzMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.soP3sb2wfuRYHZkT4MtNka-kJvOvfY9MIOX2F1QieVRxjAoh0zaAmvSBK47tLSpnZ1NRNpcBAKhw8gxtpPJq1LwbaSjaP2R1iDhOei2rwZ5qYHgkJiyDLdEgMpwZetaIrKJAo5Q5M55kOzPfMKTyY7ixG4AYkCbymC8FdNs98NRRPab6C3J2SUC6PonBwvL5W67IOVxR7jyGIWp_qneqJRZvNSBjArFsPmPHF4pS7Gs0AruVpwdFguFt7RsahtbKJ71zgUr7ZRuAuKJyXIYhIzutU7bsZZAntQEVdhkGavWfZPi9ZeCWOKT-Hm5ZJFm97tEjBv61Zzj0ukS4N0n8Ig\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjRlNDdhMjgzLTI5NWMtNDBjZi04YTdlLWI4YjVlYTQ2NjdhZiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MzIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQzMiwiaWF0IjoxNjIxMjkwODMyLCJqdGkiOiIyY2ExYTMwNi01ODc5LTQ1NDEtOTc1Yi03ZWUyODIxNDVmZDciLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.QWIzV0NOKVG8vi83Y-0rgMAhoRfghuin0c0OL4YRMLPS-imHGEJm1XX29hIuJhCdVecP-LnTIDCg11fACY_E9Wk60zII7wXSvPqPtiFnkn3gcVTvx1v8pMobXi2b-BV_aPiNBCwnim8LMPaM6qZzdQos5DnZAe5p9P3bR-N-oAWSnnFVcyQxkW3o70_wPDKWdwxePVzPzQgYIhcs8PwLZ5nluZkEweS3ppvCAbWhaDWeLLWTDvcuOxOV7TiV7Dp7DVxzDvn2eua0QwVxdM9pvIlRbcgO7iwxy_yzsPAkUitirRodAb3F-DxUgj4CMFYxO3m01akJ9EU4jwev5bZ6Sg\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.dp2EM17NHtF1EZ3nRN5-mlegUyoaabRKsdkeOcROnNp-VsWXxdlJjIOS7IvjDyuImbGoFIBQp3LF_lxiUuGr4VvcIL2c9lZkC0bGUIKZTfhYEQRgvLqJev3kVhERA0FSNSehUBJPf6kaYu1-meNB5BIlvowZET1FHP9iID3CJ90Ax8otMSluKWveHxwLvkl_58Ap07wtrFjEUiJDcMjxliys-dZgyIWNGm-wjj0K2gA_0-X98eOa0o7DDG_ajgoSCZHkSGsBrRfOEaNViaVDevywZgBnKtQDG9tXnUPJPrNSYS1ceSsRO7o1v62TJ97tyR7Bot1WikKOO4X88KBJrw.h7ezj_q1ifwUO0Rq.3Ast4cCog6In3lEzP1c1JSftvCWuGKqIewtSwicEsJ9ajUJaeb0A_AiUpBfbnqbhmcqAbyc15lVxvc3QJaSwrNVJqHRk1XifHIRF8d2GC0BQPIddD44lUtyLcsgMf7rQ18E5K-VFJf25lG1UFK9bLRlcacbeAVGRB5MEyHb7G9zjEPqYLsqqkKXvtyTbMDJXmNC0Tl6smCWJHOZpA6VCi-JV0LakFclblpgnVUJFxp2lwCVWGhCQVG5Y0I9T9HVwNeZwUCsZ4_7g6TFP6T1Pw-VAmF0RnyZMqEm34ZkGny4Lyuj6UE5DIkjrQxbpsL9CFjEUC7f02RKu3i1IkkPL3TDT_PGjOghubv1lxpfY4ma7CN7pgAqXBCb_fdR0Yjpf2C8wvalyiPrnyj_htQjSSA6jFwRHh_ZzBU8CiX1WIrWKsx9ubbNqkzQyXZog5W3RVTJfJvA43zmvUWH8ABID05IJFZA5D-aBlpdd9vBi8dZusnK1fOopycucWzXKAWjM0ni-1RC7rf0Z4Sd6kG6NUgtvXM0r4H-4A1il5jMguA1XgXeUxAC8Fje03VPGGXHIFs3roIqaRIFo9rEgRMgJNhjR2T36SIzoB1m69Mt3jpYjm2fv8gxH9Xu69U9Bav1WEtOTHLI8saUypx7Rd0v4scp3p1ehgNkBIBqpJzr5TW0c8NGqWaFm3uBdZMBP9Jrabh3aGg7TsGfzMdesbSZNG7WOq-LwIcwXjL2estYtbLM6RgpIMyyafLlaWEqQovt9-89hwTYEWorRva5zAuxPJEm8E-BU6dH51Gt5IN2zo7xXAHlPmd4_78VJGuPBKCgNEKBwXDsPoWxs3EP2zmXmxqb1QVy9MCezmZE5sG82mOv_s71L8fPHyIGy_d5NEMmju9HNq8NMiXNTrIcNlbkc-G2o1pLIt_jioSBDF3Es0i4QCZ2RiWmAqzs4XOt8Nz1ZGXZUTi-vUBdXr7lBEfp6bGSRW_3wJuKEur3-c-lPsdSBYHBrr0T8elFjNUylXYr5zlYrV_g1CmD1r54wOPJK9kMsf7IUethckR26GatHxsZC9NMqBlC19CnWtNIyggtQJL3e9aEe9HgM4-eQ78k6C1aOX4lX1rGo5TP71wo7FXgAaFf5fWPqAJcipzuq9ktmEf1sttjf9IzDaBCLdKR2TjWHHzWyLgqgvSX4eEgB4QW7TIcAs9xg9LG3YoyfK7z5yK4aHVy1NUW4IcQC48itYji3nMfA9VUyxmb3yvF7RZH-ZAbsl7xwKKLLH8VoUbW15jQzJ5IohvwfVYukRG3NSmqztQUnlfGB1-tqsff3GVAl4hraKXC_oRvcH4S0LBk.NOGfvi9vUzqsEXdpRzKWZw\"}\n"},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1337800,"millis":1.3378,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1643600,"millis":1.6436,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"00:33:51.889 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiI0ZTQ3YTI4My0yOTVjLTQwY2YtOGE3ZS1iOGI1ZWE0NjY3YWYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgzMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQzMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgzMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.soP3sb2wfuRYHZkT4MtNka-kJvOvfY9MIOX2F1QieVRxjAoh0zaAmvSBK47tLSpnZ1NRNpcBAKhw8gxtpPJq1LwbaSjaP2R1iDhOei2rwZ5qYHgkJiyDLdEgMpwZetaIrKJAo5Q5M55kOzPfMKTyY7ixG4AYkCbymC8FdNs98NRRPab6C3J2SUC6PonBwvL5W67IOVxR7jyGIWp_qneqJRZvNSBjArFsPmPHF4pS7Gs0AruVpwdFguFt7RsahtbKJ71zgUr7ZRuAuKJyXIYhIzutU7bsZZAntQEVdhkGavWfZPi9ZeCWOKT-Hm5ZJFm97tEjBv61Zzj0ukS4N0n8Ig \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":322.4058,"startTime":1621290831565,"failed":false,"refId":"[1:6]","endTime":1621290831889,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":2171700,"millis":2.1717,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"00:33:51.893 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiI0ZTQ3YTI4My0yOTVjLTQwY2YtOGE3ZS1iOGI1ZWE0NjY3YWYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgzMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQzMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgzMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.soP3sb2wfuRYHZkT4MtNka-kJvOvfY9MIOX2F1QieVRxjAoh0zaAmvSBK47tLSpnZ1NRNpcBAKhw8gxtpPJq1LwbaSjaP2R1iDhOei2rwZ5qYHgkJiyDLdEgMpwZetaIrKJAo5Q5M55kOzPfMKTyY7ixG4AYkCbymC8FdNs98NRRPab6C3J2SUC6PonBwvL5W67IOVxR7jyGIWp_qneqJRZvNSBjArFsPmPHF4pS7Gs0AruVpwdFguFt7RsahtbKJ71zgUr7ZRuAuKJyXIYhIzutU7bsZZAntQEVdhkGavWfZPi9ZeCWOKT-Hm5ZJFm97tEjBv61Zzj0ukS4N0n8Ig\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjRlNDdhMjgzLTI5NWMtNDBjZi04YTdlLWI4YjVlYTQ2NjdhZiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MzIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQzMiwiaWF0IjoxNjIxMjkwODMyLCJqdGkiOiIyY2ExYTMwNi01ODc5LTQ1NDEtOTc1Yi03ZWUyODIxNDVmZDciLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.QWIzV0NOKVG8vi83Y-0rgMAhoRfghuin0c0OL4YRMLPS-imHGEJm1XX29hIuJhCdVecP-LnTIDCg11fACY_E9Wk60zII7wXSvPqPtiFnkn3gcVTvx1v8pMobXi2b-BV_aPiNBCwnim8LMPaM6qZzdQos5DnZAe5p9P3bR-N-oAWSnnFVcyQxkW3o70_wPDKWdwxePVzPzQgYIhcs8PwLZ5nluZkEweS3ppvCAbWhaDWeLLWTDvcuOxOV7TiV7Dp7DVxzDvn2eua0QwVxdM9pvIlRbcgO7iwxy_yzsPAkUitirRodAb3F-DxUgj4CMFYxO3m01akJ9EU4jwev5bZ6Sg\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.dp2EM17NHtF1EZ3nRN5-mlegUyoaabRKsdkeOcROnNp-VsWXxdlJjIOS7IvjDyuImbGoFIBQp3LF_lxiUuGr4VvcIL2c9lZkC0bGUIKZTfhYEQRgvLqJev3kVhERA0FSNSehUBJPf6kaYu1-meNB5BIlvowZET1FHP9iID3CJ90Ax8otMSluKWveHxwLvkl_58Ap07wtrFjEUiJDcMjxliys-dZgyIWNGm-wjj0K2gA_0-X98eOa0o7DDG_ajgoSCZHkSGsBrRfOEaNViaVDevywZgBnKtQDG9tXnUPJPrNSYS1ceSsRO7o1v62TJ97tyR7Bot1WikKOO4X88KBJrw.h7ezj_q1ifwUO0Rq.3Ast4cCog6In3lEzP1c1JSftvCWuGKqIewtSwicEsJ9ajUJaeb0A_AiUpBfbnqbhmcqAbyc15lVxvc3QJaSwrNVJqHRk1XifHIRF8d2GC0BQPIddD44lUtyLcsgMf7rQ18E5K-VFJf25lG1UFK9bLRlcacbeAVGRB5MEyHb7G9zjEPqYLsqqkKXvtyTbMDJXmNC0Tl6smCWJHOZpA6VCi-JV0LakFclblpgnVUJFxp2lwCVWGhCQVG5Y0I9T9HVwNeZwUCsZ4_7g6TFP6T1Pw-VAmF0RnyZMqEm34ZkGny4Lyuj6UE5DIkjrQxbpsL9CFjEUC7f02RKu3i1IkkPL3TDT_PGjOghubv1lxpfY4ma7CN7pgAqXBCb_fdR0Yjpf2C8wvalyiPrnyj_htQjSSA6jFwRHh_ZzBU8CiX1WIrWKsx9ubbNqkzQyXZog5W3RVTJfJvA43zmvUWH8ABID05IJFZA5D-aBlpdd9vBi8dZusnK1fOopycucWzXKAWjM0ni-1RC7rf0Z4Sd6kG6NUgtvXM0r4H-4A1il5jMguA1XgXeUxAC8Fje03VPGGXHIFs3roIqaRIFo9rEgRMgJNhjR2T36SIzoB1m69Mt3jpYjm2fv8gxH9Xu69U9Bav1WEtOTHLI8saUypx7Rd0v4scp3p1ehgNkBIBqpJzr5TW0c8NGqWaFm3uBdZMBP9Jrabh3aGg7TsGfzMdesbSZNG7WOq-LwIcwXjL2estYtbLM6RgpIMyyafLlaWEqQovt9-89hwTYEWorRva5zAuxPJEm8E-BU6dH51Gt5IN2zo7xXAHlPmd4_78VJGuPBKCgNEKBwXDsPoWxs3EP2zmXmxqb1QVy9MCezmZE5sG82mOv_s71L8fPHyIGy_d5NEMmju9HNq8NMiXNTrIcNlbkc-G2o1pLIt_jioSBDF3Es0i4QCZ2RiWmAqzs4XOt8Nz1ZGXZUTi-vUBdXr7lBEfp6bGSRW_3wJuKEur3-c-lPsdSBYHBrr0T8elFjNUylXYr5zlYrV_g1CmD1r54wOPJK9kMsf7IUethckR26GatHxsZC9NMqBlC19CnWtNIyggtQJL3e9aEe9HgM4-eQ78k6C1aOX4lX1rGo5TP71wo7FXgAaFf5fWPqAJcipzuq9ktmEf1sttjf9IzDaBCLdKR2TjWHHzWyLgqgvSX4eEgB4QW7TIcAs9xg9LG3YoyfK7z5yK4aHVy1NUW4IcQC48itYji3nMfA9VUyxmb3yvF7RZH-ZAbsl7xwKKLLH8VoUbW15jQzJ5IohvwfVYukRG3NSmqztQUnlfGB1-tqsff3GVAl4hraKXC_oRvcH4S0LBk.NOGfvi9vUzqsEXdpRzKWZw\"\n}\n \n"},{"result":{"nanos":1326600,"millis":1.3266,"status":"passed"},"step":{"endLine":194,"comments":["# Change the role of the new user created before 'NewUser'"],"line":191,"prefix":"*","docString":"read('ChangeUserRole.graphql')","index":0,"text":"def queryChangeUserRole ="}},{"result":{"nanos":1673900,"millis":1.6739,"status":"passed"},"step":{"comments":["# JSON file with the new user role"],"line":196,"prefix":"*","index":1,"text":"def NewUserRole = read('NewUser.json')"}},{"result":{"nanos":912200,"millis":0.9122,"status":"passed"},"step":{"line":198,"prefix":"*","index":2,"text":"set NewUserRole.role = \"role changed\""}},{"result":{"nanos":503700,"millis":0.5037,"status":"passed"},"step":{"line":200,"prefix":"Given","index":3,"text":"path 'graphql'"}},{"result":{"nanos":977200,"millis":0.9772,"status":"passed"},"step":{"line":201,"prefix":"And","index":4,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":943100,"millis":0.9431,"status":"passed"},"step":{"line":202,"prefix":"And","index":5,"text":"request { query: '#(queryChangeUserRole)',  variables: '#(NewUserRole)'}"}},{"result":{"nanos":547920800,"millis":547.9208,"status":"passed"},"step":{"line":203,"prefix":"When","index":6,"text":"method post"},"stepLog":"00:33:51.903 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiI0ZTQ3YTI4My0yOTVjLTQwY2YtOGE3ZS1iOGI1ZWE0NjY3YWYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgzMiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQzMiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgzMiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.soP3sb2wfuRYHZkT4MtNka-kJvOvfY9MIOX2F1QieVRxjAoh0zaAmvSBK47tLSpnZ1NRNpcBAKhw8gxtpPJq1LwbaSjaP2R1iDhOei2rwZ5qYHgkJiyDLdEgMpwZetaIrKJAo5Q5M55kOzPfMKTyY7ixG4AYkCbymC8FdNs98NRRPab6C3J2SUC6PonBwvL5W67IOVxR7jyGIWp_qneqJRZvNSBjArFsPmPHF4pS7Gs0AruVpwdFguFt7RsahtbKJ71zgUr7ZRuAuKJyXIYhIzutU7bsZZAntQEVdhkGavWfZPi9ZeCWOKT-Hm5ZJFm97tEjBv61Zzj0ukS4N0n8Ig\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 228\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_2\",\"role\":\"role changed\",\"username\":\"user30@test.com\"},\"query\":\"mutation ChangeUserRole($username: String, $role: String) {\\r\\n  ChangeUserRole(input: {username: $username, role: $role})\\r\\n}\"}\n\n00:33:52.448 response time in milliseconds: 545\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 32\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:52 GMT\n1 < x-amzn-RequestId: d3267682-115d-464f-8cd8-24e3422a594c\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpUlH8ODoEFobQ=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef50-68accd223128faf747c82f90;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 52523006e1ee5c08eea6e9267e18fabf.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: HK3pJPNFvs8aRwv5uFDfOvcVSbWTaWfrU-QATbL_vIvh7klECK_bcA==\n{\"data\":{\"ChangeUserRole\":true}}\n"},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":204,"prefix":"Then","index":7,"text":"status 200"}},{"result":{"nanos":4012147600,"millis":4012.1476,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":206,"prefix":"*","index":8,"text":"wait(4000)"}},{"result":{"nanos":1094000,"millis":1.094,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":209,"prefix":"*","index":9,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":897400,"millis":0.8974,"status":"passed"},"step":{"comments":["# if the change of the role can't be done, the response contains a field \"error\""],"line":211,"prefix":"*","index":10,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":189,"name":"The admin user can change the role of an user","description":"","durationMillis":4908.6974,"startTime":1621290831551,"failed":false,"refId":"[6:189]","endTime":1621290836463,"exampleIndex":-1},{"sectionIndex":6,"stepResults":[{"result":{"nanos":125500,"millis":0.1255,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"00:33:56.468 karate.env system property was: prod \n"},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":613600,"millis":0.6136,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":410027400,"millis":410.0274,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 12:34:06 a.Â m.","durationMillis":405.4048,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10500,"millis":0.0105,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":235200,"millis":0.2352,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":319900,"millis":0.3199,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"00:33:56.473 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":298000,"millis":0.298,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":146200,"millis":0.1462,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":402088900,"millis":402.0889,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:33:56.475 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n00:33:56.875 response time in milliseconds: 399\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:57 GMT\n1 < x-amzn-RequestId: 3c220cc4-819a-4077-bec7-5784afc5dd29\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpVTEhRjoEFUdg=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef55-61917d8f5812ee1f26e0f4f7\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e9e9ef2b004f5c4a430ab05e0f919051.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: 05A64lSjtG-UbRVJpiHKhuW2VjdlHTiLF-QkgU7lfeQkmwLMU6-KHg==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiMGM4ZWI1NS1kMDQyLTRlNTYtYTljNy0xYjk0NTZmN2JhYzMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgzNywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQzNywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgzNywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.RfYqXfajzc5pSUZeoMX6uBDG66Ba8ZFH4qBt82beh8iSF2ZuqPND5JEcQ7_2jbHwL77zvtayJ2X6bdOJuY6rfCLftrkkLEEznE1ftAhxgsIfRD9cnYN9xmczR0yXu6wJJLBdAHhd8BHL7VfNFpTpSRGEfLFSsdFz4-6uilQt9qIQD6AojiWX9EpH5_u8w8xcCG5glRut06KwChBWdKjsUxeSDe-5NAXmJDOVXI5Sm1fHsgBrkb771bRF2ES4pku0lZV2gS6RRncngBxbWXgIiRlVRNjO_kwmmTjTJqH3OHkK1U2cMDBaISgAyh8LCtGvuZYj5q-5GzX1nb6kgcSMiQ\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImIwYzhlYjU1LWQwNDItNGU1Ni1hOWM3LTFiOTQ1NmY3YmFjMyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MzcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQzNywiaWF0IjoxNjIxMjkwODM3LCJqdGkiOiI3MDFiMzkxYS1mYjEzLTQ3NDgtOTA0Mi1iYjJjOTcxNjkxODgiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.d2ScrpAzyvU1mAxxbV7zV-VZ8Xxurh476U4hqwDXDmiMg9JU5QOGEX5lNnTzfb3c0eOFvLmGrTIkPeJsoVvaC3iS4QKI_SFe0DxwaeS0-Up1VhG344pAhQiakhqprrFLst9BWM3SONQw9hMnP77ha6T17dFc8mGdyHDTCNaZCb4fuNedNXOFUCnIHpFJVGmOjkFuP2aNCdp2zE1d5-KtEk3HJeQ-Ue5P-kdmmg5SVvtm8iImjkezi8nQFllMRxjHDe1g2YuFv5qN9NMyR5l5UvihsB6eBhJy6U66VH0CmXW6BJZ0HPpIpD9wnVQ-QqEjCDbMWCWfpfgCjYojku5vMg\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.dfaeCl3c3AFwqePZ0wj1WQJ7Qc7b9UhsxQ_EdkRIzr2ezzNvhO2CgXawdZMdhAh_TrHVrXjYSiZ8dx2xSj5bi99SuRieu6NMEiIvrEmoO-QSL9LTpCUs3nFd7aEwNtwjau3oIN8WOqaLkyC77quA2ZF1zE1n9siJYJV7LjZsTrKBPl3gFt-7uJlGwT58VhJSNAW0-6M_IdM6LHD9g_TncuHrqaSljs7mZW_jkgRbgqiTfkpMNBaVnZMJjtkNgcqnNvBzdisk2paMsNElJYPOH0qqdgA6pgKXcEZKNL2UIv8W0piR5pdKUFZ6ylLrS-rnlCyPxuG7dYt4F57JOScDPQ.uJaNg5n_VA6WnzPl.MYAiuoqm4uokhI3Ew-2505VURXXH2AyCBU5bdhXVIw09LC06SfdQndT2xUeUMi245Yfj8SWKD9L-krndxeL4rQdSzAYgD1M7osr37OOE3lkb0Yano9Fj1-eHneiLXgzn0n-NEBtrVwWm0FXSEQTaaxSgWg7KSY4nnNttZYG3dNgOXaXdyQa6JxPUuqGogxAeMBYTB3z3RVK5j0q_lqLR_VNP3nLrb2G83KZJilGDIjqNwAH3QkVuRoK7RlIn-aOuFwIZHUTAnDJ3RGncnR3CB7j7aoU5a1tFyJ3pNkhDT98lts4CbMN1QeCGK2YJsZGgzVItSWJNh7Vz9H-7MLlxCGbhoz2JnYLgnTVp1rrHCVOlIH1g_XSkOD4eLmkE4xgch7JfzyYJJZW1hTnY5_Zd_CA-CDxENjyiQil6REGhJOJUOT0WEBYQODyxU-610y56xCRMQGBMZ-tygayBINSNbhrAhVndvee41U2g7kyVt0znTZG2KWnVltdJ5eoI85LRLP3VQ-tkTCo0rVjv0XJRrAglyC75oJJQ3PZs9YEFZoqdDwFBwRfuUSPRaGgftcMx-uHRrZyMqcfx8u-iSo2QdsjPFkW2qKy1fYJsHOl58Zy7litFgilt066xxdyFG1TNwc4pO3UQsaDS_FD-sUlYRELChnO6pul8LTWxt7p55VWnpW-1yQvGVXF0zpIZe6TNMFJWdfAvHPsAiqKedLoIQkKy8vYEehSDCc_UZlSIfExstiLpseaaOLKkwEQoEwu4uZ1Dzvfh_JuPSyoe20L9BxIBxbWxvLeCm__7IhQlnImx0a9yiIsGFVp65GfRx9e9UQ7RfTRR-ihp6NvOQYd2FBP3HmsEP6DuCcUTdmiIOm6AtiAAu8-1mweZ4_b-w7r5fEwF9B8bnuMYsgilq8vUPDTnzOenZoFF5_p3KEn54okjKD1c4_KPKNT0QN05hxeNMkUfPCnGx6WT15S-dNMD1VIVK-YMWlZSV63pQPOSNED3mtT0N9TR8c1eIySzhJj-4_yomPAPPVXZ5C8DmrptILb7usbMmJFxmNtVGs3az1kY02zQOS9ZgRNDL0Dk5PKbO96jwoQ8BxrOPWXIgfy79u7Luefhb507GcMDY6bHlw_pRMIk9-yKCLIL5nlMtIK9-s1GshH18ZyDnrx7M0hqfGVEqIkFTTtGOp6UbfAb5x6WCIB8KxbNcUcs1w9JDFzfl7gH59y1GWf-02BxFVkiDSXwosARbUaKkrsIw8tpklfBe8OMLbRjPtWgO_hVx-btFOLE-ygc__Os0_ZEtfZuItWrQ_5Y0YEo71rA8FOSHNXKYbqz4H5Y1GdCeOZGbYc.67BaFU7WAAM8FVzD26Gg2A\"}\n"},{"result":{"nanos":787500,"millis":0.7875,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":781500,"millis":0.7815,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":682100,"millis":0.6821,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"00:33:56.878 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiMGM4ZWI1NS1kMDQyLTRlNTYtYTljNy0xYjk0NTZmN2JhYzMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgzNywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQzNywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgzNywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.RfYqXfajzc5pSUZeoMX6uBDG66Ba8ZFH4qBt82beh8iSF2ZuqPND5JEcQ7_2jbHwL77zvtayJ2X6bdOJuY6rfCLftrkkLEEznE1ftAhxgsIfRD9cnYN9xmczR0yXu6wJJLBdAHhd8BHL7VfNFpTpSRGEfLFSsdFz4-6uilQt9qIQD6AojiWX9EpH5_u8w8xcCG5glRut06KwChBWdKjsUxeSDe-5NAXmJDOVXI5Sm1fHsgBrkb771bRF2ES4pku0lZV2gS6RRncngBxbWXgIiRlVRNjO_kwmmTjTJqH3OHkK1U2cMDBaISgAyh8LCtGvuZYj5q-5GzX1nb6kgcSMiQ \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":405.4048,"startTime":1621290836472,"failed":false,"refId":"[1:6]","endTime":1621290836879,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":833300,"millis":0.8333,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"00:33:56.880 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiMGM4ZWI1NS1kMDQyLTRlNTYtYTljNy0xYjk0NTZmN2JhYzMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgzNywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQzNywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgzNywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.RfYqXfajzc5pSUZeoMX6uBDG66Ba8ZFH4qBt82beh8iSF2ZuqPND5JEcQ7_2jbHwL77zvtayJ2X6bdOJuY6rfCLftrkkLEEznE1ftAhxgsIfRD9cnYN9xmczR0yXu6wJJLBdAHhd8BHL7VfNFpTpSRGEfLFSsdFz4-6uilQt9qIQD6AojiWX9EpH5_u8w8xcCG5glRut06KwChBWdKjsUxeSDe-5NAXmJDOVXI5Sm1fHsgBrkb771bRF2ES4pku0lZV2gS6RRncngBxbWXgIiRlVRNjO_kwmmTjTJqH3OHkK1U2cMDBaISgAyh8LCtGvuZYj5q-5GzX1nb6kgcSMiQ\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImIwYzhlYjU1LWQwNDItNGU1Ni1hOWM3LTFiOTQ1NmY3YmFjMyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4MzcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQzNywiaWF0IjoxNjIxMjkwODM3LCJqdGkiOiI3MDFiMzkxYS1mYjEzLTQ3NDgtOTA0Mi1iYjJjOTcxNjkxODgiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.d2ScrpAzyvU1mAxxbV7zV-VZ8Xxurh476U4hqwDXDmiMg9JU5QOGEX5lNnTzfb3c0eOFvLmGrTIkPeJsoVvaC3iS4QKI_SFe0DxwaeS0-Up1VhG344pAhQiakhqprrFLst9BWM3SONQw9hMnP77ha6T17dFc8mGdyHDTCNaZCb4fuNedNXOFUCnIHpFJVGmOjkFuP2aNCdp2zE1d5-KtEk3HJeQ-Ue5P-kdmmg5SVvtm8iImjkezi8nQFllMRxjHDe1g2YuFv5qN9NMyR5l5UvihsB6eBhJy6U66VH0CmXW6BJZ0HPpIpD9wnVQ-QqEjCDbMWCWfpfgCjYojku5vMg\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.dfaeCl3c3AFwqePZ0wj1WQJ7Qc7b9UhsxQ_EdkRIzr2ezzNvhO2CgXawdZMdhAh_TrHVrXjYSiZ8dx2xSj5bi99SuRieu6NMEiIvrEmoO-QSL9LTpCUs3nFd7aEwNtwjau3oIN8WOqaLkyC77quA2ZF1zE1n9siJYJV7LjZsTrKBPl3gFt-7uJlGwT58VhJSNAW0-6M_IdM6LHD9g_TncuHrqaSljs7mZW_jkgRbgqiTfkpMNBaVnZMJjtkNgcqnNvBzdisk2paMsNElJYPOH0qqdgA6pgKXcEZKNL2UIv8W0piR5pdKUFZ6ylLrS-rnlCyPxuG7dYt4F57JOScDPQ.uJaNg5n_VA6WnzPl.MYAiuoqm4uokhI3Ew-2505VURXXH2AyCBU5bdhXVIw09LC06SfdQndT2xUeUMi245Yfj8SWKD9L-krndxeL4rQdSzAYgD1M7osr37OOE3lkb0Yano9Fj1-eHneiLXgzn0n-NEBtrVwWm0FXSEQTaaxSgWg7KSY4nnNttZYG3dNgOXaXdyQa6JxPUuqGogxAeMBYTB3z3RVK5j0q_lqLR_VNP3nLrb2G83KZJilGDIjqNwAH3QkVuRoK7RlIn-aOuFwIZHUTAnDJ3RGncnR3CB7j7aoU5a1tFyJ3pNkhDT98lts4CbMN1QeCGK2YJsZGgzVItSWJNh7Vz9H-7MLlxCGbhoz2JnYLgnTVp1rrHCVOlIH1g_XSkOD4eLmkE4xgch7JfzyYJJZW1hTnY5_Zd_CA-CDxENjyiQil6REGhJOJUOT0WEBYQODyxU-610y56xCRMQGBMZ-tygayBINSNbhrAhVndvee41U2g7kyVt0znTZG2KWnVltdJ5eoI85LRLP3VQ-tkTCo0rVjv0XJRrAglyC75oJJQ3PZs9YEFZoqdDwFBwRfuUSPRaGgftcMx-uHRrZyMqcfx8u-iSo2QdsjPFkW2qKy1fYJsHOl58Zy7litFgilt066xxdyFG1TNwc4pO3UQsaDS_FD-sUlYRELChnO6pul8LTWxt7p55VWnpW-1yQvGVXF0zpIZe6TNMFJWdfAvHPsAiqKedLoIQkKy8vYEehSDCc_UZlSIfExstiLpseaaOLKkwEQoEwu4uZ1Dzvfh_JuPSyoe20L9BxIBxbWxvLeCm__7IhQlnImx0a9yiIsGFVp65GfRx9e9UQ7RfTRR-ihp6NvOQYd2FBP3HmsEP6DuCcUTdmiIOm6AtiAAu8-1mweZ4_b-w7r5fEwF9B8bnuMYsgilq8vUPDTnzOenZoFF5_p3KEn54okjKD1c4_KPKNT0QN05hxeNMkUfPCnGx6WT15S-dNMD1VIVK-YMWlZSV63pQPOSNED3mtT0N9TR8c1eIySzhJj-4_yomPAPPVXZ5C8DmrptILb7usbMmJFxmNtVGs3az1kY02zQOS9ZgRNDL0Dk5PKbO96jwoQ8BxrOPWXIgfy79u7Luefhb507GcMDY6bHlw_pRMIk9-yKCLIL5nlMtIK9-s1GshH18ZyDnrx7M0hqfGVEqIkFTTtGOp6UbfAb5x6WCIB8KxbNcUcs1w9JDFzfl7gH59y1GWf-02BxFVkiDSXwosARbUaKkrsIw8tpklfBe8OMLbRjPtWgO_hVx-btFOLE-ygc__Os0_ZEtfZuItWrQ_5Y0YEo71rA8FOSHNXKYbqz4H5Y1GdCeOZGbYc.67BaFU7WAAM8FVzD26Gg2A\"\n}\n \n"},{"result":{"nanos":1120300,"millis":1.1203,"status":"passed"},"step":{"endLine":219,"comments":["# Get the query from a .graphql file"],"line":216,"prefix":"*","docString":"read('DeleteUser.graphql')","index":0,"text":"def queryDeleteUser ="}},{"result":{"nanos":430200,"millis":0.4302,"status":"passed"},"step":{"comments":["# Define the user to delete as the 'NewUser' created before"],"line":221,"prefix":"*","index":1,"text":"def UserDelete = read('NewUser.json')"}},{"result":{"nanos":573000,"millis":0.573,"status":"passed"},"step":{"endLine":227,"line":222,"prefix":"*","docString":"{ \n   \"username\": \"#(UserDelete.username)\"\n}","index":2,"text":"def username ="}},{"result":{"nanos":133700,"millis":0.1337,"status":"passed"},"step":{"line":228,"prefix":"Given","index":3,"text":"path 'graphql'"}},{"result":{"nanos":186800,"millis":0.1868,"status":"passed"},"step":{"line":229,"prefix":"And","index":4,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"line":230,"prefix":"And","index":5,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":305200,"millis":0.3052,"status":"passed"},"step":{"line":231,"prefix":"And","index":6,"text":"request { query: '#(queryDeleteUser)', variables: '#(username)' }"}},{"result":{"nanos":583989300,"millis":583.9893,"status":"passed"},"step":{"line":232,"prefix":"When","index":7,"text":"method post"},"stepLog":"00:33:56.884 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiMGM4ZWI1NS1kMDQyLTRlNTYtYTljNy0xYjk0NTZmN2JhYzMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgzNywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQzNywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgzNywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.RfYqXfajzc5pSUZeoMX6uBDG66Ba8ZFH4qBt82beh8iSF2ZuqPND5JEcQ7_2jbHwL77zvtayJ2X6bdOJuY6rfCLftrkkLEEznE1ftAhxgsIfRD9cnYN9xmczR0yXu6wJJLBdAHhd8BHL7VfNFpTpSRGEfLFSsdFz4-6uilQt9qIQD6AojiWX9EpH5_u8w8xcCG5glRut06KwChBWdKjsUxeSDe-5NAXmJDOVXI5Sm1fHsgBrkb771bRF2ES4pku0lZV2gS6RRncngBxbWXgIiRlVRNjO_kwmmTjTJqH3OHkK1U2cMDBaISgAyh8LCtGvuZYj5q-5GzX1nb6kgcSMiQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 148\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"username\":\"user30@test.com\"},\"query\":\"mutation DeleteUser($username: String) {\\r\\n    DeleteUser(input: {username: $username})\\r\\n}\"}\n\n00:33:57.466 response time in milliseconds: 581\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 28\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:33:57 GMT\n1 < x-amzn-RequestId: 46a63571-2024-4407-9693-9c50b52c97de\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpVWH7SjoEFfug=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef55-6fbbcc8679014eb85ef6e036;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 31a031d42a24d17f209d69933362ff3b.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: GHK57P7iDUeCdaHC7snK11e5D4tRbPPDITXdNBnyBK0fiVVO0IukVg==\n{\"data\":{\"DeleteUser\":true}}\n"},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"line":233,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":4003634600,"millis":4003.6346,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":235,"prefix":"*","index":9,"text":"wait(4000)"}},{"result":{"nanos":685600,"millis":0.6856,"status":"passed"},"step":{"comments":["# Check that there aren't errors and the user is properly deleted"],"line":238,"prefix":"*","index":10,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":1630500,"millis":1.6305,"status":"passed"},"step":{"endLine":244,"comments":["#### List all users to check that the user was deleted"],"line":241,"prefix":"*","docString":"read('UserReadModels.graphql')","index":11,"text":"def queryUserReadModels ="}},{"result":{"nanos":335800,"millis":0.3358,"status":"passed"},"step":{"line":245,"prefix":"Given","index":12,"text":"path 'graphql'"}},{"result":{"nanos":463800,"millis":0.4638,"status":"passed"},"step":{"line":246,"prefix":"And","index":13,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":727200,"millis":0.7272,"status":"passed"},"step":{"line":247,"prefix":"And","index":14,"text":"request { query: '#(queryUserReadModels)'}"}},{"result":{"nanos":293344300,"millis":293.3443,"status":"passed"},"step":{"line":248,"prefix":"When","index":15,"text":"method post"},"stepLog":"00:34:01.477 request:\n2 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n2 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiMGM4ZWI1NS1kMDQyLTRlNTYtYTljNy0xYjk0NTZmN2JhYzMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDgzNywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQzNywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDgzNywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.RfYqXfajzc5pSUZeoMX6uBDG66Ba8ZFH4qBt82beh8iSF2ZuqPND5JEcQ7_2jbHwL77zvtayJ2X6bdOJuY6rfCLftrkkLEEznE1ftAhxgsIfRD9cnYN9xmczR0yXu6wJJLBdAHhd8BHL7VfNFpTpSRGEfLFSsdFz4-6uilQt9qIQD6AojiWX9EpH5_u8w8xcCG5glRut06KwChBWdKjsUxeSDe-5NAXmJDOVXI5Sm1fHsgBrkb771bRF2ES4pku0lZV2gS6RRncngBxbWXgIiRlVRNjO_kwmmTjTJqH3OHkK1U2cMDBaISgAyh8LCtGvuZYj5q-5GzX1nb6kgcSMiQ\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 102\n2 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"query\":\"query UserReadModels {\\r\\n    UserReadModels {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n00:34:01.768 response time in milliseconds: 291\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 30\n2 < Connection: keep-alive\n2 < Date: Mon, 17 May 2021 22:34:02 GMT\n2 < x-amzn-RequestId: cdf9339a-2231-4615-88a5-9bf99ab52c9a\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: ffpWFH1tjoEF7hQ=\n2 < X-Amzn-Trace-Id: Root=1-60a2ef5a-5edc44b31c45653437d847d0;Sampled=0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 e9e9ef2b004f5c4a430ab05e0f919051.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: MAD50-C1\n2 < X-Amz-Cf-Id: TeqsD9tWwGQUB4cTub0tZcJ2oZKYbyrCBdgac6cpza2SA_kdjp3W_A==\n{\"data\":{\"UserReadModels\":[]}}\n"},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":249,"prefix":"Then","index":16,"text":"status 200"}},{"result":{"nanos":309600,"millis":0.3096,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":252,"prefix":"*","index":17,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":474900,"millis":0.4749,"status":"passed"},"step":{"comments":["# Check that the response doesn't contains a field \"error\""],"line":254,"prefix":"*","index":18,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":1956300,"millis":1.9563,"status":"passed"},"step":{"line":255,"prefix":"*","index":19,"text":"match response.data.UserReadModels !contains {id: '#(UserDelete.id)', role: '#(UserDelete.role)'}"}}],"executorName":"main","line":214,"name":"Delete an existing user","description":"","durationMillis":5302.0421,"startTime":1621290836468,"failed":false,"refId":"[7:214]","endTime":1621290841772,"exampleIndex":-1},{"sectionIndex":7,"stepResults":[{"result":{"nanos":228900,"millis":0.2289,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"00:34:01.780 karate.env system property was: prod \n"},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":578600,"millis":0.5786,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":504792900,"millis":504.7929,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-18 12:34:06 a.Â m.","durationMillis":497.9254,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":304700,"millis":0.3047,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":424800,"millis":0.4248,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":510800,"millis":0.5108,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"00:34:01.787 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":145300,"millis":0.1453,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":70900,"millis":0.0709,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":494599500,"millis":494.5995,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"00:34:01.789 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n00:34:02.281 response time in milliseconds: 491\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:34:02 GMT\n1 < x-amzn-RequestId: 69168a7b-1483-46e5-86a2-9b9fcac80f87\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpWIErgDoEFceA=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef5a-7928632b600d5f0533d67a06\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 546db6834bf5885f55b5457c969e7ad6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: mQX-MSe4A_k4lX2uzQJnfDLSvMaPgRukVsX8HerSbKuolMPo3kWC6A==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJmOTM2OTJkNS03YjdmLTQ3YTItYjNkYi04MTZiZmJkOGE2YjQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDg0MiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQ0MiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDg0MiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.q3-OXNVKDr1iSVPPvoupuhIj4Aakt7EvGX1fK0A_Ix1SzDGZ9IVt0MMTKBBIl3onFf9Tpqb0ysWPgqSDQixHbWrKYY__YyB1i1LCcWXu5DMRZ6eintXLz1B4pm5idPCf0eetRJHMIwNn9mj4qa9BnPYDxlg2apOXeSxlGPfRKvh2XYdAYvNui3_Ern8GqlQOWaqHOQKA8M_fuxUejm3sugEk4w7Tr0YJwA3lR9dQdXB3RrOwdRvO03CKICpsZ3qpEaZvKg_0pEb3hinlWE7kdP2q1nzplHz6jILd-eDf5cbYzjdR_xjNGgl4FNL7BHVOcQ1AgjS3VvGdYCBHk_sEhQ\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImY5MzY5MmQ1LTdiN2YtNDdhMi1iM2RiLTgxNmJmYmQ4YTZiNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4NDIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQ0MiwiaWF0IjoxNjIxMjkwODQyLCJqdGkiOiJkYjZkYjk5Ny03Y2JiLTQ3MWEtOGMyZC02NGQ4NTZiOTVlYmEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pOMG6-BnUHJR_rmeLRvLWTCzhmMMKpGBDwf3aRQYSXGU_MCs3mcfTeQdmyCU1qvDW8uv6r2fzbymoQsERp_tbkMMEs6KorSrlZjRiEE2xYAxJNfdGl9aMt73DESU1YNIpGf21eKdouG24Ex-ik8jGZsfjElOTiOQyoVtB_jBMaqkKSZJgb4WCellqkvMKhSNeGAj9cKFYGn2vNlNpDOnlh3AZ2hYhRETjqzrsAm_xYQarK9Vx5cLy_V8zNZYiVEZQLE6Lwv-TjCQa15Ou8unRmfmoHbTsPsWXrdT5dswPxkdp14mk6YxPQNg3ePqaY4SUdsoOPPC6GLyqUFCRKyBKA\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.X18YnSYdGH0XeF2LjX7BSWpFTIW11tFuUu4loLkMeq4DN4f24KPORDb33lN9NaxF2aZ4KX7pTXVlgc9oqPYWsmTQ06mNdMzZMscahjbVYJMN8dUpRgyofVNdt1YQIYAfJQHyypcFm5K5xYNN2PnGn5ObxtF4x0e9EqCJDau6nF-ycD8AvTMBkUGzesi83608RanF9hFY8QHq6XjPzOEo1SY045YXR2rLG8oiFAXnW2FRPrnXrlwsTDItkOTnA9ePNy1MJh0Tsk_0wYyMikKgqi0ea54crOYnES9yV43CIZV2jN5ktGi2VQXpKmO8hI7MA-RzyzjPdobkQ_BvNmzu7w.O8nqeXwUgvAL4YsS.DuABVcuZUfHVwITq8t-V4woG_oUa5NNQfCScNT6al6odEFzPULRIxDyXUyn2IE66YV-rxeM37BS9RqKIS-_7RGVfkQJFR2G_7I5DORBXSn1kTiQkq6J5mUKL1JOHi9mnyrbgpEf-OEboAXJT0Kp0pK9ngRAUhu6JAHff0XvAuK1sKxSGnw7Gqhyf9InD0KJq81GY2AL11eG9D9Zc5sHhCz2aom8EYd7yTZPxM2qao6zHjcauYZhsAhqdP-3Tz-IQez5nCONz40-1gaW_fQQlg_VAPvgXnY9C4T3wJCVE_UUmUsOZ8oQLJ4sItsWfB1bH-XuFs7qvV-zaOco3jLx2K44rQl45CGHILGF2fjHLFLDkSENyGeP3QErkjrUsJz81xxgPGhRZ6tOhXfOWlbSfAMvzZwpCR2pH0QGqPye1hSjyMDswidf0YT_b0hPxWzBIPt9FnSisBjaGiUM9jClLdqpZN46Aod_qeSEj8dJubcebDqMRw7tfi8VuWO-l32--XsLobKfs7APLcqHSLHH7GYvNA20XQKwcWcOAiurjbw3IhEvUY6wjbpTCnkLjoAruAcnE0qUsD8-VyijStg9oscbm4QuApQxozH3sUm5c3Mg1rojH_58Euz0IdINy6sZDpLlp7bVo5zQJYpTWSScn8o1EDpmBtljil83Ocm2DNy3Qx3_OGCaOtnsZkU22yrU6alUxESo2yEuSGJC2zmxFAVLjb6QN9mfwPaXQczMkUTaqw5FXcSe9yKkrlXbkIVfwInqoga2ACpx_xydRnL-WMi3NHJNmXYAV4TYXpb_c3evy38JLbwBLz0-0FRDZ2JE75SJr6S_tsjuU7AHoo1TcIiOHbEUHfwQBHSj-WEEUqEmvy9p0ElGH5KhZqQVTrkuaPwN3qh-zbgR1XiiU7YlzpLFuJlLQuj71k0Fha-5bd56YoB667vaX3-_LVkrROiRccJlWq2WCASHzeMuEoer0Qa72OHt-nvF_bMy8vfqLNIjgPwsts4Vp33XhESRV3PSxskE-yam9zEudXwsAXIfAgwbr5Rqe5UnPX5M_4BGCby6TNzbUTrwyQJHgG91lhBfDzUJ-e0CaZVHicnk1CGig8rqJLj_3ggJYXAr74DLbTuBnKBuh_pkKKFUerr10kqMYsWhIqWG8k4m7QGrxKFFpBK5KUpvAXrRWZCJ7uRDCUv3Zquy8iuqJlD46_r5nBaImbJ9WhV31Xijh_JNrkT_6piHpVZuKw61FzHhAbqMw-JBiv8swR6zElT0tl7ecrhtDkvOmRQCfyY6C7GZoJue3xVeCfUPJenD32q7tw5I3gZr7IbzZpGCiCtW_R3GtWNA.UweDaxW7ioHc2f4gBccaAg\"}\n"},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":663400,"millis":0.6634,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1183500,"millis":1.1835,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"00:34:02.284 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJmOTM2OTJkNS03YjdmLTQ3YTItYjNkYi04MTZiZmJkOGE2YjQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDg0MiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQ0MiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDg0MiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.q3-OXNVKDr1iSVPPvoupuhIj4Aakt7EvGX1fK0A_Ix1SzDGZ9IVt0MMTKBBIl3onFf9Tpqb0ysWPgqSDQixHbWrKYY__YyB1i1LCcWXu5DMRZ6eintXLz1B4pm5idPCf0eetRJHMIwNn9mj4qa9BnPYDxlg2apOXeSxlGPfRKvh2XYdAYvNui3_Ern8GqlQOWaqHOQKA8M_fuxUejm3sugEk4w7Tr0YJwA3lR9dQdXB3RrOwdRvO03CKICpsZ3qpEaZvKg_0pEb3hinlWE7kdP2q1nzplHz6jILd-eDf5cbYzjdR_xjNGgl4FNL7BHVOcQ1AgjS3VvGdYCBHk_sEhQ \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":497.9254,"startTime":1621290841786,"failed":false,"refId":"[1:6]","endTime":1621290842285,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":542300,"millis":0.5423,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"00:34:02.287 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJmOTM2OTJkNS03YjdmLTQ3YTItYjNkYi04MTZiZmJkOGE2YjQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDg0MiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQ0MiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDg0MiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.q3-OXNVKDr1iSVPPvoupuhIj4Aakt7EvGX1fK0A_Ix1SzDGZ9IVt0MMTKBBIl3onFf9Tpqb0ysWPgqSDQixHbWrKYY__YyB1i1LCcWXu5DMRZ6eintXLz1B4pm5idPCf0eetRJHMIwNn9mj4qa9BnPYDxlg2apOXeSxlGPfRKvh2XYdAYvNui3_Ern8GqlQOWaqHOQKA8M_fuxUejm3sugEk4w7Tr0YJwA3lR9dQdXB3RrOwdRvO03CKICpsZ3qpEaZvKg_0pEb3hinlWE7kdP2q1nzplHz6jILd-eDf5cbYzjdR_xjNGgl4FNL7BHVOcQ1AgjS3VvGdYCBHk_sEhQ\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImY5MzY5MmQ1LTdiN2YtNDdhMi1iM2RiLTgxNmJmYmQ4YTZiNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjEyOTA4NDIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTI5NDQ0MiwiaWF0IjoxNjIxMjkwODQyLCJqdGkiOiJkYjZkYjk5Ny03Y2JiLTQ3MWEtOGMyZC02NGQ4NTZiOTVlYmEiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pOMG6-BnUHJR_rmeLRvLWTCzhmMMKpGBDwf3aRQYSXGU_MCs3mcfTeQdmyCU1qvDW8uv6r2fzbymoQsERp_tbkMMEs6KorSrlZjRiEE2xYAxJNfdGl9aMt73DESU1YNIpGf21eKdouG24Ex-ik8jGZsfjElOTiOQyoVtB_jBMaqkKSZJgb4WCellqkvMKhSNeGAj9cKFYGn2vNlNpDOnlh3AZ2hYhRETjqzrsAm_xYQarK9Vx5cLy_V8zNZYiVEZQLE6Lwv-TjCQa15Ou8unRmfmoHbTsPsWXrdT5dswPxkdp14mk6YxPQNg3ePqaY4SUdsoOPPC6GLyqUFCRKyBKA\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.X18YnSYdGH0XeF2LjX7BSWpFTIW11tFuUu4loLkMeq4DN4f24KPORDb33lN9NaxF2aZ4KX7pTXVlgc9oqPYWsmTQ06mNdMzZMscahjbVYJMN8dUpRgyofVNdt1YQIYAfJQHyypcFm5K5xYNN2PnGn5ObxtF4x0e9EqCJDau6nF-ycD8AvTMBkUGzesi83608RanF9hFY8QHq6XjPzOEo1SY045YXR2rLG8oiFAXnW2FRPrnXrlwsTDItkOTnA9ePNy1MJh0Tsk_0wYyMikKgqi0ea54crOYnES9yV43CIZV2jN5ktGi2VQXpKmO8hI7MA-RzyzjPdobkQ_BvNmzu7w.O8nqeXwUgvAL4YsS.DuABVcuZUfHVwITq8t-V4woG_oUa5NNQfCScNT6al6odEFzPULRIxDyXUyn2IE66YV-rxeM37BS9RqKIS-_7RGVfkQJFR2G_7I5DORBXSn1kTiQkq6J5mUKL1JOHi9mnyrbgpEf-OEboAXJT0Kp0pK9ngRAUhu6JAHff0XvAuK1sKxSGnw7Gqhyf9InD0KJq81GY2AL11eG9D9Zc5sHhCz2aom8EYd7yTZPxM2qao6zHjcauYZhsAhqdP-3Tz-IQez5nCONz40-1gaW_fQQlg_VAPvgXnY9C4T3wJCVE_UUmUsOZ8oQLJ4sItsWfB1bH-XuFs7qvV-zaOco3jLx2K44rQl45CGHILGF2fjHLFLDkSENyGeP3QErkjrUsJz81xxgPGhRZ6tOhXfOWlbSfAMvzZwpCR2pH0QGqPye1hSjyMDswidf0YT_b0hPxWzBIPt9FnSisBjaGiUM9jClLdqpZN46Aod_qeSEj8dJubcebDqMRw7tfi8VuWO-l32--XsLobKfs7APLcqHSLHH7GYvNA20XQKwcWcOAiurjbw3IhEvUY6wjbpTCnkLjoAruAcnE0qUsD8-VyijStg9oscbm4QuApQxozH3sUm5c3Mg1rojH_58Euz0IdINy6sZDpLlp7bVo5zQJYpTWSScn8o1EDpmBtljil83Ocm2DNy3Qx3_OGCaOtnsZkU22yrU6alUxESo2yEuSGJC2zmxFAVLjb6QN9mfwPaXQczMkUTaqw5FXcSe9yKkrlXbkIVfwInqoga2ACpx_xydRnL-WMi3NHJNmXYAV4TYXpb_c3evy38JLbwBLz0-0FRDZ2JE75SJr6S_tsjuU7AHoo1TcIiOHbEUHfwQBHSj-WEEUqEmvy9p0ElGH5KhZqQVTrkuaPwN3qh-zbgR1XiiU7YlzpLFuJlLQuj71k0Fha-5bd56YoB667vaX3-_LVkrROiRccJlWq2WCASHzeMuEoer0Qa72OHt-nvF_bMy8vfqLNIjgPwsts4Vp33XhESRV3PSxskE-yam9zEudXwsAXIfAgwbr5Rqe5UnPX5M_4BGCby6TNzbUTrwyQJHgG91lhBfDzUJ-e0CaZVHicnk1CGig8rqJLj_3ggJYXAr74DLbTuBnKBuh_pkKKFUerr10kqMYsWhIqWG8k4m7QGrxKFFpBK5KUpvAXrRWZCJ7uRDCUv3Zquy8iuqJlD46_r5nBaImbJ9WhV31Xijh_JNrkT_6piHpVZuKw61FzHhAbqMw-JBiv8swR6zElT0tl7ecrhtDkvOmRQCfyY6C7GZoJue3xVeCfUPJenD32q7tw5I3gZr7IbzZpGCiCtW_R3GtWNA.UweDaxW7ioHc2f4gBccaAg\"\n}\n \n"},{"result":{"nanos":750000,"millis":0.75,"status":"passed"},"step":{"endLine":263,"comments":["#### List the customers to select one to delete"],"line":260,"prefix":"*","docString":"read('CustomerReadModels.graphql')","index":0,"text":"def queryCustReadModels ="}},{"result":{"nanos":173600,"millis":0.1736,"status":"passed"},"step":{"line":264,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":168800,"millis":0.1688,"status":"passed"},"step":{"line":265,"prefix":"And","index":2,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":349500,"millis":0.3495,"status":"passed"},"step":{"line":266,"prefix":"And","index":3,"text":"request { query: '#(queryCustReadModels)'}"}},{"result":{"nanos":196404500,"millis":196.4045,"status":"passed"},"step":{"line":267,"prefix":"When","index":4,"text":"method post"},"stepLog":"00:34:02.289 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJmOTM2OTJkNS03YjdmLTQ3YTItYjNkYi04MTZiZmJkOGE2YjQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDg0MiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQ0MiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDg0MiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.q3-OXNVKDr1iSVPPvoupuhIj4Aakt7EvGX1fK0A_Ix1SzDGZ9IVt0MMTKBBIl3onFf9Tpqb0ysWPgqSDQixHbWrKYY__YyB1i1LCcWXu5DMRZ6eintXLz1B4pm5idPCf0eetRJHMIwNn9mj4qa9BnPYDxlg2apOXeSxlGPfRKvh2XYdAYvNui3_Ern8GqlQOWaqHOQKA8M_fuxUejm3sugEk4w7Tr0YJwA3lR9dQdXB3RrOwdRvO03CKICpsZ3qpEaZvKg_0pEb3hinlWE7kdP2q1nzplHz6jILd-eDf5cbYzjdR_xjNGgl4FNL7BHVOcQ1AgjS3VvGdYCBHk_sEhQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 167\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query CustomerReadModels {\\r\\n    CustomerReadModels {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n00:34:02.484 response time in milliseconds: 194\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 397\n1 < Connection: keep-alive\n1 < Date: Mon, 17 May 2021 22:34:02 GMT\n1 < x-amzn-RequestId: 21d9ee96-dd21-4282-9dc6-f9cb37f8d8df\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: ffpWNGNgDoEFWNg=\n1 < X-Amzn-Trace-Id: Root=1-60a2ef5a-272abbd82f7bb87922d75100;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9d2dddf4e5a6eb0fbe872acf3cba5889.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: 2VmiOLUSppv2M5lxd5URCotbMFSrmUFbYEZm6zr3eZHMtNpn3816Qg==\n{\"data\":{\"CustomerReadModels\":[{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"23000000nophoto\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer3 Surname\",\"name\":\"Customer3\",\"id\":\"3\",\"userId\":\"admin@theagilemonkeys.com\"}]}}\n"},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":268,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":339000,"millis":0.339,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":271,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":525400,"millis":0.5254,"status":"passed"},"step":{"comments":["# Check that the response doesn't contains a field \"error\""],"line":274,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":947700,"millis":0.9477,"status":"passed"},"step":{"line":275,"prefix":"*","index":8,"text":"match response.data.CustomerReadModels contains {id: '#ignore', name: '#ignore', surname: '#ignore', photoUrl: '#ignore', userId: '#ignore' }"}},{"result":{"nanos":1432700,"millis":1.4327,"status":"passed"},"step":{"comments":["# Save the body of the response and get the first to delete"],"line":278,"prefix":"*","index":9,"text":"def list_customers = response.data.CustomerReadModels"}},{"result":{"nanos":3691700,"millis":3.6917,"status":"passed"},"step":{"line":279,"prefix":"*","index":10,"text":"def customer_toDelete = list_customers[0]"}},{"result":{"nanos":1403200,"millis":1.4032,"status":"passed"},"step":{"endLine":285,"comments":["#### Delete the customer"],"line":282,"prefix":"*","docString":"read('DeleteCustomer.graphql')","index":11,"text":"def queryDeleteCustomer ="}},{"result":{"nanos":261500,"millis":0.2615,"status":"passed"},"step":{"line":286,"prefix":"Given","index":12,"text":"path 'graphql'"}},{"result":{"nanos":407400,"millis":0.4074,"status":"passed"},"step":{"line":287,"prefix":"And","index":13,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":1351100,"millis":1.3511,"status":"passed"},"step":{"line":288,"prefix":"And","index":14,"text":"request { query: '#(queryDeleteCustomer)', variables: '#(customer_toDelete)'}"}},{"result":{"nanos":193382400,"millis":193.3824,"status":"passed"},"step":{"line":289,"prefix":"When","index":15,"text":"method post"},"stepLog":"00:34:02.498 request:\n2 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n2 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJmOTM2OTJkNS03YjdmLTQ3YTItYjNkYi04MTZiZmJkOGE2YjQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTI5MDg0MiwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTI5NDQ0MiwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTI5MDg0MiwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.q3-OXNVKDr1iSVPPvoupuhIj4Aakt7EvGX1fK0A_Ix1SzDGZ9IVt0MMTKBBIl3onFf9Tpqb0ysWPgqSDQixHbWrKYY__YyB1i1LCcWXu5DMRZ6eintXLz1B4pm5idPCf0eetRJHMIwNn9mj4qa9BnPYDxlg2apOXeSxlGPfRKvh2XYdAYvNui3_Ern8GqlQOWaqHOQKA8M_fuxUejm3sugEk4w7Tr0YJwA3lR9dQdXB3RrOwdRvO03CKICpsZ3qpEaZvKg_0pEb3hinlWE7kdP2q1nzplHz6jILd-eDf5cbYzjdR_xjNGgl4FNL7BHVOcQ1AgjS3VvGdYCBHk_sEhQ\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 233\n2 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"photoUrl\":\"\",\"surname\":\"Customer surname\",\"name\":\"Customer name\",\"id\":\"2100000photo\",\"userId\":\"admin@theagilemonkeys.com\"},\"query\":\"mutation DeleteCustomer($id: ID) {\\r\\n    DeleteCustomer(input: {id: $id})\\r\\n} \\r\\n\"}\n\n00:34:02.688 response time in milliseconds: 189\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 32\n2 < Connection: keep-alive\n2 < Date: Mon, 17 May 2021 22:34:03 GMT\n2 < x-amzn-RequestId: bef04d92-ec78-45fe-a2a0-83f9ef58040a\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: ffpWOESKDoEFn4g=\n2 < X-Amzn-Trace-Id: Root=1-60a2ef5a-0c82879a6b81ac7c31fb1ccd;Sampled=0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 3d894cf86d3eca85fdb4b21f62292766.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: MAD50-C1\n2 < X-Amz-Cf-Id: PG2TyW4WxXVkyI3y9rRiiRgpwGM9fdj-YK8L6zkj_IMUJjL4lfZIPQ==\n{\"data\":{\"DeleteCustomer\":true}}\n"},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":290,"prefix":"Then","index":16,"text":"status 200"}},{"result":{"nanos":4014009400,"millis":4014.0094,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":292,"prefix":"*","index":17,"text":"wait(4000)"}},{"result":{"nanos":324300,"millis":0.3243,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":295,"prefix":"*","index":18,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":733900,"millis":0.7339,"status":"passed"},"step":{"comments":["# Check if the response contains any error"],"line":298,"prefix":"*","index":19,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":258,"name":"The use admin can delete customers","description":"","durationMillis":4922.8341,"startTime":1621290841779,"failed":false,"refId":"[8:258]","endTime":1621290846705,"exampleIndex":-1}],"callDepth":0,"name":"Test the creation of users and customers by an admin user in the environment set from the java class","description":"","resultDate":"2021-05-18 12:34:06 a.Â m.","durationMillis":42297.4607,"passedCount":7}