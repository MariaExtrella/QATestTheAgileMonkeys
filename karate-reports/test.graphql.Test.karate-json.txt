{"failedCount":1,"prefixedPath":"classpath:test\/graphql\/Test.feature","packageQualifiedName":"test.graphql.Test","loopIndex":-1,"relativePath":"test\/graphql\/Test.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"02:33:22.956 karate.env system property was: prod \n"},{"result":{"nanos":50370968300,"millis":50370.9683,"status":"passed"},"step":{"line":7,"prefix":"*","index":0,"text":"def testResuls = call read('TestAdmin.feature')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:test\/graphql\/TestAdmin.feature","packageQualifiedName":"test.graphql.TestAdmin","loopIndex":-1,"relativePath":"test\/graphql\/TestAdmin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":37032800,"millis":37.0328,"status":"passed"},"step":{"comments":["# It is necessary to sign in the API as admin to create a new user","# Read the admin datas from a *.json file"],"line":9,"prefix":"*","index":0,"text":"def adminDatas = read('signinDatasUser.json')"}},{"result":{"nanos":812240900,"millis":812.2409,"status":"passed"},"step":{"comments":["### Call the feature to sign in the API with the JSON file that contains the admin's datas"],"line":12,"prefix":"*","index":1,"text":"def signIn = call read('signin.feature') adminDatas"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/signin.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":801.85,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"test.graphql.signin","relativePath":"test\/graphql\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":2776600,"millis":2.7766,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":4529500,"millis":4.5295,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"02:33:23.062 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":4604100,"millis":4.6041,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":485500,"millis":0.4855,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":787183500,"millis":787.1835,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:33:23.283 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n02:33:23.852 response time in milliseconds: 564\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:33:24 GMT\n1 < x-amzn-RequestId: 43bf9747-128f-4fdb-8b35-2f5004e02112\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZhLE8_joEFmKA=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2d4-0c7eed6a7fe5a3391acc3de2\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c0d1739fbc59ff80d4ec6a2a675c8aac.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: -x-kUcGPD4K6n3UtN7j4E3X3MTLw4kmufzFqRLWNm8al2pSvIS6WUQ==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg\"}\n"},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1000700,"millis":1.0007,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1193100,"millis":1.1931,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"02:33:23.857 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":801.85,"startTime":1621730003054,"failed":false,"refId":"[1:6]","endTime":1621730003857,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1841000,"millis":1.841,"status":"passed"},"step":{"line":13,"prefix":"*","index":2,"text":"print signIn.response"},"stepLog":"02:33:23.860 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg\"\n}\n \n"},{"result":{"nanos":1251800,"millis":1.2518,"status":"passed"},"step":{"comments":["# The token for the admin user is the input parameter for the callable feature where are defined the steps of the tests"],"line":15,"prefix":"*","index":3,"text":"def userToken = signIn.response"}},{"result":{"nanos":16899594200,"millis":16899.5942,"status":"passed"},"step":{"comments":["### Test that the admin user can save new users"],"line":19,"prefix":"*","index":4,"text":"def saveUsers = call read('SaveUsers.feature') userToken"},"stepLog":"02:33:40.749 dynamic expression complete at index: 3, not map-like: [type: NULL, value: null]\n","callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUsers.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":16846.2914,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUsers","relativePath":"test\/graphql\/SaveUsers.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1492700,"millis":1.4927,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":4896900,"millis":4.8969,"status":"passed"},"step":{"comments":["# Define a function to generate Users"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorUser = function(i){ if (i == 3) return null; return { username: 'username' + i + '@test.com', password: 'Password_1', role: 'User' } }"}},{"result":{"nanos":1255800,"millis":1.2558,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":1456200,"millis":1.4562,"status":"passed"},"step":{"endLine":24,"line":17,"prefix":"*","docString":"{ \n\t\"username\": \"#(username)\", \n\t\"password\": \"#(password)\", \n\t\"role\": \"#(role)\"\n}","index":1,"text":"def newUser ="}},{"result":{"nanos":370600,"millis":0.3706,"status":"passed"},"step":{"line":26,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":579300,"millis":0.5793,"status":"passed"},"step":{"line":27,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":516500,"millis":0.5165,"status":"passed"},"step":{"line":29,"prefix":"And","index":4,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":2371272400,"millis":2371.2724,"status":"passed"},"step":{"line":30,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:33:23.914 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 254\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"User\",\"username\":\"username0@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n02:33:26.281 response time in milliseconds: 2366\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 26\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:33:27 GMT\n1 < x-amzn-RequestId: 3d9cbe1c-dc49-4fc2-b28f-8748e719eab1\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZhQGGHDoEFVhg=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2d4-6e2cc62279e569055917e93f;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b48ff99ee80d859d9aeaafd9cb93df6f.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: mPthP4PncEFe3Q9jKaF2s_Rkq29WB03TQgRuHZpHLT4YJWzl7CIieA==\n{\"data\":{\"SaveUser\":true}}\n"},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":31,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4020735000,"millis":4020.735,"status":"passed"},"step":{"line":33,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":848500,"millis":0.8485,"status":"passed"},"step":{"line":36,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}}],"line":39,"description":"","durationMillis":6403.4625,"failed":false,"executorName":"main","name":"Save a new User","startTime":1621730003909,"refId":"[1.1:39]","endTime":1621730010306,"exampleData":{"username":"username0@test.com","password":"Password_1","role":"User"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1492700,"millis":1.4927,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":4896900,"millis":4.8969,"status":"passed"},"step":{"comments":["# Define a function to generate Users"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorUser = function(i){ if (i == 3) return null; return { username: 'username' + i + '@test.com', password: 'Password_1', role: 'User' } }"}},{"result":{"nanos":495200,"millis":0.4952,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":767300,"millis":0.7673,"status":"passed"},"step":{"endLine":24,"line":17,"prefix":"*","docString":"{ \n\t\"username\": \"#(username)\", \n\t\"password\": \"#(password)\", \n\t\"role\": \"#(role)\"\n}","index":1,"text":"def newUser ="}},{"result":{"nanos":322500,"millis":0.3225,"status":"passed"},"step":{"line":26,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":304300,"millis":0.3043,"status":"passed"},"step":{"line":27,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":155100,"millis":0.1551,"status":"passed"},"step":{"line":29,"prefix":"And","index":4,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":1202168900,"millis":1202.1689,"status":"passed"},"step":{"line":30,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:33:30.315 request:\n2 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n2 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 254\n2 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"User\",\"username\":\"username1@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n02:33:31.514 response time in milliseconds: 1198\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 26\n2 < Connection: keep-alive\n2 < Date: Sun, 23 May 2021 00:33:32 GMT\n2 < x-amzn-RequestId: 685225b9-6dff-43a9-8c7a-c8692cf54c52\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: fwZiQE64DoEFX6A=\n2 < X-Amzn-Trace-Id: Root=1-60a9a2db-62e03076059959a508071c10;Sampled=0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 71a0472adc0e71a3b21b29ba3bec35f2.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: MAD51-C2\n2 < X-Amz-Cf-Id: TWKUfpn-YAnIRF59iJvpM_xhkUcx_ePucL_fTtqH8vY0dnA8_DrjoQ==\n{\"data\":{\"SaveUser\":true}}\n"},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":31,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4011867600,"millis":4011.8676,"status":"passed"},"step":{"line":33,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":457100,"millis":0.4571,"status":"passed"},"step":{"line":36,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}}],"line":39,"description":"","durationMillis":5222.9631,"failed":false,"executorName":"main","name":"Save a new User","startTime":1621730010311,"refId":"[1.2:39]","endTime":1621730015529,"exampleData":{"username":"username1@test.com","password":"Password_1","role":"User"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1492700,"millis":1.4927,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":4896900,"millis":4.8969,"status":"passed"},"step":{"comments":["# Define a function to generate Users"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorUser = function(i){ if (i == 3) return null; return { username: 'username' + i + '@test.com', password: 'Password_1', role: 'User' } }"}},{"result":{"nanos":580400,"millis":0.5804,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":293100,"millis":0.2931,"status":"passed"},"step":{"endLine":24,"line":17,"prefix":"*","docString":"{ \n\t\"username\": \"#(username)\", \n\t\"password\": \"#(password)\", \n\t\"role\": \"#(role)\"\n}","index":1,"text":"def newUser ="}},{"result":{"nanos":118900,"millis":0.1189,"status":"passed"},"step":{"line":26,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":131900,"millis":0.1319,"status":"passed"},"step":{"line":27,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":138300,"millis":0.1383,"status":"passed"},"step":{"line":29,"prefix":"And","index":4,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":1202502400,"millis":1202.5024,"status":"passed"},"step":{"line":30,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:33:35.537 request:\n3 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n3 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Content-Length: 254\n3 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n3 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"User\",\"username\":\"username2@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n02:33:36.737 response time in milliseconds: 1199\n3 < 200\n3 < Content-Type: application\/json\n3 < Content-Length: 26\n3 < Connection: keep-alive\n3 < Date: Sun, 23 May 2021 00:33:37 GMT\n3 < x-amzn-RequestId: a5cc9590-03d2-416d-82fa-69339c7c1849\n3 < Access-Control-Allow-Origin: *\n3 < x-amz-apigw-id: fwZjFENHjoEF1eA=\n3 < X-Amzn-Trace-Id: Root=1-60a9a2e0-62e790a2126cf41278c8e873;Sampled=0\n3 < X-Cache: Miss from cloudfront\n3 < Via: 1.1 e4b8d81d5f13e1c05d52108e75ecf23c.cloudfront.net (CloudFront)\n3 < X-Amz-Cf-Pop: MAD51-C2\n3 < X-Amz-Cf-Id: KezWr09siqtIaOq_qDgtSpXa-dgK1xpo1_i2G_5eCKnx_uboRdRfFg==\n{\"data\":{\"SaveUser\":true}}\n"},{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"line":31,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4009357500,"millis":4009.3575,"status":"passed"},"step":{"line":33,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":316600,"millis":0.3166,"status":"passed"},"step":{"line":36,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}}],"line":39,"description":"","durationMillis":5219.8658,"failed":false,"executorName":"main","name":"Save a new User","startTime":1621730015535,"refId":"[1.3:39]","endTime":1621730020748,"exampleData":{"username":"username2@test.com","password":"Password_1","role":"User"},"exampleIndex":2}],"name":"Generate and save new users","passedCount":3}]},{"result":{"nanos":11531400,"millis":11.5314,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":5,"text":"match saveUsers.response.errors == '#notpresent'"}},{"result":{"nanos":272666400,"millis":272.6664,"status":"passed"},"step":{"comments":["# List all the users of the API"],"line":24,"prefix":"*","index":6,"text":"def listUsers = call read('UserReadModels.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/UserReadModels.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":258.1896,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.UserReadModels","relativePath":"test\/graphql\/UserReadModels.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1663300,"millis":1.6633,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryUserReadModels = read('UserReadModels.graphql')"}},{"result":{"nanos":257300,"millis":0.2573,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":409900,"millis":0.4099,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":560400,"millis":0.5604,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryUserReadModels)'}"}},{"result":{"nanos":254849800,"millis":254.8498,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:33:40.786 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 102\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query UserReadModels {\\r\\n    UserReadModels {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n02:33:41.038 response time in milliseconds: 250\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 155\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:33:41 GMT\n1 < x-amzn-RequestId: aa824277-674d-4242-9cbf-2a12b27a3ea7\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZj5HKbDoEFm2w=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2e5-7ea6fcdf6b0c1ab072cff0a5;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e4b8d81d5f13e1c05d52108e75ecf23c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: Mkcvbai2mqGbuyHjY1_khf32kVxWtmqBksbdg-aAOknoO7C2oX_zMA==\n{\"data\":{\"UserReadModels\":[{\"role\":\"User\",\"id\":\"username0@test.com\"},{\"role\":\"User\",\"id\":\"username1@test.com\"},{\"role\":\"User\",\"id\":\"username2@test.com\"}]}}\n"},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":413400,"millis":0.4134,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":6,"name":"List the users","description":"","durationMillis":258.1896,"startTime":1621730020782,"failed":false,"refId":"[1:6]","endTime":1621730021041,"exampleIndex":-1}],"name":"List all the users of the graphql API","passedCount":1}]},{"result":{"nanos":669700,"millis":0.6697,"status":"passed"},"step":{"line":25,"prefix":"*","index":7,"text":"match listUsers.response.errors == '#notpresent'"}},{"result":{"nanos":5239800,"millis":5.2398,"status":"passed"},"step":{"comments":["### Change the role of one user","# Take the first user of the response to change the role"],"line":29,"prefix":"*","index":8,"text":"def first_user = listUsers.response.data.UserReadModels[0]"}},{"result":{"nanos":1215900,"millis":1.2159,"status":"passed"},"step":{"line":31,"prefix":"*","index":9,"text":"set first_user.role = \"role changed\""}},{"result":{"nanos":1554500,"millis":1.5545,"status":"passed"},"step":{"endLine":38,"line":32,"prefix":"*","docString":"{\n  \"username\": \"#(first_user.id)\",\n  \"role\": \"#(first_user.role)\"\n}","index":10,"text":"def userChangeRole ="}},{"result":{"nanos":4508421100,"millis":4508.4211,"status":"passed"},"step":{"line":39,"prefix":"*","index":11,"text":"def change_role = call read('ChangeUserRole.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/ChangeUserRole.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4489.1891,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.ChangeUserRole","relativePath":"test\/graphql\/ChangeUserRole.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":562400,"millis":0.5624,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1186300,"millis":1.1863,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":12,"prefix":"*","index":0,"text":"def queryChangeUserRole = read('ChangeUserRole.graphql')"}},{"result":{"nanos":406900,"millis":0.4069,"status":"passed"},"step":{"line":14,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":377700,"millis":0.3777,"status":"passed"},"step":{"line":15,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":1362300,"millis":1.3623,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: '#(queryChangeUserRole)',  variables: '#(userChangeRole)'  }"}},{"result":{"nanos":479696900,"millis":479.6969,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:33:41.073 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 207\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"role\":\"role changed\",\"username\":\"username0@test.com\"},\"query\":\"mutation ChangeUserRole($username: String, $role: String) {\\r\\n  ChangeUserRole(input: {username: $username, role: $role})\\r\\n}\"}\n\n02:33:41.550 response time in milliseconds: 476\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 32\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:33:42 GMT\n1 < x-amzn-RequestId: 8eaf2cbd-7a9c-4519-8d43-a32a14104929\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZj7GvoDoEFWSQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2e5-6bfc445b5cf48a3654cc74cc;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fe55d6b634c29e0dbde85630de5f2787.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: Zom_r0XdtB82jCast82VZ85fbxxHd5RBI_Za99m4rzAi-ZyktDHgSA==\n{\"data\":{\"ChangeUserRole\":true}}\n"},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4005562600,"millis":4005.5626,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":21,"prefix":"*","index":6,"text":"wait(4000)"}}],"executorName":"main","line":10,"name":"Change the role of a user","description":"","durationMillis":4489.1891,"startTime":1621730021067,"failed":false,"refId":"[1:10]","endTime":1621730025557,"exampleIndex":-1}],"name":"Change the role of one user","passedCount":1}]},{"result":{"nanos":811200,"millis":0.8112,"status":"passed"},"step":{"line":40,"prefix":"*","index":12,"text":"match change_role.response.errors == '#notpresent'"}},{"result":{"nanos":904200,"millis":0.9042,"status":"passed"},"step":{"endLine":49,"comments":["### List one user by id to check that the role has been changed","# Define the id for the query"],"line":44,"prefix":"*","docString":"{\n\t\"id\": \"#(first_user.id)\"\n}","index":13,"text":"def id ="}},{"result":{"nanos":305791600,"millis":305.7916,"status":"passed"},"step":{"line":50,"prefix":"*","index":14,"text":"def listUserbyId = call read('UserReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/UserReadModel.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":283.6034,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.UserReadModel","relativePath":"test\/graphql\/UserReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":914100,"millis":0.9141,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryUserReadModel = read('UserReadModel.graphql')"}},{"result":{"nanos":166800,"millis":0.1668,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":229700,"millis":0.2297,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":922400,"millis":0.9224,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryUserReadModel)', variables: '#(id)'}"}},{"result":{"nanos":281027900,"millis":281.0279,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:33:45.585 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 159\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"username0@test.com\"},\"query\":\"query UserReadModel($id: ID!) {\\r\\n    UserReadModel(id: $id) {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n02:33:45.864 response time in milliseconds: 278\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 76\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:33:46 GMT\n1 < x-amzn-RequestId: a2887134-cebe-4570-92d5-12959762d1db\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZkpF1BjoEFnWg=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2ea-0e6806bf2b37430d66e0a88f;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c5c852ebeabe49b08625d425153869fe.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: pDfS8seRWrETLn5v4TQuC3XFvuTzkK57IVaGXvTbesAmGgkPgP-yHw==\n{\"data\":{\"UserReadModel\":{\"role\":\"role changed\",\"id\":\"username0@test.com\"}}}\n"},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":313100,"millis":0.3131,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":6,"name":"List a user by id","description":"","durationMillis":283.6034,"startTime":1621730025581,"failed":false,"refId":"[1:6]","endTime":1621730025865,"exampleIndex":-1}],"name":"List a user by Id of the graphql API","passedCount":1}]},{"result":{"nanos":1380500,"millis":1.3805,"status":"passed"},"step":{"line":51,"prefix":"*","index":15,"text":"match listUserbyId.response.data.UserReadModel == {id: '#(first_user.id)', role: '#(first_user.role)' }"}},{"result":{"nanos":2763000,"millis":2.763,"status":"passed"},"step":{"comments":["### Create new customers","# It is necessary to define the userId as the username of the user who create the customers to be read as id in the feature"],"line":56,"prefix":"*","index":16,"text":"def id = adminDatas.username"},"stepLog":"02:33:45.874 over-writing existing variable 'id' with new value: adminDatas.username\n"},{"result":{"nanos":12837373200,"millis":12837.3732,"status":"passed"},"step":{"line":57,"prefix":"*","index":17,"text":"def saveCustomers = call read('SaveCustomers.feature') userToken"},"stepLog":"02:33:58.703 dynamic expression complete at index: 3, not map-like: [type: NULL, value: null]\n","callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveCustomers.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":12795.3253,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveCustomers","relativePath":"test\/graphql\/SaveCustomers.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":159300,"millis":0.1593,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":803400,"millis":0.8034,"status":"passed"},"step":{"comments":["# Define a function to generate Customers"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorCustomer = function(i){ if (i == 3) return null; return { idCust: 'Cust' + i, nameCust: 'Cutomer Name', surnameCust: 'Customer Surname', photoCust: 'photo.jpg' } }"}},{"result":{"nanos":844200,"millis":0.8442,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":1269800,"millis":1.2698,"status":"passed"},"step":{"endLine":25,"line":17,"prefix":"*","docString":"{ \n\t\"id\": \"#(idCust)\", \n\t\"name\": \"#(nameCust)\", \n\t\"surname\": \"#(surnameCust)\",\n\t\"photo\": \"#(photoCust)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":123400,"millis":0.1234,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":175600,"millis":0.1756,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":492200,"millis":0.4922,"status":"passed"},"step":{"line":30,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":261485200,"millis":261.4852,"status":"passed"},"step":{"line":31,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:33:45.898 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 282\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"photo\":\"photo.jpg\",\"id\":\"Cust0\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n02:33:46.158 response time in milliseconds: 259\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 30\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:33:46 GMT\n1 < x-amzn-RequestId: 9b2ffe58-68b3-49f1-b871-bf49c32bf588\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZksGxtjoEFzQw=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2ea-27e491a97138232e02ae5f8d;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 32713ef80c317f26bc1691bc0aad3819.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: vJ3-GepIZAM75EigdjLytJ1JXDmrn8xFABjyR9KSwfsQTGyPfVUT1g==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":32,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4001917400,"millis":4001.9174,"status":"passed"},"step":{"line":34,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":383500,"millis":0.3835,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":843200,"millis":0.8432,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"line":42,"description":"","durationMillis":4268.5281,"failed":false,"executorName":"main","name":"Save a new Customer","startTime":1621730025894,"refId":"[1.1:42]","endTime":1621730030162,"exampleData":{"idCust":"Cust0","nameCust":"Cutomer Name","surnameCust":"Customer Surname","photoCust":"photo.jpg"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":159300,"millis":0.1593,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":803400,"millis":0.8034,"status":"passed"},"step":{"comments":["# Define a function to generate Customers"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorCustomer = function(i){ if (i == 3) return null; return { idCust: 'Cust' + i, nameCust: 'Cutomer Name', surnameCust: 'Customer Surname', photoCust: 'photo.jpg' } }"}},{"result":{"nanos":361300,"millis":0.3613,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":309500,"millis":0.3095,"status":"passed"},"step":{"endLine":25,"line":17,"prefix":"*","docString":"{ \n\t\"id\": \"#(idCust)\", \n\t\"name\": \"#(nameCust)\", \n\t\"surname\": \"#(surnameCust)\",\n\t\"photo\": \"#(photoCust)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":96800,"millis":0.0968,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":118500,"millis":0.1185,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":135600,"millis":0.1356,"status":"passed"},"step":{"line":30,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":129383300,"millis":129.3833,"status":"passed"},"step":{"line":31,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:33:50.173 request:\n2 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n2 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 282\n2 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"photo\":\"photo.jpg\",\"id\":\"Cust1\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n02:33:50.300 response time in milliseconds: 127\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 30\n2 < Connection: keep-alive\n2 < Date: Sun, 23 May 2021 00:33:51 GMT\n2 < x-amzn-RequestId: eed41225-cb04-40fd-94ed-e6a1a3f64d63\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: fwZlWEgojoEF9qA=\n2 < X-Amzn-Trace-Id: Root=1-60a9a2ee-4c70bc3203a76e056e3e129d;Sampled=0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 83f9969abb9f43b17789799503ae532d.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: MAD51-C2\n2 < X-Amz-Cf-Id: 9nCNhnejPdqpdakDuf04Isf4JL6p5SJmOU2dPfY-xahe3F9Uop3A-w==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":32,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4009058900,"millis":4009.0589,"status":"passed"},"step":{"line":34,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":285900,"millis":0.2859,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":595900,"millis":0.5959,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"line":42,"description":"","durationMillis":4141.3408,"failed":false,"executorName":"main","name":"Save a new Customer","startTime":1621730030171,"refId":"[1.2:42]","endTime":1621730034312,"exampleData":{"idCust":"Cust1","nameCust":"Cutomer Name","surnameCust":"Customer Surname","photoCust":"photo.jpg"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":159300,"millis":0.1593,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":803400,"millis":0.8034,"status":"passed"},"step":{"comments":["# Define a function to generate Customers"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorCustomer = function(i){ if (i == 3) return null; return { idCust: 'Cust' + i, nameCust: 'Cutomer Name', surnameCust: 'Customer Surname', photoCust: 'photo.jpg' } }"}},{"result":{"nanos":334100,"millis":0.3341,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":243100,"millis":0.2431,"status":"passed"},"step":{"endLine":25,"line":17,"prefix":"*","docString":"{ \n\t\"id\": \"#(idCust)\", \n\t\"name\": \"#(nameCust)\", \n\t\"surname\": \"#(surnameCust)\",\n\t\"photo\": \"#(photoCust)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":83600,"millis":0.0836,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":110200,"millis":0.1102,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":114100,"millis":0.1141,"status":"passed"},"step":{"line":30,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":376780000,"millis":376.78,"status":"passed"},"step":{"line":31,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:33:54.320 request:\n3 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n3 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Content-Length: 282\n3 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n3 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"photo\":\"photo.jpg\",\"id\":\"Cust2\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n02:33:54.694 response time in milliseconds: 373\n3 < 200\n3 < Content-Type: application\/json\n3 < Content-Length: 30\n3 < Connection: keep-alive\n3 < Date: Sun, 23 May 2021 00:33:55 GMT\n3 < x-amzn-RequestId: 13787136-f3e3-47fc-bb3b-8c9bd64777b8\n3 < Access-Control-Allow-Origin: *\n3 < x-amz-apigw-id: fwZmAHDiDoEF9cA=\n3 < X-Amzn-Trace-Id: Root=1-60a9a2f3-03d9a0cb505e618d31b039d8;Sampled=0\n3 < X-Cache: Miss from cloudfront\n3 < Via: 1.1 66709b7391664c627ccebe2d9c55dd7f.cloudfront.net (CloudFront)\n3 < X-Amz-Cf-Pop: MAD51-C2\n3 < X-Amz-Cf-Id: xyvKOhy0y_FMAUGLhvTlEcf6zfkGxiXzyl1l6nuRhA-jAD_SIN3faQ==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":32,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4005900000,"millis":4005.9,"status":"passed"},"step":{"line":34,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":266800,"millis":0.2668,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":628500,"millis":0.6285,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"line":42,"description":"","durationMillis":4385.4564,"failed":false,"executorName":"main","name":"Save a new Customer","startTime":1621730034318,"refId":"[1.3:42]","endTime":1621730038702,"exampleData":{"idCust":"Cust2","nameCust":"Cutomer Name","surnameCust":"Customer Surname","photoCust":"photo.jpg"},"exampleIndex":2}],"name":"Generate and save new customers","passedCount":3}]},{"result":{"nanos":377171400,"millis":377.1714,"status":"passed"},"step":{"comments":["### List all customers"],"line":61,"prefix":"*","index":18,"text":"def listCustomers = call read('CustomerReadModels.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModels.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":330.754,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModels","relativePath":"test\/graphql\/CustomerReadModels.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1457200,"millis":1.4572,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModels = read('CustomerReadModels.graphql')"}},{"result":{"nanos":260600,"millis":0.2606,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":7259300,"millis":7.2593,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":475800,"millis":0.4758,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModels)'}"}},{"result":{"nanos":316058700,"millis":316.0587,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:33:58.748 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 167\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query CustomerReadModels {\\r\\n    CustomerReadModels {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n02:33:59.062 response time in milliseconds: 313\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 535\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:33:59 GMT\n1 < x-amzn-RequestId: 8946b1f7-2b99-47a2-9395-baad55db6166\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZmtHcjjoEFgHw=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2f7-542249c61f6235aa451b5990;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b89214703c5c60a107a07c982809a482.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: ziQJeBhk1EWH3bo7f2YJJr8pDo0H_FKE3HJ0LnfGwTlJAnmEdaNveQ==\n{\"data\":{\"CustomerReadModels\":[{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"Cust0\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"#(first_customer.surname)\",\"name\":\"#(first_customer.name)\",\"id\":\"#(first_customer.id)\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"Cust1\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"Cust2\",\"userId\":\"admin@theagilemonkeys.com\"}]}}\n"},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":1087200,"millis":1.0872,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":971100,"millis":0.9711,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":2346800,"millis":2.3468,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModels"},"stepLog":"02:33:59.067 [print] [\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"Cust0\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"#(first_customer.surname)\",\n    \"name\": \"#(first_customer.name)\",\n    \"id\": \"#(first_customer.id)\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"Cust1\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"Cust2\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  }\n]\n \n"},{"result":{"nanos":805800,"millis":0.8058,"status":"passed"},"step":{"line":25,"prefix":"*","index":9,"text":"match response.data.CustomerReadModels contains {id: '#ignore', name: '#ignore', surname: '#ignore', photoUrl: '#ignore', userId: '#ignore' }"}}],"executorName":"main","line":6,"name":"List the customers","description":"","durationMillis":330.754,"startTime":1621730038736,"failed":false,"refId":"[1:6]","endTime":1621730039068,"exampleIndex":-1}],"name":"List all the customers created by users in the graphql API","passedCount":1}]},{"result":{"nanos":772000,"millis":0.772,"status":"passed"},"step":{"comments":["### Update customers","# Take the first customer of the above response to modify"],"line":66,"prefix":"*","index":19,"text":"def first_customer = listCustomers.response.data.CustomerReadModels[0]"}},{"result":{"nanos":506700,"millis":0.5067,"status":"passed"},"step":{"line":68,"prefix":"*","index":20,"text":"set first_customer.name = \"name changed\""}},{"result":{"nanos":434300,"millis":0.4343,"status":"passed"},"step":{"line":69,"prefix":"*","index":21,"text":"set first_customer.surname = \"surname changed\""}},{"result":{"nanos":392800,"millis":0.3928,"status":"passed"},"step":{"line":70,"prefix":"*","index":22,"text":"set first_customer.photoURL = \"newPhoto.jpg\""}},{"result":{"nanos":4312005600,"millis":4312.0056,"status":"passed"},"step":{"line":73,"prefix":"*","index":23,"text":"def updateCustomer = call read('SaveCustomer.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveCustomer.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4268.7129,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveCustomer","relativePath":"test\/graphql\/SaveCustomer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":101900,"millis":0.1019,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":746400,"millis":0.7464,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":2589200,"millis":2.5892,"status":"passed"},"step":{"endLine":22,"comments":["# The body of the graphql request is a JSON with the generated values"],"line":14,"prefix":"*","docString":"{ \n\t\"id\": \"#(first_customer.id)\", \n\t\"name\": \"#(first_customer.name)\", \n\t\"surname\": \"#(first_customer.surname)\",\n\t\"photo\": \"#(first_customer.photo)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":271700,"millis":0.2717,"status":"passed"},"step":{"line":24,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":448600,"millis":0.4486,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":438400,"millis":0.4384,"status":"passed"},"step":{"line":27,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":247852700,"millis":247.8527,"status":"passed"},"step":{"line":28,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:33:59.121 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 274\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"surname changed\",\"name\":\"name changed\",\"photo\":null,\"id\":\"Cust0\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n02:33:59.368 response time in milliseconds: 246\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 30\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:00 GMT\n1 < x-amzn-RequestId: a4b7cb7b-2f80-421c-a4b1-6daace873720\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZmwGcBjoEFejA=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2f7-51dd017e4e9ed02e7e3d2448;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c9966d06baf42da6ee92424751ed7202.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: gTOATU6Hw9RxT2qGlxjTK1oaL1SKXIq0Xddl5BR4p8B10XznoAQOag==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":29,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4015271800,"millis":4015.2718,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be saved before the next test"],"line":31,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":352600,"millis":0.3526,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":34,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":612100,"millis":0.6121,"status":"passed"},"step":{"comments":["# If the customer is saved, the response shouldn't contain a field \"error\""],"line":37,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Save a new Customer","description":"","durationMillis":4268.7129,"startTime":1621730039114,"failed":false,"refId":"[1:9]","endTime":1621730043384,"exampleIndex":-1}],"name":"Generate and save a new customer","passedCount":1}]},{"result":{"nanos":305200,"millis":0.3052,"status":"passed"},"step":{"endLine":83,"comments":["### List a customer by id","# Check if the customer was updated properly and it has the reference of the last user who modified"],"line":78,"prefix":"*","docString":"{\n   \"id\": \"#(first_customer.id)\" \n}","index":24,"text":"def id_Customer ="}},{"result":{"nanos":288764500,"millis":288.7645,"status":"passed"},"step":{"line":84,"prefix":"*","index":25,"text":"def listCustomerId = call read('CustomerReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModel.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":252.9338,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModel","relativePath":"test\/graphql\/CustomerReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":954300,"millis":0.9543,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModel = read('CustomerReadModel.graphql')"}},{"result":{"nanos":131700,"millis":0.1317,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":153700,"millis":0.1537,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":571200,"millis":0.5712,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModel)', variables: '#(id_Customer)'}"}},{"result":{"nanos":247196500,"millis":247.1965,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:03.424 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 211\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"Cust0\"},\"query\":\"query CustomerReadModel($id: ID!) {\\r\\n    CustomerReadModel(id: $id) {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n02:34:03.669 response time in milliseconds: 244\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 146\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:04 GMT\n1 < x-amzn-RequestId: 9c5a1ff8-0939-4208-aee7-c9784d4c0686\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZnbHAeDoEFdyQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2fc-1914767378de7a3951b22211;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 911151077fc74374130cb3f3f2d671e8.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: NVaI1butaUfruLcruJMhneK8FuPb5geXa1Rgq3qBYgbzGDTEzQXQJQ==\n{\"data\":{\"CustomerReadModel\":{\"photoUrl\":\"\",\"surname\":\"surname changed\",\"name\":\"name changed\",\"id\":\"Cust0\",\"userId\":\"admin@theagilemonkeys.com\"}}}\n"},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":450100,"millis":0.4501,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":619700,"millis":0.6197,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":2820700,"millis":2.8207,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModel"},"stepLog":"02:34:03.674 [print] {\n  \"photoUrl\": \"\",\n  \"surname\": \"surname changed\",\n  \"name\": \"name changed\",\n  \"id\": \"Cust0\",\n  \"userId\": \"admin@theagilemonkeys.com\"\n}\n \n"}],"executorName":"main","line":6,"name":"List a customer by id","description":"","durationMillis":252.9338,"startTime":1621730043421,"failed":false,"refId":"[1:6]","endTime":1621730043675,"exampleIndex":-1}],"name":"List a customer by Id of the graphql API","passedCount":1}]},{"result":{"nanos":2172400,"millis":2.1724,"status":"passed"},"step":{"comments":["###    * match listCustomerId.response.data.CustomerReadModel == {id: '#(first_customer.id)', name: '#(first_customer.name)', surname: '#(first_customer.surname)', photoUrl: '#(first_customer.photoURL)', userId: '#(adminDatas.username)' }","### Delete user","# Get the last user from the list obtained before 'listUsers' to delete"],"line":90,"prefix":"*","index":26,"text":"def numUsers = listUsers.response.data.UserReadModels.length - 1"}},{"result":{"nanos":527400,"millis":0.5274,"status":"passed"},"step":{"line":91,"prefix":"*","index":27,"text":"def userToDelete = listUsers.response.data.UserReadModels[numUsers]"}},{"result":{"nanos":656200,"millis":0.6562,"status":"passed"},"step":{"line":92,"prefix":"*","index":28,"text":"print userToDelete"},"stepLog":"02:34:03.698 [print] {\n  \"role\": \"User\",\n  \"id\": \"username2@test.com\"\n}\n \n"},{"result":{"nanos":323600,"millis":0.3236,"status":"passed"},"step":{"endLine":99,"line":94,"prefix":"*","docString":"{\n   \"username\": \"#(userToDelete.id)\"\n}","index":29,"text":"def usernameDelete ="}},{"result":{"nanos":4617435100,"millis":4617.4351,"status":"passed"},"step":{"line":100,"prefix":"*","index":30,"text":"def deleteUser = call read('DeleteUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/DeleteUser.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4579.4635,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.DeleteUser","relativePath":"test\/graphql\/DeleteUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":217400,"millis":0.2174,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":973100,"millis":0.9731,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def queryDeleteUser = read('DeleteUser.graphql')"}},{"result":{"nanos":189000,"millis":0.189,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":206200,"millis":0.2062,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":625400,"millis":0.6254,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(queryDeleteUser)',  variables: '#(usernameDelete)'  }"}},{"result":{"nanos":569724100,"millis":569.7241,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:03.717 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 151\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"username\":\"username2@test.com\"},\"query\":\"mutation DeleteUser($username: String) {\\r\\n    DeleteUser(input: {username: $username})\\r\\n}\"}\n\n02:34:04.284 response time in milliseconds: 566\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 28\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:05 GMT\n1 < x-amzn-RequestId: 7e318967-f771-4920-b5f4-32f79f555341\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZneGPhDoEFfGQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a2fc-60147e9d2e24ab46722dcc32;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 b2ff803e9122fd0c248b789f729b835e.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: A6otizeio870GwxkJKzBTthXrdiPEcBiL-d1weiocGgjj9LPOq5gBQ==\n{\"data\":{\"DeleteUser\":true}}\n"},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4007256500,"millis":4007.2565,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be delete before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":232400,"millis":0.2324,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Delete a user","description":"","durationMillis":4579.4635,"startTime":1621730043713,"failed":false,"refId":"[1:9]","endTime":1621730048293,"exampleIndex":-1}],"name":"Delete a given user","passedCount":1}]},{"result":{"nanos":236000,"millis":0.236,"status":"passed"},"step":{"line":101,"prefix":"*","index":31,"text":"match deleteUser.response.errors == '#notpresent'"}},{"result":{"nanos":766000,"millis":0.766,"status":"passed"},"step":{"endLine":110,"comments":["### List the user by id to check if it was properly delete"],"line":105,"prefix":"*","docString":"{\n\t\"id\": \"#(userToDelete.id)\"\n}","index":32,"text":"def id ="},"stepLog":"02:34:08.316 over-writing existing variable 'id' with new value: {\n\t\"id\": \"#(userToDelete.id)\"\n}\n"},{"result":{"nanos":288455800,"millis":288.4558,"status":"passed"},"step":{"line":111,"prefix":"*","index":33,"text":"def listUserDelete = call read('UserReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/UserReadModel.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":250.4939,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.UserReadModel","relativePath":"test\/graphql\/UserReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":941000,"millis":0.941,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryUserReadModel = read('UserReadModel.graphql')"}},{"result":{"nanos":115300,"millis":0.1153,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":178100,"millis":0.1781,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":699300,"millis":0.6993,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryUserReadModel)', variables: '#(id)'}"}},{"result":{"nanos":248257300,"millis":248.2573,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:08.337 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 159\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"username2@test.com\"},\"query\":\"query UserReadModel($id: ID!) {\\r\\n    UserReadModel(id: $id) {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n02:34:08.583 response time in milliseconds: 246\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 31\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:09 GMT\n1 < x-amzn-RequestId: 6456d2e7-3c41-4557-ba44-135d11f94a64\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZoNGYFjoEFz1g=\n1 < X-Amzn-Trace-Id: Root=1-60a9a301-6a9d14e70b192fba658fb8c4;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f8fe4f851984f096441277ce2c333733.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: 3xpZ26poFB9nHsNGcmwQsd08lSxe3Fnlaxsa1BoF0X8FCYOzahFAJg==\n{\"data\":{\"UserReadModel\":null}}\n"},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":270800,"millis":0.2708,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":6,"name":"List a user by id","description":"","durationMillis":250.4939,"startTime":1621730048333,"failed":false,"refId":"[1:6]","endTime":1621730048584,"exampleIndex":-1}],"name":"List a user by Id of the graphql API","passedCount":1}]},{"result":{"nanos":763500,"millis":0.7635,"status":"passed"},"step":{"line":112,"prefix":"*","index":34,"text":"match listUserDelete.response.data.UserReadModel != {id: '#(userToDelete.id)', role: '#(userToDelete.role)' }"}},{"result":{"nanos":525600,"millis":0.5256,"status":"passed"},"step":{"comments":["### Delete a customer","# Get the last customer from the list obtained before 'listCustomers' to delete"],"line":117,"prefix":"*","index":35,"text":"def numCustomers = listCustomers.response.data.CustomerReadModels.length - 1"}},{"result":{"nanos":490700,"millis":0.4907,"status":"passed"},"step":{"line":118,"prefix":"*","index":36,"text":"def customerToDelete = listCustomers.response.data.CustomerReadModels[numCustomers]"}},{"result":{"nanos":372000,"millis":0.372,"status":"passed"},"step":{"endLine":125,"line":120,"prefix":"*","docString":"{\n   \"id\": \"#(customerToDelete.id)\"\n}","index":37,"text":"def customerDelete ="}},{"result":{"nanos":4424050600,"millis":4424.0506,"status":"passed"},"step":{"line":126,"prefix":"*","index":38,"text":"def deleteCustomer = call read('DeleteCustomer.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/DeleteCustomer.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4365.7231,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.DeleteCustomer","relativePath":"test\/graphql\/DeleteCustomer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":115500,"millis":0.1155,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":929400,"millis":0.9294,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def queryDeleteCustomer = read('DeleteCustomer.graphql')"}},{"result":{"nanos":742500,"millis":0.7425,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":890700,"millis":0.8907,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":1582600,"millis":1.5826,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(queryDeleteCustomer)',  variables: '#(customerDelete)'  }"}},{"result":{"nanos":348385900,"millis":348.3859,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:08.647 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 123\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"Cust2\"},\"query\":\"mutation DeleteCustomer($id: ID) {\\r\\n    DeleteCustomer(input: {id: $id})\\r\\n} \\r\\n\"}\n\n02:34:08.994 response time in milliseconds: 346\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 32\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:09 GMT\n1 < x-amzn-RequestId: 173dd964-8e62-419d-80c5-bad70c12bf81\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZoQHqjjoEFhqg=\n1 < X-Amzn-Trace-Id: Root=1-60a9a301-7501e98840255dc50ef33d7d;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 911151077fc74374130cb3f3f2d671e8.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: xCkMEyeFbaDltsIbFo0fq4Wdxvb2y2ZEyqXylWGl3kHk2fDGTqaDfg==\n{\"data\":{\"DeleteCustomer\":true}}\n"},{"result":{"nanos":619700,"millis":0.6197,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4010499900,"millis":4010.4999,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be delete before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":1016500,"millis":1.0165,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":924400,"millis":0.9244,"status":"passed"},"step":{"comments":["# If the customer was delete, the response shouldn't contain a field \"error\""],"line":26,"prefix":"And","index":8,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Delete a customer","description":"","durationMillis":4365.7231,"startTime":1621730048641,"failed":false,"refId":"[1:9]","endTime":1621730053008,"exampleIndex":-1}],"name":"Delete a customer","passedCount":1}]},{"result":{"nanos":357500,"millis":0.3575,"status":"passed"},"step":{"comments":["### List the customer to check that it was properly delete"],"line":129,"prefix":"*","index":39,"text":"def id_Customer = customerDelete"},"stepLog":"02:34:13.032 over-writing existing variable 'id_Customer' with new value: customerDelete\n"},{"result":{"nanos":291689000,"millis":291.689,"status":"passed"},"step":{"line":130,"prefix":"*","index":40,"text":"def listCustomerDelete = call read('CustomerReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModel.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":235.8898,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImFkZDVlZDlkLTcyNjgtNDcwMy04YTJkLTEwYjI1MThiZDQyZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwMDQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzYwNCwiaWF0IjoxNjIxNzMwMDA0LCJqdGkiOiIwYzVmMWJlNy0yNWYyLTQxYjgtOTQ3My1lYjIyZjZkMDkzOGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.pSOF8cqO2PUIKZjt5fty_vNywr6lKYErbISKH-mwVOraNhUmey9YbziG_jCXcG3wbdxRBC1ncMG2md-IV2t-oM_1mlFCG-2kGZKvCSZHvDZu46xHPgNjlWfXGnPd2nkiXyNA3cWwEa5Jyosrukv00IxnUNGIj8vyDgCVjtGaUyAief5WAiD9ijyZXYxLSE_OAFYXYTN1y6LNSUtKEhhA2cyMAYYh2EqsvYNOvQuD5-GkLecAmqwUVMrFelfW3k-LQ44QcbfyEqEKIrMWg2KtsAmcId9Cyp4Gcy1ldXUqECAf_5KSROiAT_ifFjXpQWIDc_jbq6-lg0HkZn2Osjy4nA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.bNwrtC9kM-Zt41xbvemOC7TydG-W_IYfhRjcfHEjw-ucoqbU4sGAxsGEhr_LOyUdj5aS1wpMDF6IKL22R5dfLifDT01gxJYuJbhL2X2pTD8oS846MGmvo5HECvoN6EypjolFrmIdRMyOHTngGuFlrJh5aC09VxYr4Dxz_0SA-b9dtDas5rYuYtHOMgm3AWIiJpvCyq7JcRiGdJbKLMk7dw_44w8vGY1GF6h0n1434_MjLmOSoB7UJh8xH8zv8znRRurdk3SItBVYlLauwBvSUXbzXbuqL9AhFbDlQ7rda5jBajNrt19EK7JjoWxnlmrU4TJ5yTOPD0PCewmSYBs7xA.N5z9PxP8ieAI_x8u.JpWkF1rsz7fraaIWvbURUAE1yh6cGoPrz57f3xwswu4c9nqU0sjdKofoAdjUfAN3Zuo7mdc5zSPvtUevgPd6ycotq1EgL9T8zfCjQzCGFGwvmGpMOAyaPF-4PObVeT3UgjZ1X3sjGHnE48OE92mwNf_xTsR4L3QbVvVc21kr2FcAclyWF_NJx4RJ0H5HyfbRvhvm1_-q-5CeZhBmespHcPskvNrcMqBLLC3wGoMGR6iNTzpd3Tg7cRm4XbY067JUicyFAxeO37jlJCobOyEk2n52tJJsGr3ECYAUS5NzPd2wlva64ssjcokdbdFqX9mvUFAFrqhs0_4cgJqkHyQsLiVFa87np3lR1iXyW4urRszQeynRO3au_vzEADXALcsrRANQ_zyfQg7Pr7X_pXpTIvh-N19kiWgY5lewg27tTM0VLJTUs-a_YNPvgdV_wF5OTOU9XjS-ZXtR09P6Sv_JzN5cSt5W3SwOJv5qKOaGB8KfrH4K_QL3K9MoC88AT_-ByhYcF6sir0ruOxH7DK3hNTZtWRcUhzFJGntwfbC6AgD4wyqyIdfWofON1LdMhNHdx3OWfvYagVNShZc_aox8XZt8EjOdUd1DUB9CLAcu8d6p1JYOFiDoWac5spWWn5Ph3pjSgsRX2ZP_pr0Sfm7rM1Y7i_-UABvtbNKrd0M7brOJ5UK12pSaOvHp5EUjv_mAyn3GtVh7nGKELWpdjxXXxLyiMJQVtyAsLVeuMl3JUuvO0dzulhtyUJnKfBqBfp8QG4byqWqQ1GpDqVb_ZrPpRLkKk5w1fNvdomvGmqKfKCycK_09j5KcHq89ieVe8ouZiVh5Nq5RLkXWYMRqQ1XfLRLhj-9dhdE2r2O_NeCAvHCuyOQ-So0BG8u_N4QAuqpPB3G-gSgI7JxI8mebtrdq0OOm-mjo4Lmp-MEPLn33WhL3oKKympAOipAMYJB40sq7WGakeI9mDLJet6Z8kSfEw59zGSGNQzexHb49L_2VVlyXnpVtvVv4vD9HyroDhDmFleOmqHsf4VojP1N7-Af8p86ktq4THaQEjFxvrKnNlsUnLOTjbnS6hZC4tkATF3KEwVDcgSSLC0kPLiRnRNeKD-htw7HGba4_Skxezc3HpQy6oetEOAzUt9em7SpGoButawWf-Y4S4oWT6WMQDJWYMjF41AwoXUj_FargGCE81doN-6xMLbjMiJMTG5KNx2S6AfsOP6fwJk1_2Zmlf-rAd_INUhFKqZqi4oaKK2ClEcEM8YMX_g0TDYCL7qxpKz7mfMfNcklWTCVWwMwxEa-jyA89lA08bODhi9HTvIE-qqhNA809917x4layXlGlrmA.3RAoKliZJ-fyt2C_0StREg"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModel","relativePath":"test\/graphql\/CustomerReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":794600,"millis":0.7946,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModel = read('CustomerReadModel.graphql')"}},{"result":{"nanos":137500,"millis":0.1375,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":162800,"millis":0.1628,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":733300,"millis":0.7333,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModel)', variables: '#(id_Customer)'}"}},{"result":{"nanos":230987500,"millis":230.9875,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:13.064 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhZGQ1ZWQ5ZC03MjY4LTQ3MDMtOGEyZC0xMGIyNTE4YmQ0MmUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDAwNCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzYwNCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDAwNCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.AGq25enGBzYso9myWBVzTpk3407ZoNzL9rHImbLgxgeEd0t6zNosIILPy6HhIBiyvArElypxJ6emDfVElNXvngb2gKtvlJw6EetvrgzoORrJzQrYbjJG3ietr4dMoyF_mVzZh6iWlvW0aXwRQQ-9thDQ0IhRr133WUrQhVNVFvWhxl6qHAtO8TG0GD42vJQiKxv7xSGzowQXdgegK0aT_uCzDXcVRr0nNq95APZUlT_g4xVhvvE9Anb6nUrkFIVGtJ43Q82RXfqVsGbccCYBoqnX_uuUEGIjoc2kp6SSG7vQ_hLcvn_06wvUDL4VgerRRN581CGNA9TuPtZcoDCTPw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 211\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"Cust2\"},\"query\":\"query CustomerReadModel($id: ID!) {\\r\\n    CustomerReadModel(id: $id) {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n02:34:13.293 response time in milliseconds: 229\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 35\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:13 GMT\n1 < x-amzn-RequestId: 836eb8b0-fdf7-4b7b-abfd-74d3a19057ba\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZo8E-TDoEFefA=\n1 < X-Amzn-Trace-Id: Root=1-60a9a305-280812ca6fb5a846787f444a;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fe55d6b634c29e0dbde85630de5f2787.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: _QUOuJZIfk6lBoR9OCQzGqdEW2ygk8zwxPAkXbZ5MFgvisWs8OQ49Q==\n{\"data\":{\"CustomerReadModel\":null}}\n"},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":265500,"millis":0.2655,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":472200,"millis":0.4722,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":2285200,"millis":2.2852,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModel"},"stepLog":"02:34:13.297 [print] null \n"}],"executorName":"main","line":6,"name":"List a customer by id","description":"","durationMillis":235.8898,"startTime":1621730053061,"failed":false,"refId":"[1:6]","endTime":1621730053297,"exampleIndex":-1}],"name":"List a customer by Id of the graphql API","passedCount":1}]},{"result":{"nanos":597200,"millis":0.5972,"status":"passed"},"step":{"line":131,"prefix":"*","index":41,"text":"match listCustomerDelete.response.data.CusotmerReadModel == '#notpresent'"}}],"executorName":"main","line":6,"name":"Test if the API met the acceptance criteria for an admin user","description":"","durationMillis":50312.0935,"startTime":1621730003008,"failed":false,"refId":"[1:6]","endTime":1621730053325,"exampleIndex":-1}],"callDepth":1,"name":"Test the graphql API for admin and not admin users","description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":50312.0935,"passedCount":1}]}],"executorName":"main","line":6,"name":"Test if the API met the acceptance criteria for users admin","description":"","durationMillis":50371.0085,"startTime":1621730002844,"failed":false,"refId":"[1:6]","endTime":1621730053352,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":264100,"millis":0.2641,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"02:34:13.358 karate.env system property was: prod \n"},{"result":{"nanos":41206436900,"millis":41206.4369,"status":"passed"},"step":{"line":10,"prefix":"*","index":0,"text":"def testResults = call read('TestNotAdmin.feature')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:test\/graphql\/TestNotAdmin.feature","packageQualifiedName":"test.graphql.TestNotAdmin","loopIndex":-1,"relativePath":"test\/graphql\/TestNotAdmin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":906000,"millis":0.906,"status":"passed"},"step":{"comments":["# It is necessary to sign in the API as admin to create a new user","# Read the admin datas from a *.json file"],"line":9,"prefix":"*","index":0,"text":"def adminDatas = read('signinDatasUser.json')"}},{"result":{"nanos":344706800,"millis":344.7068,"status":"passed"},"step":{"comments":["### Call the feature to sign in the API with the JSON file that contains the admin's datas"],"line":12,"prefix":"*","index":1,"text":"def signIn = call read('signin.feature') adminDatas"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/signin.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":340.8068,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"test.graphql.signin","relativePath":"test\/graphql\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":874100,"millis":0.8741,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":804900,"millis":0.8049,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"02:34:13.370 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":293600,"millis":0.2936,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":153500,"millis":0.1535,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":335055300,"millis":335.0553,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:34:13.372 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n02:34:13.705 response time in milliseconds: 332\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:14 GMT\n1 < x-amzn-RequestId: c2b6d6a5-3c4b-4bc2-999a-ebeac4a9a73f\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZo-Gu5DoEFYnw=\n1 < X-Amzn-Trace-Id: Root=1-60a9a306-48b47fac3326d5036e9e338b\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 e5bf2c9645151e78d8b35d4b366f79f6.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: fanaj4Y5a4evwwTG8cKl8KdDOQ9ivN-OOI0dl7bVz4aD-YnU2DY24Q==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiNTA3MDI5ZS05MGRiLTQ2ZjktOGU1ZC05ODA4NDQyMGJmNmMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA1NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY1NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA1NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.i9AnB0hrNUeaCE2WaKK_4q2GUxu53LEapdn3hRE3Oc2IxZ3rSxOJP64YpvUjRzbRhNC9nDpe7_yDtCm0aAmKDnwUv4BtVjKdRA8QP48kkAoJdh4_3j3g6rB3_m5vo7bFvoL8B8ZE5Ze-ghm4ylpzvB6bf9D575BrjBJJP5HWKSvaglxvnma6FzaRImaptrbGNKioE--27xxwDhDv2Qq7dZgtfJXX5IlxGx2vCU4pvB0hLCTgY98axN4ZKb3SBGQQVrlwesWsCkhZJl-0Lg4PFGIjsXIPV3meCDPMuCJ7V-Gzq1oWX_sLj3NHkwHvPRsaA_lvMrIMwwE4D8D7pmbqUQ\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImI1MDcwMjllLTkwZGItNDZmOS04ZTVkLTk4MDg0NDIwYmY2YyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1NCwiaWF0IjoxNjIxNzMwMDU0LCJqdGkiOiIzZjJhYjFjYS0xNjE0LTRiNDYtOTg4OS02NDZkYmI4MDVjM2QiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.Zk8ob44zfaU-FJ8O6ppxBwQrzTtDwmlxxyQkzKzkgYbMBjHgPSRC5B85kwjnbYWCniGrFLHkGArKUqJRJAloY63ikoI5djEvvchvfVf4I0pgxhQCU3WqD1GBH6NejG0GzgWAwVcem95ScIycVp-jE10X-Mrnu6KkORLAdWIeLJvbGwn3SGYfQjzo6XkD1tssTBOnKpFknaIT0xle9_fPWDqqx7fszftzFrUUVzoD5KSJtYWf61JSQ7Y52gEuZvNzr19Cq-Qa5be2bcvwqDwAruBR3_kc9VA5MafPt9dFLSfaXki8xVzsCkw1YhKjM_hqmKVA3SkZB25IbeZzCiP5xA\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.A_iZ28BlUqP_pwZvoidfg3WJBHtAr6WjGsVRycZq8Yr4_OlBQ5dilQCsqWxEnOZzs0QxCxEqXrIYklFXeNyX5ltkPK8va7_XyiMqOZUoxcnSGklaD7nUspuhVSlWtpbQmbADsGVHTP2mkZ-7M9HwHMYol0TFVTsIi5T-BKBtG2gwMEO9S7wwP2o2Yw5riU15nm5t1ibpfwu5iuZWGvllNhYlL45KRSyRna9yPs1UpLxpB7vaWk3u_RvcQW7KnCQzLO7zkbFEBzgIiTUGgcC62W7HY7EJH8nZ9I9Ya1ZAVqsr3O_RdV9H_q04s7xhv-ApVLZQGGLp50IxdIio-0_F7w.fAOkzus9x26yQju-.ek1ccuVExa8OIICEN8CfNQze6TrDlVswzswpjwWJ55YuQCfvrtcowJdwTEumBB-GcWYWzud1w3xjpdHnUgRyxvcEqBf_zeifodnrALmMxDDDM-iYHpHqHbwlfk7n8acf72I74WDw0c4-Y90kcWjZQIa_mnEEGH7yZvaG-hQssF-UiUsItbb0p9dljn3_uwBhBM0QFPQi3DTWtp9rHOgeiN04eHcZsfeMEbfzhk-K0TY5b2i3eIHBBnsjUanMC_etbjCluBxSRA5vEgrHlm78sfu6urKsB169BQ5JC_2LXjobkUUsIdKCaMp3Ho6ThPqL51LXPkWALm-9Bi54lVSXtvIGmcZUmTiiEyZEb8d6iBNIyE8pvObOik5WpPmRusAHm7CpktzA8zNdq0ukOLBATYkV98isah5Brjzq3j2GAuQMuEJ9iIuYpUMrp_EUpHiGL7IuauMp-tgH4anGerxXBzpokwdwS8GEHw-ltYQJToINAmAas6wRITqJAEPPzXO-2IapQc3UFM1s6nryWMeiR0gdNb5BEjda21JC2nAwDctnCrRd0YMIlgICZUqZ49qAt4dugGMcZZu5CaiF5DrY3WI_8i3rhF8r0Z72weynZUGFQT63aAAIlcMfd9DA1lCBAFjxc6pg8xMk6BYa4HmB4tsyhzX2tK5eYjddtLgbNr5z49NB_gvZX2W6bkA42XeOqoCMspOYCpEIW61ISWGxm0I6AfRCsiNurAr07LcO-w0lW7hPNuQn9tezSUuag_byH5RdFzGQTRviWW0GKQLYqs5GDJNa_VZlP7ksebfthk6Kh_jNepbCXi8FNbLKFyIGA0Fu10cXJUObI4XAWhhaXiXvesylqkrdaO7IuWRg5oksF8B_haghaweS_YVO_8B-FgZ64ks9hoYu6fhQDCvzxaxIa3OMiZeB-iwOhqXW0PFOEceNDBAZEunVou-qaBc9j-oWPt5ffWRGWtqBFp8i9gVkQ7z0fkTpHbf8K9QU6LXeHyTYimN_l33T_9AfhemOrA41Dd6l4k_XjmT2yGBLVJaQR3rwLzPPyugeSZD98GNlp49KZ_re_kZEIvnlq35d8d9MovyTn7sHEukACdOilN09D0nltTLx6Rhe6rdFoUIfHp7ivUGxmOEdZSJihpAc2BAeeNeSgQyakcImafwC4SnSxG2aYWx-gvAZfqHkGOozKs0_an2y20QyWIYs2N0A-ZqYmeLqqUZGCIvZvoVly1TWhQiM13RZg3mjAC2QFU4wa3IASv5m-mUiAKRwu5Q7eDdp52HRFG5xkReIp0Ts-00-CmTbErDePiYZViILFpyRH8oX4TS2hfXunD4y1cs.WS094TXQYuRsotTJg64NfQ\"}\n"},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1666600,"millis":1.6666,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1927800,"millis":1.9278,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"02:34:13.710 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiNTA3MDI5ZS05MGRiLTQ2ZjktOGU1ZC05ODA4NDQyMGJmNmMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA1NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY1NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA1NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.i9AnB0hrNUeaCE2WaKK_4q2GUxu53LEapdn3hRE3Oc2IxZ3rSxOJP64YpvUjRzbRhNC9nDpe7_yDtCm0aAmKDnwUv4BtVjKdRA8QP48kkAoJdh4_3j3g6rB3_m5vo7bFvoL8B8ZE5Ze-ghm4ylpzvB6bf9D575BrjBJJP5HWKSvaglxvnma6FzaRImaptrbGNKioE--27xxwDhDv2Qq7dZgtfJXX5IlxGx2vCU4pvB0hLCTgY98axN4ZKb3SBGQQVrlwesWsCkhZJl-0Lg4PFGIjsXIPV3meCDPMuCJ7V-Gzq1oWX_sLj3NHkwHvPRsaA_lvMrIMwwE4D8D7pmbqUQ \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":340.8068,"startTime":1621730053368,"failed":false,"refId":"[1:6]","endTime":1621730053710,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":3198100,"millis":3.1981,"status":"passed"},"step":{"line":13,"prefix":"*","index":2,"text":"print signIn.response"},"stepLog":"02:34:13.713 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiNTA3MDI5ZS05MGRiLTQ2ZjktOGU1ZC05ODA4NDQyMGJmNmMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA1NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY1NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA1NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.i9AnB0hrNUeaCE2WaKK_4q2GUxu53LEapdn3hRE3Oc2IxZ3rSxOJP64YpvUjRzbRhNC9nDpe7_yDtCm0aAmKDnwUv4BtVjKdRA8QP48kkAoJdh4_3j3g6rB3_m5vo7bFvoL8B8ZE5Ze-ghm4ylpzvB6bf9D575BrjBJJP5HWKSvaglxvnma6FzaRImaptrbGNKioE--27xxwDhDv2Qq7dZgtfJXX5IlxGx2vCU4pvB0hLCTgY98axN4ZKb3SBGQQVrlwesWsCkhZJl-0Lg4PFGIjsXIPV3meCDPMuCJ7V-Gzq1oWX_sLj3NHkwHvPRsaA_lvMrIMwwE4D8D7pmbqUQ\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImI1MDcwMjllLTkwZGItNDZmOS04ZTVkLTk4MDg0NDIwYmY2YyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1NCwiaWF0IjoxNjIxNzMwMDU0LCJqdGkiOiIzZjJhYjFjYS0xNjE0LTRiNDYtOTg4OS02NDZkYmI4MDVjM2QiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.Zk8ob44zfaU-FJ8O6ppxBwQrzTtDwmlxxyQkzKzkgYbMBjHgPSRC5B85kwjnbYWCniGrFLHkGArKUqJRJAloY63ikoI5djEvvchvfVf4I0pgxhQCU3WqD1GBH6NejG0GzgWAwVcem95ScIycVp-jE10X-Mrnu6KkORLAdWIeLJvbGwn3SGYfQjzo6XkD1tssTBOnKpFknaIT0xle9_fPWDqqx7fszftzFrUUVzoD5KSJtYWf61JSQ7Y52gEuZvNzr19Cq-Qa5be2bcvwqDwAruBR3_kc9VA5MafPt9dFLSfaXki8xVzsCkw1YhKjM_hqmKVA3SkZB25IbeZzCiP5xA\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.A_iZ28BlUqP_pwZvoidfg3WJBHtAr6WjGsVRycZq8Yr4_OlBQ5dilQCsqWxEnOZzs0QxCxEqXrIYklFXeNyX5ltkPK8va7_XyiMqOZUoxcnSGklaD7nUspuhVSlWtpbQmbADsGVHTP2mkZ-7M9HwHMYol0TFVTsIi5T-BKBtG2gwMEO9S7wwP2o2Yw5riU15nm5t1ibpfwu5iuZWGvllNhYlL45KRSyRna9yPs1UpLxpB7vaWk3u_RvcQW7KnCQzLO7zkbFEBzgIiTUGgcC62W7HY7EJH8nZ9I9Ya1ZAVqsr3O_RdV9H_q04s7xhv-ApVLZQGGLp50IxdIio-0_F7w.fAOkzus9x26yQju-.ek1ccuVExa8OIICEN8CfNQze6TrDlVswzswpjwWJ55YuQCfvrtcowJdwTEumBB-GcWYWzud1w3xjpdHnUgRyxvcEqBf_zeifodnrALmMxDDDM-iYHpHqHbwlfk7n8acf72I74WDw0c4-Y90kcWjZQIa_mnEEGH7yZvaG-hQssF-UiUsItbb0p9dljn3_uwBhBM0QFPQi3DTWtp9rHOgeiN04eHcZsfeMEbfzhk-K0TY5b2i3eIHBBnsjUanMC_etbjCluBxSRA5vEgrHlm78sfu6urKsB169BQ5JC_2LXjobkUUsIdKCaMp3Ho6ThPqL51LXPkWALm-9Bi54lVSXtvIGmcZUmTiiEyZEb8d6iBNIyE8pvObOik5WpPmRusAHm7CpktzA8zNdq0ukOLBATYkV98isah5Brjzq3j2GAuQMuEJ9iIuYpUMrp_EUpHiGL7IuauMp-tgH4anGerxXBzpokwdwS8GEHw-ltYQJToINAmAas6wRITqJAEPPzXO-2IapQc3UFM1s6nryWMeiR0gdNb5BEjda21JC2nAwDctnCrRd0YMIlgICZUqZ49qAt4dugGMcZZu5CaiF5DrY3WI_8i3rhF8r0Z72weynZUGFQT63aAAIlcMfd9DA1lCBAFjxc6pg8xMk6BYa4HmB4tsyhzX2tK5eYjddtLgbNr5z49NB_gvZX2W6bkA42XeOqoCMspOYCpEIW61ISWGxm0I6AfRCsiNurAr07LcO-w0lW7hPNuQn9tezSUuag_byH5RdFzGQTRviWW0GKQLYqs5GDJNa_VZlP7ksebfthk6Kh_jNepbCXi8FNbLKFyIGA0Fu10cXJUObI4XAWhhaXiXvesylqkrdaO7IuWRg5oksF8B_haghaweS_YVO_8B-FgZ64ks9hoYu6fhQDCvzxaxIa3OMiZeB-iwOhqXW0PFOEceNDBAZEunVou-qaBc9j-oWPt5ffWRGWtqBFp8i9gVkQ7z0fkTpHbf8K9QU6LXeHyTYimN_l33T_9AfhemOrA41Dd6l4k_XjmT2yGBLVJaQR3rwLzPPyugeSZD98GNlp49KZ_re_kZEIvnlq35d8d9MovyTn7sHEukACdOilN09D0nltTLx6Rhe6rdFoUIfHp7ivUGxmOEdZSJihpAc2BAeeNeSgQyakcImafwC4SnSxG2aYWx-gvAZfqHkGOozKs0_an2y20QyWIYs2N0A-ZqYmeLqqUZGCIvZvoVly1TWhQiM13RZg3mjAC2QFU4wa3IASv5m-mUiAKRwu5Q7eDdp52HRFG5xkReIp0Ts-00-CmTbErDePiYZViILFpyRH8oX4TS2hfXunD4y1cs.WS094TXQYuRsotTJg64NfQ\"\n}\n \n"},{"result":{"nanos":826200,"millis":0.8262,"status":"passed"},"step":{"comments":["# The token for the admin user is the input parameter for the callable feature where are defined the steps of the tests"],"line":15,"prefix":"*","index":3,"text":"def userToken = signIn.response"}},{"result":{"nanos":726900,"millis":0.7269,"status":"passed"},"step":{"endLine":26,"comments":["### Create a new user different from admin to sign in the API","# The body of the graphql request is a JSON with the generated values"],"line":19,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password_1\", \n\t\"role\": \"user\"\n}","index":4,"text":"def newUser ="}},{"result":{"nanos":5124615900,"millis":5124.6159,"status":"passed"},"step":{"line":28,"prefix":"*","index":5,"text":"def saveUser = call read('SaveUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUser.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":5119.4523,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiNTA3MDI5ZS05MGRiLTQ2ZjktOGU1ZC05ODA4NDQyMGJmNmMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA1NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY1NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA1NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.i9AnB0hrNUeaCE2WaKK_4q2GUxu53LEapdn3hRE3Oc2IxZ3rSxOJP64YpvUjRzbRhNC9nDpe7_yDtCm0aAmKDnwUv4BtVjKdRA8QP48kkAoJdh4_3j3g6rB3_m5vo7bFvoL8B8ZE5Ze-ghm4ylpzvB6bf9D575BrjBJJP5HWKSvaglxvnma6FzaRImaptrbGNKioE--27xxwDhDv2Qq7dZgtfJXX5IlxGx2vCU4pvB0hLCTgY98axN4ZKb3SBGQQVrlwesWsCkhZJl-0Lg4PFGIjsXIPV3meCDPMuCJ7V-Gzq1oWX_sLj3NHkwHvPRsaA_lvMrIMwwE4D8D7pmbqUQ","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImI1MDcwMjllLTkwZGItNDZmOS04ZTVkLTk4MDg0NDIwYmY2YyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1NCwiaWF0IjoxNjIxNzMwMDU0LCJqdGkiOiIzZjJhYjFjYS0xNjE0LTRiNDYtOTg4OS02NDZkYmI4MDVjM2QiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.Zk8ob44zfaU-FJ8O6ppxBwQrzTtDwmlxxyQkzKzkgYbMBjHgPSRC5B85kwjnbYWCniGrFLHkGArKUqJRJAloY63ikoI5djEvvchvfVf4I0pgxhQCU3WqD1GBH6NejG0GzgWAwVcem95ScIycVp-jE10X-Mrnu6KkORLAdWIeLJvbGwn3SGYfQjzo6XkD1tssTBOnKpFknaIT0xle9_fPWDqqx7fszftzFrUUVzoD5KSJtYWf61JSQ7Y52gEuZvNzr19Cq-Qa5be2bcvwqDwAruBR3_kc9VA5MafPt9dFLSfaXki8xVzsCkw1YhKjM_hqmKVA3SkZB25IbeZzCiP5xA","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.A_iZ28BlUqP_pwZvoidfg3WJBHtAr6WjGsVRycZq8Yr4_OlBQ5dilQCsqWxEnOZzs0QxCxEqXrIYklFXeNyX5ltkPK8va7_XyiMqOZUoxcnSGklaD7nUspuhVSlWtpbQmbADsGVHTP2mkZ-7M9HwHMYol0TFVTsIi5T-BKBtG2gwMEO9S7wwP2o2Yw5riU15nm5t1ibpfwu5iuZWGvllNhYlL45KRSyRna9yPs1UpLxpB7vaWk3u_RvcQW7KnCQzLO7zkbFEBzgIiTUGgcC62W7HY7EJH8nZ9I9Ya1ZAVqsr3O_RdV9H_q04s7xhv-ApVLZQGGLp50IxdIio-0_F7w.fAOkzus9x26yQju-.ek1ccuVExa8OIICEN8CfNQze6TrDlVswzswpjwWJ55YuQCfvrtcowJdwTEumBB-GcWYWzud1w3xjpdHnUgRyxvcEqBf_zeifodnrALmMxDDDM-iYHpHqHbwlfk7n8acf72I74WDw0c4-Y90kcWjZQIa_mnEEGH7yZvaG-hQssF-UiUsItbb0p9dljn3_uwBhBM0QFPQi3DTWtp9rHOgeiN04eHcZsfeMEbfzhk-K0TY5b2i3eIHBBnsjUanMC_etbjCluBxSRA5vEgrHlm78sfu6urKsB169BQ5JC_2LXjobkUUsIdKCaMp3Ho6ThPqL51LXPkWALm-9Bi54lVSXtvIGmcZUmTiiEyZEb8d6iBNIyE8pvObOik5WpPmRusAHm7CpktzA8zNdq0ukOLBATYkV98isah5Brjzq3j2GAuQMuEJ9iIuYpUMrp_EUpHiGL7IuauMp-tgH4anGerxXBzpokwdwS8GEHw-ltYQJToINAmAas6wRITqJAEPPzXO-2IapQc3UFM1s6nryWMeiR0gdNb5BEjda21JC2nAwDctnCrRd0YMIlgICZUqZ49qAt4dugGMcZZu5CaiF5DrY3WI_8i3rhF8r0Z72weynZUGFQT63aAAIlcMfd9DA1lCBAFjxc6pg8xMk6BYa4HmB4tsyhzX2tK5eYjddtLgbNr5z49NB_gvZX2W6bkA42XeOqoCMspOYCpEIW61ISWGxm0I6AfRCsiNurAr07LcO-w0lW7hPNuQn9tezSUuag_byH5RdFzGQTRviWW0GKQLYqs5GDJNa_VZlP7ksebfthk6Kh_jNepbCXi8FNbLKFyIGA0Fu10cXJUObI4XAWhhaXiXvesylqkrdaO7IuWRg5oksF8B_haghaweS_YVO_8B-FgZ64ks9hoYu6fhQDCvzxaxIa3OMiZeB-iwOhqXW0PFOEceNDBAZEunVou-qaBc9j-oWPt5ffWRGWtqBFp8i9gVkQ7z0fkTpHbf8K9QU6LXeHyTYimN_l33T_9AfhemOrA41Dd6l4k_XjmT2yGBLVJaQR3rwLzPPyugeSZD98GNlp49KZ_re_kZEIvnlq35d8d9MovyTn7sHEukACdOilN09D0nltTLx6Rhe6rdFoUIfHp7ivUGxmOEdZSJihpAc2BAeeNeSgQyakcImafwC4SnSxG2aYWx-gvAZfqHkGOozKs0_an2y20QyWIYs2N0A-ZqYmeLqqUZGCIvZvoVly1TWhQiM13RZg3mjAC2QFU4wa3IASv5m-mUiAKRwu5Q7eDdp52HRFG5xkReIp0Ts-00-CmTbErDePiYZViILFpyRH8oX4TS2hfXunD4y1cs.WS094TXQYuRsotTJg64NfQ"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUser","relativePath":"test\/graphql\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":122100,"millis":0.1221,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":928100,"millis":0.9281,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":123600,"millis":0.1236,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":189600,"millis":0.1896,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":640700,"millis":0.6407,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":1109091400,"millis":1109.0914,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:13.722 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJiNTA3MDI5ZS05MGRiLTQ2ZjktOGU1ZC05ODA4NDQyMGJmNmMiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA1NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY1NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA1NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.i9AnB0hrNUeaCE2WaKK_4q2GUxu53LEapdn3hRE3Oc2IxZ3rSxOJP64YpvUjRzbRhNC9nDpe7_yDtCm0aAmKDnwUv4BtVjKdRA8QP48kkAoJdh4_3j3g6rB3_m5vo7bFvoL8B8ZE5Ze-ghm4ylpzvB6bf9D575BrjBJJP5HWKSvaglxvnma6FzaRImaptrbGNKioE--27xxwDhDv2Qq7dZgtfJXX5IlxGx2vCU4pvB0hLCTgY98axN4ZKb3SBGQQVrlwesWsCkhZJl-0Lg4PFGIjsXIPV3meCDPMuCJ7V-Gzq1oWX_sLj3NHkwHvPRsaA_lvMrIMwwE4D8D7pmbqUQ\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 257\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"user\",\"username\":\"userNotAdmin@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n02:34:14.829 response time in milliseconds: 1106\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 26\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:15 GMT\n1 < x-amzn-RequestId: 990112df-1ad5-4503-91be-871929a45fb7\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZpDGj_joEFupQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a306-1cd56ab724137ff90a99ac59;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 4ddf42f206fdf10afe67b89baac28c46.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: cvwSNzVYl0rvfYM9bCgdOP4irXM0YsnyPoP7WfUmb-df5cnlKFo5QA==\n{\"data\":{\"SaveUser\":true}}\n"},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4007585000,"millis":4007.585,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":748900,"millis":0.7489,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Save a new User","description":"","durationMillis":5119.4523,"startTime":1621730053719,"failed":false,"refId":"[1:9]","endTime":1621730058839,"exampleIndex":-1}],"name":"Generate a new user","passedCount":1}]},{"result":{"nanos":483900,"millis":0.4839,"status":"passed"},"step":{"line":29,"prefix":"*","index":6,"text":"match saveUser.response.errors == '#notpresent'"}},{"result":{"nanos":2085800,"millis":2.0858,"status":"passed"},"step":{"endLine":40,"comments":["### Sign now with the new user to get a new authorization token","# To call the feature it is necessary to over write the sign in values with the new user's"],"line":33,"prefix":"*","docString":"{\n     \"clientId\": \"#(adminDatas.clientId)\",\n     \"username\": \"#(newUser.username)\",\n     \"password\": \"#(newUser.password)\" \n}","index":7,"text":"def newUserSign ="}},{"result":{"nanos":398129600,"millis":398.1296,"status":"passed"},"step":{"line":41,"prefix":"*","index":8,"text":"def signIn = call read('signin.feature') newUserSign"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/signin.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":392.948,"callArg":{"password":"Password_1","clientId":"799hogucm363v55l7dk2n1l5u0","username":"userNotAdmin@test.com"},"failedCount":0,"packageQualifiedName":"test.graphql.signin","relativePath":"test\/graphql\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"02:34:18.842 over-writing existing variable 'signIn' with new value: call read('signin.feature') newUserSign\n"},{"result":{"nanos":175000,"millis":0.175,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":379500,"millis":0.3795,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"02:34:18.846 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"userNotAdmin@test.com\",\n  \"password\": \"Password_1\"\n}\n \n"},{"result":{"nanos":63800,"millis":0.0638,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":388714100,"millis":388.7141,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:34:18.847 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 100\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Password_1\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"userNotAdmin@test.com\"}\n\n02:34:19.233 response time in milliseconds: 385\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4003\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:19 GMT\n1 < x-amzn-RequestId: c8354040-cdfc-45af-bac8-c3305035bd86\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZp2GAQDoEFX6Q=\n1 < X-Amzn-Trace-Id: Root=1-60a9a30b-3f086aa850c7fa295d3d6d0e\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 c5c852ebeabe49b08625d425153869fe.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: jlnJm75DrtyjTWJ6b_pwjjfrUW0Pr6VcPFTs4SpvqeiQ4ZyK_iwNmQ==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w\"}\n"},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1591400,"millis":1.5914,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1978500,"millis":1.9785,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"02:34:19.238 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":392.948,"startTime":1621730058845,"failed":false,"refId":"[1:6]","endTime":1621730059238,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":2587900,"millis":2.5879,"status":"passed"},"step":{"line":42,"prefix":"*","index":9,"text":"print signIn.response"},"stepLog":"02:34:19.242 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w\"\n}\n \n"},{"result":{"nanos":1823100,"millis":1.8231,"status":"passed"},"step":{"line":43,"prefix":"*","index":10,"text":"def userToken = signIn.response"},"stepLog":"02:34:19.243 over-writing existing variable 'userToken' with new value: signIn.response\n"},{"result":{"nanos":753100,"millis":0.7531,"status":"passed"},"step":{"comments":["# The token for the admin user is the input parameter for the callable feature where are defined the steps of the tests"],"line":46,"prefix":"*","index":11,"text":"def userToken = signIn.response"},"stepLog":"02:34:19.245 over-writing existing variable 'userToken' with new value: signIn.response\n"},{"result":{"nanos":915500,"millis":0.9155,"status":"passed"},"step":{"comments":["### Create new customers","# It is necessary to define the userId as the username of the user who create the customers to be read as id in the feature"],"line":51,"prefix":"*","index":12,"text":"def id = adminDatas.username"}},{"result":{"nanos":12806036500,"millis":12806.0365,"status":"passed"},"step":{"line":52,"prefix":"*","index":13,"text":"def saveCustomers = call read('SaveCustomersNotAdmin.feature') userToken"},"stepLog":"02:34:32.051 dynamic expression complete at index: 3, not map-like: [type: NULL, value: null]\n","callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveCustomersNotAdmin.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":12787.6183,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveCustomersNotAdmin","relativePath":"test\/graphql\/SaveCustomersNotAdmin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":648500,"millis":0.6485,"status":"passed"},"step":{"comments":["# Define a function to generate Customers with a different name than the customers created by the admin"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorCustomer = function(i){ if (i == 3) return null; return { idCust: 'CustNotAdmin' + i, nameCust: 'Cutomer Name', surnameCust: 'Customer Surname', photoCust: 'photo.jpg' } }"}},{"result":{"nanos":672000,"millis":0.672,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":660900,"millis":0.6609,"status":"passed"},"step":{"endLine":25,"line":17,"prefix":"*","docString":"{ \n\t\"id\": \"#(idCust)\", \n\t\"name\": \"#(nameCust)\", \n\t\"surname\": \"#(surnameCust)\",\n\t\"photo\": \"#(photoCust)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":168600,"millis":0.1686,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":343300,"millis":0.3433,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":385000,"millis":0.385,"status":"passed"},"step":{"line":30,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":184729700,"millis":184.7297,"status":"passed"},"step":{"line":31,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:34:19.260 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 290\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"photo\":\"photo.jpg\",\"id\":\"CustNotAdmin0\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n02:34:19.443 response time in milliseconds: 182\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 30\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:20 GMT\n1 < x-amzn-RequestId: 1474e1e8-34db-49e8-b230-0812ff6f715f\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZp6H6zjoEFcHw=\n1 < X-Amzn-Trace-Id: Root=1-60a9a30c-64f8c1950e1b39064a5ec67b;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 1c301b860f1012db2b746c01d3e8617f.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: IsbH_sW8e-rYcnzvf1CL7CrDRulHpk1UlkbPQWo2MWVFMw2P4nOyMg==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":32,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4014568100,"millis":4014.5681,"status":"passed"},"step":{"line":34,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":1036500,"millis":1.0365,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":856000,"millis":0.856,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"line":42,"description":"","durationMillis":4204.1751,"failed":false,"executorName":"main","name":"Save a new Customer","startTime":1621730059256,"refId":"[1.1:42]","endTime":1621730063461,"exampleData":{"idCust":"CustNotAdmin0","nameCust":"Cutomer Name","surnameCust":"Customer Surname","photoCust":"photo.jpg"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":648500,"millis":0.6485,"status":"passed"},"step":{"comments":["# Define a function to generate Customers with a different name than the customers created by the admin"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorCustomer = function(i){ if (i == 3) return null; return { idCust: 'CustNotAdmin' + i, nameCust: 'Cutomer Name', surnameCust: 'Customer Surname', photoCust: 'photo.jpg' } }"}},{"result":{"nanos":320000,"millis":0.32,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":124200,"millis":0.1242,"status":"passed"},"step":{"endLine":25,"line":17,"prefix":"*","docString":"{ \n\t\"id\": \"#(idCust)\", \n\t\"name\": \"#(nameCust)\", \n\t\"surname\": \"#(surnameCust)\",\n\t\"photo\": \"#(photoCust)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":96200,"millis":0.0962,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"line":30,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":276945500,"millis":276.9455,"status":"passed"},"step":{"line":31,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:34:23.465 request:\n2 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n2 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 290\n2 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n2 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"photo\":\"photo.jpg\",\"id\":\"CustNotAdmin1\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n02:34:23.740 response time in milliseconds: 275\n2 < 200\n2 < Content-Type: application\/json\n2 < Content-Length: 30\n2 < Connection: keep-alive\n2 < Date: Sun, 23 May 2021 00:34:24 GMT\n2 < x-amzn-RequestId: 4e7d8f9a-17e8-4f9e-a2b2-9d6e224ccff1\n2 < Access-Control-Allow-Origin: *\n2 < x-amz-apigw-id: fwZqkF5njoEFt5w=\n2 < X-Amzn-Trace-Id: Root=1-60a9a310-4da6222c2d5d66ed32b0dbfe;Sampled=0\n2 < X-Cache: Miss from cloudfront\n2 < Via: 1.1 09e594de40cb3eb83a4bc581fa48d9e2.cloudfront.net (CloudFront)\n2 < X-Amz-Cf-Pop: MAD51-C2\n2 < X-Amz-Cf-Id: gbPHMQQD2_wgwfDHQom966nGenHcJnG5nWb_50XIOGeE84Ec73H9uQ==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":32,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4010966200,"millis":4010.9662,"status":"passed"},"step":{"line":34,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":176700,"millis":0.1767,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":431300,"millis":0.4313,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"line":42,"description":"","durationMillis":4289.936,"failed":false,"executorName":"main","name":"Save a new Customer","startTime":1621730063463,"refId":"[1.2:42]","endTime":1621730067753,"exampleData":{"idCust":"CustNotAdmin1","nameCust":"Cutomer Name","surnameCust":"Customer Surname","photoCust":"photo.jpg"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":648500,"millis":0.6485,"status":"passed"},"step":{"comments":["# Define a function to generate Customers with a different name than the customers created by the admin"],"background":true,"line":10,"prefix":"*","index":2,"text":"def generatorCustomer = function(i){ if (i == 3) return null; return { idCust: 'CustNotAdmin' + i, nameCust: 'Cutomer Name', surnameCust: 'Customer Surname', photoCust: 'photo.jpg' } }"}},{"result":{"nanos":273800,"millis":0.2738,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":124400,"millis":0.1244,"status":"passed"},"step":{"endLine":25,"line":17,"prefix":"*","docString":"{ \n\t\"id\": \"#(idCust)\", \n\t\"name\": \"#(nameCust)\", \n\t\"surname\": \"#(surnameCust)\",\n\t\"photo\": \"#(photoCust)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":76800,"millis":0.0768,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":30,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":281558900,"millis":281.5589,"status":"passed"},"step":{"line":31,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:34:27.759 request:\n3 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n3 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n3 > Content-Type: application\/json; charset=UTF-8\n3 > Content-Length: 290\n3 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n3 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"photo\":\"photo.jpg\",\"id\":\"CustNotAdmin2\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n02:34:28.039 response time in milliseconds: 280\n3 < 200\n3 < Content-Type: application\/json\n3 < Content-Length: 30\n3 < Connection: keep-alive\n3 < Date: Sun, 23 May 2021 00:34:28 GMT\n3 < x-amzn-RequestId: b01bf416-4489-483f-83ff-7c7589a11938\n3 < Access-Control-Allow-Origin: *\n3 < x-amz-apigw-id: fwZrPEz0joEFVLg=\n3 < X-Amzn-Trace-Id: Root=1-60a9a314-51c0355658591a540ab0d9fc;Sampled=0\n3 < X-Cache: Miss from cloudfront\n3 < Via: 1.1 09a2315feedfb8ccf5e3835ff7abd08a.cloudfront.net (CloudFront)\n3 < X-Amz-Cf-Pop: MAD51-C2\n3 < X-Amz-Cf-Id: 4TqRkUYT6F2V_Q_SGlrJhJsd6FJ2f8-vDDVdpP_Ox13RJ2yBY1k-cw==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":32,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4009913200,"millis":4009.9132,"status":"passed"},"step":{"line":34,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":206800,"millis":0.2068,"status":"passed"},"step":{"line":37,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":486400,"millis":0.4864,"status":"passed"},"step":{"line":40,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"line":42,"description":"","durationMillis":4293.5072,"failed":false,"executorName":"main","name":"Save a new Customer","startTime":1621730067758,"refId":"[1.3:42]","endTime":1621730072051,"exampleData":{"idCust":"CustNotAdmin2","nameCust":"Cutomer Name","surnameCust":"Customer Surname","photoCust":"photo.jpg"},"exampleIndex":2}],"name":"Generate and save new customers by an user not admin","passedCount":3}]},{"result":{"nanos":293997900,"millis":293.9979,"status":"passed"},"step":{"comments":["### List all customers"],"line":56,"prefix":"*","index":14,"text":"def listCustomers = call read('CustomerReadModels.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModels.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":286.2119,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModels","relativePath":"test\/graphql\/CustomerReadModels.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":964000,"millis":0.964,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModels = read('CustomerReadModels.graphql')"}},{"result":{"nanos":119900,"millis":0.1199,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":272800,"millis":0.2728,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":827100,"millis":0.8271,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModels)'}"}},{"result":{"nanos":280795000,"millis":280.795,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:32.063 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 167\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query CustomerReadModels {\\r\\n    CustomerReadModels {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n02:34:32.341 response time in milliseconds: 277\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 780\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:33 GMT\n1 < x-amzn-RequestId: d8899c05-279b-4f43-9f58-5fc8f71e1496\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZr6HEODoEFm1Q=\n1 < X-Amzn-Trace-Id: Root=1-60a9a318-37eb116d0c2ca2470c85a72b;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 7fdd77e84c03b9aa5af58d1d137b5cd0.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: YjFVeoAE5HN95RoEdFtECyJwqSUxbeIUMbtmDmzskQu5DzJfgk0npQ==\n{\"data\":{\"CustomerReadModels\":[{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"CustNotAdmin2\",\"userId\":\"userNotAdmin@test.com\"},{\"photoUrl\":\"\",\"surname\":\"surname changed\",\"name\":\"name changed\",\"id\":\"Cust0\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"#(first_customer.surname)\",\"name\":\"#(first_customer.name)\",\"id\":\"#(first_customer.id)\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"Cust1\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"CustNotAdmin1\",\"userId\":\"userNotAdmin@test.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"CustNotAdmin0\",\"userId\":\"userNotAdmin@test.com\"}]}}\n"},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":193300,"millis":0.1933,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":395900,"millis":0.3959,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":2134700,"millis":2.1347,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModels"},"stepLog":"02:34:32.344 [print] [\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"CustNotAdmin2\",\n    \"userId\": \"userNotAdmin@test.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"surname changed\",\n    \"name\": \"name changed\",\n    \"id\": \"Cust0\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"#(first_customer.surname)\",\n    \"name\": \"#(first_customer.name)\",\n    \"id\": \"#(first_customer.id)\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"Cust1\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"CustNotAdmin1\",\n    \"userId\": \"userNotAdmin@test.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"CustNotAdmin0\",\n    \"userId\": \"userNotAdmin@test.com\"\n  }\n]\n \n"},{"result":{"nanos":486500,"millis":0.4865,"status":"passed"},"step":{"line":25,"prefix":"*","index":9,"text":"match response.data.CustomerReadModels contains {id: '#ignore', name: '#ignore', surname: '#ignore', photoUrl: '#ignore', userId: '#ignore' }"}}],"executorName":"main","line":6,"name":"List the customers","description":"","durationMillis":286.2119,"startTime":1621730072058,"failed":false,"refId":"[1:6]","endTime":1621730072345,"exampleIndex":-1}],"name":"List all the customers created by users in the graphql API","passedCount":1}]},{"result":{"nanos":1356400,"millis":1.3564,"status":"passed"},"step":{"comments":["### Update customers","# Take the first customer of the above response to modify"],"line":61,"prefix":"*","index":15,"text":"def first_customer = listCustomers.response.data.CustomerReadModels[0]"}},{"result":{"nanos":724900,"millis":0.7249,"status":"passed"},"step":{"line":63,"prefix":"*","index":16,"text":"set first_customer.name = \"name changed\""}},{"result":{"nanos":564700,"millis":0.5647,"status":"passed"},"step":{"line":64,"prefix":"*","index":17,"text":"set first_customer.surname = \"surname changed\""}},{"result":{"nanos":665300,"millis":0.6653,"status":"passed"},"step":{"line":65,"prefix":"*","index":18,"text":"set first_customer.photoURL = \"newPhoto.jpg\""}},{"result":{"nanos":4212570900,"millis":4212.5709,"status":"passed"},"step":{"line":67,"prefix":"*","index":19,"text":"def updateCustomer = call read('SaveCustomer.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveCustomer.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4201.4766,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveCustomer","relativePath":"test\/graphql\/SaveCustomer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10600,"millis":0.0106,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":449200,"millis":0.4492,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":1673200,"millis":1.6732,"status":"passed"},"step":{"endLine":22,"comments":["# The body of the graphql request is a JSON with the generated values"],"line":14,"prefix":"*","docString":"{ \n\t\"id\": \"#(first_customer.id)\", \n\t\"name\": \"#(first_customer.name)\", \n\t\"surname\": \"#(first_customer.surname)\",\n\t\"photo\": \"#(first_customer.photo)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":81300,"millis":0.0813,"status":"passed"},"step":{"line":24,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":104900,"millis":0.1049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":110300,"millis":0.1103,"status":"passed"},"step":{"line":27,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":184544200,"millis":184.5442,"status":"passed"},"step":{"line":28,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:34:32.362 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 282\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"surname\":\"surname changed\",\"name\":\"name changed\",\"photo\":null,\"id\":\"CustNotAdmin2\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n02:34:32.545 response time in milliseconds: 182\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 30\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:33 GMT\n1 < x-amzn-RequestId: 25f656ad-a390-42ad-9936-5de38e53a5dd\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZr9HCRDoEFupQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a319-0d3ba9136a630ba05d8e333a;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 3a040ac81c3e03a31883d4bf85a17866.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: hhtlK8FCkaTKCQqucReTw53eZ4Ifr5rhtMdRUsyMVs0AiJSmUeJHaw==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":29,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4013670200,"millis":4013.6702,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be saved before the next test"],"line":31,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":321600,"millis":0.3216,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":34,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":435900,"millis":0.4359,"status":"passed"},"step":{"comments":["# If the customer is saved, the response shouldn't contain a field \"error\""],"line":37,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Save a new Customer","description":"","durationMillis":4201.4766,"startTime":1621730072358,"failed":false,"refId":"[1:9]","endTime":1621730076561,"exampleIndex":-1}],"name":"Generate and save a new customer","passedCount":1}]},{"result":{"nanos":419000,"millis":0.419,"status":"passed"},"step":{"line":68,"prefix":"*","index":20,"text":"match updateCustomer.response.erros == '#notpresent'"}},{"result":{"nanos":357800,"millis":0.3578,"status":"passed"},"step":{"endLine":78,"comments":["### List a customer by id","# Check if the customer was updated properly and it has the reference of the last user who modified"],"line":73,"prefix":"*","docString":"{\n   \"id\": \"#(first_customer.id)\" \n}","index":21,"text":"def id_Customer ="}},{"result":{"nanos":296508800,"millis":296.5088,"status":"passed"},"step":{"line":79,"prefix":"*","index":22,"text":"def listCustomerId = call read('CustomerReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModel.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":283.3617,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModel","relativePath":"test\/graphql\/CustomerReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":929600,"millis":0.9296,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModel = read('CustomerReadModel.graphql')"}},{"result":{"nanos":125500,"millis":0.1255,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":197600,"millis":0.1976,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":680200,"millis":0.6802,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModel)', variables: '#(id_Customer)'}"}},{"result":{"nanos":279093700,"millis":279.0937,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:36.577 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 219\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"CustNotAdmin2\"},\"query\":\"query CustomerReadModel($id: ID!) {\\r\\n    CustomerReadModel(id: $id) {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n02:34:36.853 response time in milliseconds: 276\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 150\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:37 GMT\n1 < x-amzn-RequestId: 517107d9-bc2c-4d54-8153-a9cb5d2e0ad5\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZsnEPVDoEFqVg=\n1 < X-Amzn-Trace-Id: Root=1-60a9a31d-0459ea856dc976b706700ee1;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 158bf65e81ba82d619c73dde6c7796a9.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: JpbShP1IepKYpCi0aEfZdi6jw65LBjvBRZRH8Rzyd9EFRq60yee1Jw==\n{\"data\":{\"CustomerReadModel\":{\"photoUrl\":\"\",\"surname\":\"surname changed\",\"name\":\"name changed\",\"id\":\"CustNotAdmin2\",\"userId\":\"userNotAdmin@test.com\"}}}\n"},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":161200,"millis":0.1612,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":337300,"millis":0.3373,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":1790200,"millis":1.7902,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModel"},"stepLog":"02:34:36.856 [print] {\n  \"photoUrl\": \"\",\n  \"surname\": \"surname changed\",\n  \"name\": \"name changed\",\n  \"id\": \"CustNotAdmin2\",\n  \"userId\": \"userNotAdmin@test.com\"\n}\n \n"}],"executorName":"main","line":6,"name":"List a customer by id","description":"","durationMillis":283.3617,"startTime":1621730076573,"failed":false,"refId":"[1:6]","endTime":1621730076856,"exampleIndex":-1}],"name":"List a customer by Id of the graphql API","passedCount":1}]},{"result":{"nanos":1326800,"millis":1.3268,"status":"passed"},"step":{"comments":["#    * match listCustomerId.response.data.CustomerReadModel == {id: '#(first_customer.id)', name: '#(first_customer.name)', surname: '#(first_customer.surname)', photoUrl: '#(first_customer.photoURL)', userId: '#(newUser.username)' }"],"line":81,"prefix":"*","index":23,"text":"match listCustomerId.response.data.CustomerReadModel == {id: '#(first_customer.id)', name: '#(first_customer.name)', surname: '#(first_customer.surname)', photoUrl: '#ignore', userId: '#(newUser.username)' }"}},{"result":{"nanos":965000,"millis":0.965,"status":"passed"},"step":{"comments":["### Delete a customer","# Get the last customer from the list obtained before 'listCustomers' to delete"],"line":86,"prefix":"*","index":24,"text":"def numCustomers = listCustomers.response.data.CustomerReadModels.length - 1"}},{"result":{"nanos":702900,"millis":0.7029,"status":"passed"},"step":{"line":87,"prefix":"*","index":25,"text":"def customerToDelete = listCustomers.response.data.CustomerReadModels[numCustomers]"}},{"result":{"nanos":376700,"millis":0.3767,"status":"passed"},"step":{"endLine":94,"line":89,"prefix":"*","docString":"{\n   \"id\": \"#(customerToDelete.id)\"\n}","index":26,"text":"def customerDelete ="}},{"result":{"nanos":4299020700,"millis":4299.0207,"status":"passed"},"step":{"line":95,"prefix":"*","index":27,"text":"def deleteCustomer = call read('DeleteCustomer.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/DeleteCustomer.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4287.3749,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.DeleteCustomer","relativePath":"test\/graphql\/DeleteCustomer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":834500,"millis":0.8345,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def queryDeleteCustomer = read('DeleteCustomer.graphql')"}},{"result":{"nanos":121400,"millis":0.1214,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":148100,"millis":0.1481,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":527200,"millis":0.5272,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(queryDeleteCustomer)',  variables: '#(customerDelete)'  }"}},{"result":{"nanos":281404400,"millis":281.4044,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:36.873 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 131\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"CustNotAdmin0\"},\"query\":\"mutation DeleteCustomer($id: ID) {\\r\\n    DeleteCustomer(input: {id: $id})\\r\\n} \\r\\n\"}\n\n02:34:37.154 response time in milliseconds: 280\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 32\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:37 GMT\n1 < x-amzn-RequestId: 5a2b79a6-5b83-4e29-b1a9-bc7629ae3b8f\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZsqF0njoEFyaw=\n1 < X-Amzn-Trace-Id: Root=1-60a9a31d-2df01237356004627f9414b5;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f6fe5265462508690ff6e0d3e33b6068.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: JhlqCUoxJ-XEyh3n86kCiLUMTtFpH1uNdEqDiE5YaLWRognOV-GDqQ==\n{\"data\":{\"DeleteCustomer\":true}}\n"},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4003533500,"millis":4003.5335,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be delete before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":280900,"millis":0.2809,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":462900,"millis":0.4629,"status":"passed"},"step":{"comments":["# If the customer was delete, the response shouldn't contain a field \"error\""],"line":26,"prefix":"And","index":8,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Delete a customer","description":"","durationMillis":4287.3749,"startTime":1621730076870,"failed":false,"refId":"[1:9]","endTime":1621730081158,"exampleIndex":-1}],"name":"Delete a customer","passedCount":1}]},{"result":{"nanos":932400,"millis":0.9324,"status":"passed"},"step":{"endLine":103,"comments":["### List the customer to check that it was properly delete"],"line":98,"prefix":"*","docString":"{\n   \"id\": \"#(customerToDelete.id)\" \n}","index":28,"text":"def id_Customer ="},"stepLog":"02:34:41.163 over-writing existing variable 'id_Customer' with new value: {\n   \"id\": \"#(customerToDelete.id)\" \n}\n"},{"result":{"nanos":298345900,"millis":298.3459,"status":"passed"},"step":{"line":104,"prefix":"*","index":29,"text":"def listCustomerDelete = call read('CustomerReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModel.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":279.9146,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModel","relativePath":"test\/graphql\/CustomerReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":429800,"millis":0.4298,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModel = read('CustomerReadModel.graphql')"}},{"result":{"nanos":88800,"millis":0.0888,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":168400,"millis":0.1684,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":115900,"millis":0.1159,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModel)', variables: '#(id_Customer)'}"}},{"result":{"nanos":277329700,"millis":277.3297,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:41.178 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 219\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"CustNotAdmin0\"},\"query\":\"query CustomerReadModel($id: ID!) {\\r\\n    CustomerReadModel(id: $id) {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n02:34:41.454 response time in milliseconds: 276\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 35\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:42 GMT\n1 < x-amzn-RequestId: e09c1583-d831-4a47-a78c-a5f1b0997fcb\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZtVF1bjoEFu2A=\n1 < X-Amzn-Trace-Id: Root=1-60a9a322-524392ee0fac542d32659f59;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 aece96245a5f852367d1447c4953c7e1.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: TiLBSviJQ3Aux4zSH2UM-t4iRPTl6Isa7bBBCembF5vxV18yg7ZlNA==\n{\"data\":{\"CustomerReadModel\":null}}\n"},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":245500,"millis":0.2455,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":335000,"millis":0.335,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":1181000,"millis":1.181,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModel"},"stepLog":"02:34:41.457 [print] null \n"}],"executorName":"main","line":6,"name":"List a customer by id","description":"","durationMillis":279.9146,"startTime":1621730081176,"failed":false,"refId":"[1:6]","endTime":1621730081457,"exampleIndex":-1}],"name":"List a customer by Id of the graphql API","passedCount":1}]},{"result":{"nanos":375200,"millis":0.3752,"status":"passed"},"step":{"line":105,"prefix":"*","index":30,"text":"match listCustomerDelete.response.data.CusotmerReadModel == '#notpresent'"}},{"result":{"nanos":108313400,"millis":108.3134,"status":"passed"},"step":{"comments":["### Test the features not allowed to a not admin user","### Read user models","# List all the users of the API, it should fail because it is not an admin user"],"line":113,"prefix":"*","index":31,"text":"def listUsers = call read('UserReadModels.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/UserReadModels.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":92.3486,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.UserReadModels","relativePath":"test\/graphql\/UserReadModels.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":867700,"millis":0.8677,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryUserReadModels = read('UserReadModels.graphql')"}},{"result":{"nanos":112700,"millis":0.1127,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":211900,"millis":0.2119,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":480600,"millis":0.4806,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryUserReadModels)'}"}},{"result":{"nanos":90457300,"millis":90.4573,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:41.475 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 102\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query UserReadModels {\\r\\n    UserReadModels {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n02:34:41.564 response time in milliseconds: 88\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 162\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:42 GMT\n1 < x-amzn-RequestId: f78778d3-2e1e-4fc8-86e5-863b8d56a62e\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZtXHvWjoEF3SQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a322-54540bcf2cdea30647fb81d4;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 32713ef80c317f26bc1691bc0aad3819.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: J9UB5Hv9gdV62JjG0FB8nvuS3qUDCS7XvQ03uvAVZWLgQ6J_A4_j9g==\n{\"data\":{\"UserReadModels\":null},\"errors\":[{\"path\":[\"UserReadModels\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for read model UserReadModel\"}]}\n"},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":198100,"millis":0.1981,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":6,"name":"List the users","description":"","durationMillis":92.3486,"startTime":1621730081472,"failed":false,"refId":"[1:6]","endTime":1621730081565,"exampleIndex":-1}],"name":"List all the users of the graphql API","passedCount":1}]},{"result":{"nanos":291000,"millis":0.291,"status":"passed"},"step":{"line":114,"prefix":"*","index":32,"text":"match listUsers.response.errors contains deep { message: 'Access denied for read model UserReadModel'}"}},{"result":{"nanos":438300,"millis":0.4383,"status":"passed"},"step":{"endLine":125,"comments":["### Save new users"],"line":118,"prefix":"*","docString":"{ \n\t\"username\": \"user@test.com\", \n\t\"password\": \"Password_1\", \n\t\"role\": \"user\"\n}","index":33,"text":"def newUser ="},"stepLog":"02:34:41.572 over-writing existing variable 'newUser' with new value: { \n\t\"username\": \"user@test.com\", \n\t\"password\": \"Password_1\", \n\t\"role\": \"user\"\n}\n"},{"result":{"nanos":4212150100,"millis":4212.1501,"status":"passed"},"step":{"line":126,"prefix":"*","index":34,"text":"def saveUser = call read('SaveUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUser.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4185.2368,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUser","relativePath":"test\/graphql\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"02:34:41.573 over-writing existing variable 'saveUser' with new value: call read('SaveUser.feature') userToken\n"},{"result":{"nanos":115100,"millis":0.1151,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":811700,"millis":0.8117,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":369100,"millis":0.3691,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":423100,"millis":0.4231,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":347000,"millis":0.347,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":171058800,"millis":171.0588,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:41.592 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 249\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"user\",\"username\":\"user@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n02:34:41.762 response time in milliseconds: 168\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 144\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:42 GMT\n1 < x-amzn-RequestId: 84f20f70-879e-4adf-ae54-08daee567c36\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZtZHgaDoEFjZQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a322-3450043740fe98fa13cb780e;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 960b47175d6cfc9ed048624de2747035.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: 1QZOA7nYr5uYdfYE8l-B34sU8Yv0C3JM2jcsU6lu-FUGt43c-Jk8xA==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for command 'SaveUser'\"}]}\n"},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4011147900,"millis":4011.1479,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":937600,"millis":0.9376,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Save a new User","description":"","durationMillis":4185.2368,"startTime":1621730081589,"failed":false,"refId":"[1:9]","endTime":1621730085775,"exampleIndex":-1}],"name":"Generate a new user","passedCount":1}]},{"result":{"nanos":147600,"millis":0.1476,"status":"passed"},"step":{"endLine":132,"line":127,"prefix":"*","docString":"{\n   \"message\": \"Access denied for command 'SaveUser'\"\n}","index":35,"text":"def expected ="}},{"result":{"nanos":145200,"millis":0.1452,"status":"passed"},"step":{"line":133,"prefix":"*","index":36,"text":"match saveUser.response.errors contains deep expected"}},{"result":{"nanos":66300,"millis":0.0663,"status":"passed"},"step":{"endLine":142,"comments":["### Delete user","# It isn't necessary that the user exist because it should response with a message of 'Access denied'"],"line":137,"prefix":"*","docString":"{\n   \"username\": \"user@test.com\"\n}","index":37,"text":"def usernameDelete ="}},{"result":{"nanos":4217356100,"millis":4217.3561,"status":"passed"},"step":{"line":143,"prefix":"*","index":38,"text":"def deleteUser = call read('DeleteUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/DeleteUser.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4187.5212,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.DeleteUser","relativePath":"test\/graphql\/DeleteUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":820600,"millis":0.8206,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def queryDeleteUser = read('DeleteUser.graphql')"}},{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":152500,"millis":0.1525,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":417900,"millis":0.4179,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(queryDeleteUser)',  variables: '#(usernameDelete)'  }"}},{"result":{"nanos":181656200,"millis":181.6562,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:45.798 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 146\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"username\":\"user@test.com\"},\"query\":\"mutation DeleteUser($username: String) {\\r\\n    DeleteUser(input: {username: $username})\\r\\n}\"}\n\n02:34:45.978 response time in milliseconds: 180\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 150\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:46 GMT\n1 < x-amzn-RequestId: afd81b25-09f6-40cb-b45f-a6154882ba59\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZuDHUKDoEF_NA=\n1 < X-Amzn-Trace-Id: Root=1-60a9a326-61428b5e18f5b1cd308a63f1;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 fe55d6b634c29e0dbde85630de5f2787.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: XnEW0e2zC3HTM1tkfsoZr8WyGjWV7OVbLSqANhwBEbvz_RErjw7AjA==\n{\"data\":{\"DeleteUser\":null},\"errors\":[{\"path\":[\"DeleteUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for command 'DeleteUser'\"}]}\n"},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4004077000,"millis":4004.077,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be delete before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":235600,"millis":0.2356,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Delete a user","description":"","durationMillis":4187.5212,"startTime":1621730085796,"failed":false,"refId":"[1:9]","endTime":1621730089984,"exampleIndex":-1}],"name":"Delete a given user","passedCount":1}]},{"result":{"nanos":508100,"millis":0.5081,"status":"passed"},"step":{"endLine":149,"line":144,"prefix":"*","docString":"{\n   \"message\": \"Access denied for command 'DeleteUser'\"\n}","index":39,"text":"def expected ="},"stepLog":"02:34:50.003 over-writing existing variable 'expected' with new value: {\n   \"message\": \"Access denied for command 'DeleteUser'\"\n}\n"},{"result":{"nanos":228600,"millis":0.2286,"status":"passed"},"step":{"line":150,"prefix":"*","index":40,"text":"match deleteUser.response.errors contains deep expected"}},{"result":{"nanos":342300,"millis":0.3423,"status":"passed"},"step":{"endLine":159,"comments":["### List a user by id","# It isn't necessary that the user exist because it should response with a message of 'Access denied'"],"line":154,"prefix":"*","docString":"{\n\t\"id\": \"user@test.com\"\n}","index":41,"text":"def id ="},"stepLog":"02:34:50.003 over-writing existing variable 'id' with new value: {\n\t\"id\": \"user@test.com\"\n}\n"},{"result":{"nanos":311718700,"millis":311.7187,"status":"passed"},"step":{"line":160,"prefix":"*","index":42,"text":"def listUserDelete = call read('UserReadModel.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/UserReadModel.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":272.7637,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.UserReadModel","relativePath":"test\/graphql\/UserReadModel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":735700,"millis":0.7357,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryUserReadModel = read('UserReadModel.graphql')"}},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":121600,"millis":0.1216,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":457800,"millis":0.4578,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryUserReadModel)', variables: '#(id)'}"}},{"result":{"nanos":271163500,"millis":271.1635,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:50.022 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 154\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"user@test.com\"},\"query\":\"query UserReadModel($id: ID!) {\\r\\n    UserReadModel(id: $id) {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n02:34:50.292 response time in milliseconds: 269\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 160\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:50 GMT\n1 < x-amzn-RequestId: 42729872-4886-47e8-92c8-0965dff8d563\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZuuG0KDoEF-vA=\n1 < X-Amzn-Trace-Id: Root=1-60a9a32a-2171173d2013df76747ada7a;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 3a040ac81c3e03a31883d4bf85a17866.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: GOxwVyn7GebaSAxUoFlYFSEwJToE7grtpC6Czia4LQn7GApCTKuuYA==\n{\"data\":{\"UserReadModel\":null},\"errors\":[{\"path\":[\"UserReadModel\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"Access denied for read model UserReadModel\"}]}\n"},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":179800,"millis":0.1798,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":6,"name":"List a user by id","description":"","durationMillis":272.7637,"startTime":1621730090020,"failed":false,"refId":"[1:6]","endTime":1621730090293,"exampleIndex":-1}],"name":"List a user by Id of the graphql API","passedCount":1}]},{"result":{"nanos":226100,"millis":0.2261,"status":"passed"},"step":{"line":161,"prefix":"*","index":43,"text":"match listUserDelete.response.errors contains deep { message: 'Access denied for read model UserReadModel'}"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"endLine":171,"comments":["### Change the role of one user","# It isn't necessary that the user exist because it should response with a message of 'Access denied'"],"line":165,"prefix":"*","docString":"{\n  \"username\": \"user@test.com\",\n  \"role\": \"role\"\n}","index":44,"text":"def userChangeRole ="}},{"result":{"nanos":4212388300,"millis":4212.3883,"status":"passed"},"step":{"line":172,"prefix":"*","index":45,"text":"def change_role = call read('ChangeUserRole.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/ChangeUserRole.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4165.3234,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwNTksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY1OSwiaWF0IjoxNjIxNzMwMDU5LCJqdGkiOiJiNzM4Njk5Ny1kNDljLTRjN2MtYTBhZi1hYjE5ZmEzNzNmYTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIn0.DhXaFF1baH81540FzKHsBs2XgdMmnLT3dq_3pczOvuPWWE7e5YWTQORHPZDKVXkNbu7u6XJm9jGIgihiy1-V6DlBsNdjI-wyPrAZa8ru4o66fz-wdsHlN4Gd0QcGnwHbt39TzqaClI1Zz1PV4PxIp-BaeWUThk-Y4BKsYeh26s-Zau9JgdGotpqRFUeEslcrMocdlSTNrneHUFPJmsfgaB4BkYeE0qrJOB_7QT5yRLQRNGVK_q9XCMYgxO_FhMkINA3FOPlDlJ5fSpv0wa3asmtA5de7b0EifOzeFmBC0WG4ctudDqZLSR7LN5rzPxUJGUHE7usUMjZviyx8VCCxtQ","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.DcsStkK1EB_XSi5mrsdrwJhDBzdvxZii64CtggTtmJTSnpuWBQfzfNTe2NshDC4eDaDVx8EWJuQ7lK2m6UlmGtd5ObgzWrRU4Qyh9NStfB_LGIFl7_y7VF0teoBYa-RugWywmGeBneMRC1t1Py7WSj6T3qixCPa-hCv5_dMLAsm5Gw6LLjjP15hsYW_ZBtfrQhDhp9uLaXauXDm6AIuIDBUBJvkN0x0C9l2PVkaOUvPzGa8T8mCHt-qiYxXhiwnyW7iMo41GNWQWHp7YjSiRDGwBYTvViuOJzvYxsPcM44BSQ6AOa_FDBhQ-1EBbaJgbTLjn1OXy9l6c74YIlcpXoA.Z6Jers2rLbq5-CJW.w0Vbvu86n269s-84_UpaITPXPWpsEiKXfqFAX1dpoJoQu9Nmu0ppWnaCwFfWsVPq5f-9XSvlHngyCklWFN90UZMbcnl8apcHmaSFZCxRaT3yQDQxcQR-jGhaX5T7Kpl8fXmCRUJ57nASEwJhMEwW_mUnc6iHocZzb0fx3nCiLPDeB9QQMeKjf4U4Df8NywlrzCCSzv_GXWNUq17uuqLtqN5SGMLyZt-gYYq091OEmKcp0hvNa-sdNg2UPkP-faf18OeFvZsZMmwLduyTNOWr-E_2pNkQpdhO1fWRCKAhssmOFgl2AYSoXhZgf7nUN3hN5oxAY3_IDvX0pJeHWfU6PoXHeDyeA3c3K4XhFTCumUFVS-_lEV9X-2oqyEx0VDnVJXtzb5upPduQ2UIuzpWlmvLBDtmKycvPiV1Rv7MV-nH-pMFL9ePeoBNPTnOgBA1UnuXGIrySQctH8yxE5YD8FDHLdOZwmifdc4DrX5sH1yIsAMw_eY6z3hdzDqFiqJMnVgbxiyyCPRfcz92YRxRgKM9MxoDQeU3ARewavVCXaFSHGHLLOOsIiXEW_33gyx138gMSWpl8f1NNI2axQ0k43FjZy6PNbjwG4E1D-mAmrkn8D050V047venD_GTtsPyf-FtFwJu6hx5fD7Oq1_xR6JBcotBvxj5vm4NSlW0a7UZHV9JhoD5wv_jp-Pv_d8JDDkwhk2GLt90iXsGTQJZ8TUTemHRd0iGUrm290Hajxbpj05EiCjS0EUgXgW5FmdZJu5PpL4EcEspm17ReYpINDGtQdIUE-VIWV_p96e5lLEbmy1b9LYy9__cqpEAseLOhaXIIexDyRNmpNgVk6-mzulX2N7GQAyJ7XCVvBWFko9L62Vk2YfP441I4ZwhO-BhqIG1cx6PnGBD3SbKI8vQTHhCkkJPurs3N5mnSN8v8aYMiLzSFeV4izDFD3Jz0kmXdYjJ13CMAwwrEeVwdu9BY9zoSVwQME9jpwWcTQ4gWBgRBJOyuEkwUrGRQqIx-TBiTR5qdezpK4FsMQJKTBY6Fvw9ITTL3BfZjCpSAnl0uGOMUIg5o78Hv_2dfLqpH4XQ3oBtkwkpscMykJp_B7fUNu5Cyl-N8OomQqbj2w8Jx8KFHTPkdBlTAoLW6qk1IIfOdzjxMPQNP8fwPOVsLYeivWC6ifq0tn__YfXbNZapiawoDB3wBIemJVQpSZ0QgucGWKb_IRliWksbbYLnmSMIpCjcS-81Uv_x2xKP7uW5vwfeGFjt0b7VUP_3bqQL0HJdaqe3aTRiEkbLH_3nCgqT3dvHKiW9WQHYU_m6HIRvofyWc4KMsy4l6mqsuurCRwo8.SzD5Osq1qKEa1Tv5Cy_43w"},"failedCount":0,"packageQualifiedName":"test.graphql.ChangeUserRole","relativePath":"test\/graphql\/ChangeUserRole.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":1026400,"millis":1.0264,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":12,"prefix":"*","index":0,"text":"def queryChangeUserRole = read('ChangeUserRole.graphql')"}},{"result":{"nanos":110100,"millis":0.1101,"status":"passed"},"step":{"line":14,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":175300,"millis":0.1753,"status":"passed"},"step":{"line":15,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":572000,"millis":0.572,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"request { query: '#(queryChangeUserRole)',  variables: '#(userChangeRole)'  }"}},{"result":{"nanos":155313800,"millis":155.3138,"status":"passed"},"step":{"line":18,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:50.339 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkYmM4Zjg5ZC0xMzRjLTRmOWEtOTRjNS1hZGUyODI1ZWE1M2UiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6IjFjMTRkMDZkLWM0ZWYtNDhiYi04YzZlLTU4MDM4YzQ3MDE1ZSIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNzMwMDU5LCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiZGJjOGY4OWQtMTM0Yy00ZjlhLTk0YzUtYWRlMjgyNWVhNTNlIiwiZXhwIjoxNjIxNzMzNjU5LCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE3MzAwNTksImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.aMycgOTOzjMieGTGu3beIolDcMimshvBKJDXLD1CbSDQjVnBLFpOb9EtqKVz7WZ8jwIFCb6UcO2i4P4PCKS0C-gXwKyGZDi42cHO6KJ9SnSTi6fJCOwPhk15ItW1wp5IFQ8G908kCcqKhR6BeKoZCisSkgFKT0Y5BzWKV-B1X472Rsu6jnl1LeqDVQKGXY-fAifG6BWOEO6PzsPXhUWeRbW5-Um87bzxEkDMLx1gwCvcIydpQ4oteTmaOt0-sWA_XjNaoY_P6V-UndAb0Pg6E0PUEa7MCMYJG1NLUFYyDrVUPXySNyCteC7TClyTXKeJvbkAg2TrDBxxdvF-DSqhRw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 194\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"role\":\"role\",\"username\":\"user@test.com\"},\"query\":\"mutation ChangeUserRole($username: String, $role: String) {\\r\\n  ChangeUserRole(input: {username: $username, role: $role})\\r\\n}\"}\n\n02:34:50.492 response time in milliseconds: 152\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 162\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:51 GMT\n1 < x-amzn-RequestId: 493e94e2-6a8f-492e-8f71-95fa608921dc\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZuxEcwDoEFSZw=\n1 < X-Amzn-Trace-Id: Root=1-60a9a32b-7b8358342c44521051d5b29e;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f381783b1a4d3b0a57fef757bbb97dc2.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: gjL8fQLl5sefLTFm1j34QVSV10tnLMNDRuidqn_3SYrA6kCdn_7tYg==\n{\"data\":{\"ChangeUserRole\":null},\"errors\":[{\"path\":[\"ChangeUserRole\"],\"locations\":[{\"line\":2,\"column\":3}],\"message\":\"Access denied for command 'ChangeUserRole'\"}]}\n"},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":19,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4008031800,"millis":4008.0318,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":21,"prefix":"*","index":6,"text":"wait(4000)"}}],"executorName":"main","line":10,"name":"Change the role of a user","description":"","durationMillis":4165.3234,"startTime":1621730090336,"failed":false,"refId":"[1:10]","endTime":1621730094501,"exampleIndex":-1}],"name":"Change the role of one user","passedCount":1}]},{"result":{"nanos":519200,"millis":0.5192,"status":"passed"},"step":{"endLine":178,"line":173,"prefix":"*","docString":"{\n   \"message\": \"Access denied for command 'ChangeUserRole'\"\n}","index":46,"text":"def expected ="},"stepLog":"02:34:54.528 over-writing existing variable 'expected' with new value: {\n   \"message\": \"Access denied for command 'ChangeUserRole'\"\n}\n"},{"result":{"nanos":164300,"millis":0.1643,"status":"passed"},"step":{"line":179,"prefix":"*","index":47,"text":"match change_role.response.errors contains deep expected"}}],"executorName":"main","line":6,"name":"Test if the API met the acceptance criteria for an admin user","description":"","durationMillis":41162.0818,"startTime":1621730053364,"failed":false,"refId":"[1:6]","endTime":1621730094529,"exampleIndex":-1}],"callDepth":1,"name":"Test the graphql API for admin and not admin users","description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":41162.0818,"passedCount":1}]}],"executorName":"main","line":9,"name":"Test if the API met the acceptance criteria for users not admin","description":"","durationMillis":41206.701,"startTime":1621730053357,"failed":false,"refId":"[2:9]","endTime":1621730094565,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"02:34:54.568 karate.env system property was: prod \n"},{"result":{"nanos":23561925800,"errorMessage":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:test\/graphql\/TestFailures.feature:116\nclasspath:test\/graphql\/Test.feature:13","millis":23561.9258,"status":"failed"},"step":{"line":13,"prefix":"*","index":0,"text":"def testResults = call read('TestFailures.feature')"},"stepLog":"02:35:18.131 classpath:test\/graphql\/Test.feature:13\n* def testResults = call read('TestFailures.feature')\nmatch failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:test\/graphql\/TestFailures.feature:116\nclasspath:test\/graphql\/Test.feature:13\n","callResults":[{"failedCount":1,"prefixedPath":"classpath:test\/graphql\/TestFailures.feature","packageQualifiedName":"test.graphql.TestFailures","loopIndex":-1,"relativePath":"test\/graphql\/TestFailures.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":688600,"millis":0.6886,"status":"passed"},"step":{"comments":["# It is necessary to sign in the API as admin to create a new user","# Read the admin datas from a *.json file"],"line":9,"prefix":"*","index":0,"text":"def adminDatas = read('signinDatasUser.json')"}},{"result":{"nanos":430633200,"millis":430.6332,"status":"passed"},"step":{"comments":["### Call the feature to sign in the API with the JSON file that contains the admin's datas"],"line":12,"prefix":"*","index":1,"text":"def signIn = call read('signin.feature') adminDatas"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/signin.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":427.2805,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"test.graphql.signin","relativePath":"test\/graphql\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":650300,"millis":0.6503,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":714800,"millis":0.7148,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"02:34:54.577 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":467200,"millis":0.4672,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":220800,"millis":0.2208,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":421963500,"millis":421.9635,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:34:54.579 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n02:34:55.000 response time in milliseconds: 419\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:55 GMT\n1 < x-amzn-RequestId: 916191be-f2ce-43f0-a7bb-07104ca3ab1b\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZvbEaIDoEFvQg=\n1 < X-Amzn-Trace-Id: Root=1-60a9a32f-246d9b2905cfe1794dfd94ce\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 f381783b1a4d3b0a57fef757bbb97dc2.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: J9SmNILuF7SKbRyIBO_-TZVY7LHfZhE6J3zoz920DP3TGWXKB-51LA==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjNmNzhhZjYzLTNlN2ItNGUwZS1iYTBhLTc3Njc5ZDQ1MTBkNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwOTUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY5NSwiaWF0IjoxNjIxNzMwMDk1LCJqdGkiOiIxYjJjMGM0NS1hYjExLTRhN2MtOTU5Mi0yOWNjNTkyOTk5YTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.GlJnQGXhsMO6XD5hOmfGAKH5Gr2EnSVCQ8oz3PRmsXp1RO8SBTiwe_yS1Y0s8fnwyfXRqT4_qA9lNAexK1svBEot0xK_HkWijfPUPtKWrr6tusD8G4UUm3Yh6KybMIWlbe9CVVcj1x0Y1UFn40-lZJrquXrOYm1IAynOSAm7hw72qjlF4i9rHTjX45xUI7uSdZvF3W_G9nEfz9h-jcZ2VuN0QwaWUzCg5RZ6Qadprejs-8-30Hr_MRPms6QEv2S4GgxvuXeFbRGOW0PPzi4vKEijPK9Op6QhzAjXAsVUO3V_HvfPoBn8yToS2MKp9sh1a9e414H9Ptp0WPgQn6IV2Q\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ZaTJ2sBJQz37Z0R7LvLPAWhsHKAZfOIS7z0e4MU8dBAvA5vjOXpvHmTcgqLpg3FwHHXo8qfceo3zptcoCJVQ5e47z7HdSYc-EBDAD8c_Z9-um6UO7rvh9x_4P7QVRtP8Vak9aNOu0IWf1kSlRqO8aWvSsOrMoBs6idWZr1mTFcxiK7dHfQmLewdVihKymu3XJf3mqe8vNCYPSqE7z1eutx0-5lDqXc8YirrCOsxqb8tQcwuaUk-OnEDbKF5POwqFDWa_9pdpDaPyBG71ssCbgWEpxxAFMJseYDwMB6xxX-pXIunYvFVO3ysYJ-5lu8WSY--p1Yekc6PMbEAWQOO0ZQ.1NYCByrFCtSqMvf7.-NbblHD7CCN2a3ofUIXN1_BskDKqi2x2mBrWxCYAz26m3R2gUEiZJz5xE5nggX1xVtb4a3a0OVhvLWNkUHuUu7fo5oQU4qowBk-RA0lzY13JUd0ZxPMsBA0KSPGdA6SegFEahYXn2kFcqVFeRI-rOY0IE3VCXVdTuSoVIN77HWyigPjc6sNwGMQUqaIFYZvNdcBLeI5jcM82_TTQXMwUOJNrl1q8YO6kUbHaX4fp3CoMUqe7v-fSUmVjzxGS3vWjF8DGFhRtLfih7DJ17f7XWJGXt4dw484uaXTWYmsnIUubQnnqR40y5lXZBtiVtrWa54CitSDP13fS8JKZcgOCQyPVRYRLMfUA9LI2dDwCgZmWPaFrrSg9Nsnhrzj5zPLGxABH30Bma3DKfmhUs1upZIYpvqfWUt7E7RYAuKF98oWE9dXiVC7ffWOPCfah-cbAPm_TwnNy7jTo4s73fLnYEDZGzPPC6neNxLK2-lR118PY7pE4XGoDmP714HZJr8NEviIE6RsXFEeU_Ksi2817Auu7BhIEU3TDJ-dpoOHh6S7K-obnm-0vRnztIHIjVXrLFlQkpZAqOwBspEXICAxDBDX_OnMkA9XgatNhU7FiOpMdqb4Pl5tOp91BcZ578cWnr-TKpsan1wtUgI-_9m77Jtdqbi5hJUNpXlwA1FPDhraqb-2HZgrqi1mF5EeNQlFlkf1LeWvKH4MNOL9-CnjI3mpI2nXkUkWIwJbevB2TlaTASvlcfrK_WTTMt_Y6n-hOiO4cIR6OimHqWhE1ylPwP94iKTqHkU8DcxQHpr-_GD_dnTd6HXBTxblcVchCQuwsXH2KPbvQQ2yZ77Rd9Cq-udgA2J0PA6RULroQLsk4_Cyq69T89VePa3B_8zxNpw-S3vtQVcL3CV20fvUuy0rsKsuFKXp_Nwc_Y9wDonbtklgv-YWeRdfNH5zTZHalM-7ExyvAvasIFrO-tLoaXfje7--uhy6Pc1dms1K7sGpR2gBNMRGATALDujHagtXtSyXYyhnf5OCLTez6XUzc77OoJUEgClNMwegZztnuedoqxJF1N1OCA9Cd66_1BsvY_HTLc8d5LMKkdvqIvUFTgf1DOY3eTxo-DMRVB62zt7JNBtpBRccjuMFnX9ik3v15mdjsRhOcC6doswtY6g7Hrzqt9xhW8q3W6ZldHf6OjMiKYcPtJoPWSvVC7L65-bfhEjPxXS5cWfE4wTBX4jhRgB0tDkpiSV7j0YbnATui80y-tdbOtTw39GiUKenhROnhoJtbXzdujW2SFtQ-R8wCf4ZVXjsJj2NTezY4UflygjXAHQVV687jvZ5HDAvt0aWT5ug.SzRU6IUoq-Kp-L4z2lut8g\"}\n"},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":1278200,"millis":1.2782,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":1933000,"millis":1.933,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"02:34:55.004 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":427.2805,"startTime":1621730094576,"failed":false,"refId":"[1:6]","endTime":1621730095004,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":2533900,"millis":2.5339,"status":"passed"},"step":{"line":13,"prefix":"*","index":2,"text":"print signIn.response"},"stepLog":"02:34:55.006 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjNmNzhhZjYzLTNlN2ItNGUwZS1iYTBhLTc3Njc5ZDQ1MTBkNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwOTUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY5NSwiaWF0IjoxNjIxNzMwMDk1LCJqdGkiOiIxYjJjMGM0NS1hYjExLTRhN2MtOTU5Mi0yOWNjNTkyOTk5YTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.GlJnQGXhsMO6XD5hOmfGAKH5Gr2EnSVCQ8oz3PRmsXp1RO8SBTiwe_yS1Y0s8fnwyfXRqT4_qA9lNAexK1svBEot0xK_HkWijfPUPtKWrr6tusD8G4UUm3Yh6KybMIWlbe9CVVcj1x0Y1UFn40-lZJrquXrOYm1IAynOSAm7hw72qjlF4i9rHTjX45xUI7uSdZvF3W_G9nEfz9h-jcZ2VuN0QwaWUzCg5RZ6Qadprejs-8-30Hr_MRPms6QEv2S4GgxvuXeFbRGOW0PPzi4vKEijPK9Op6QhzAjXAsVUO3V_HvfPoBn8yToS2MKp9sh1a9e414H9Ptp0WPgQn6IV2Q\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ZaTJ2sBJQz37Z0R7LvLPAWhsHKAZfOIS7z0e4MU8dBAvA5vjOXpvHmTcgqLpg3FwHHXo8qfceo3zptcoCJVQ5e47z7HdSYc-EBDAD8c_Z9-um6UO7rvh9x_4P7QVRtP8Vak9aNOu0IWf1kSlRqO8aWvSsOrMoBs6idWZr1mTFcxiK7dHfQmLewdVihKymu3XJf3mqe8vNCYPSqE7z1eutx0-5lDqXc8YirrCOsxqb8tQcwuaUk-OnEDbKF5POwqFDWa_9pdpDaPyBG71ssCbgWEpxxAFMJseYDwMB6xxX-pXIunYvFVO3ysYJ-5lu8WSY--p1Yekc6PMbEAWQOO0ZQ.1NYCByrFCtSqMvf7.-NbblHD7CCN2a3ofUIXN1_BskDKqi2x2mBrWxCYAz26m3R2gUEiZJz5xE5nggX1xVtb4a3a0OVhvLWNkUHuUu7fo5oQU4qowBk-RA0lzY13JUd0ZxPMsBA0KSPGdA6SegFEahYXn2kFcqVFeRI-rOY0IE3VCXVdTuSoVIN77HWyigPjc6sNwGMQUqaIFYZvNdcBLeI5jcM82_TTQXMwUOJNrl1q8YO6kUbHaX4fp3CoMUqe7v-fSUmVjzxGS3vWjF8DGFhRtLfih7DJ17f7XWJGXt4dw484uaXTWYmsnIUubQnnqR40y5lXZBtiVtrWa54CitSDP13fS8JKZcgOCQyPVRYRLMfUA9LI2dDwCgZmWPaFrrSg9Nsnhrzj5zPLGxABH30Bma3DKfmhUs1upZIYpvqfWUt7E7RYAuKF98oWE9dXiVC7ffWOPCfah-cbAPm_TwnNy7jTo4s73fLnYEDZGzPPC6neNxLK2-lR118PY7pE4XGoDmP714HZJr8NEviIE6RsXFEeU_Ksi2817Auu7BhIEU3TDJ-dpoOHh6S7K-obnm-0vRnztIHIjVXrLFlQkpZAqOwBspEXICAxDBDX_OnMkA9XgatNhU7FiOpMdqb4Pl5tOp91BcZ578cWnr-TKpsan1wtUgI-_9m77Jtdqbi5hJUNpXlwA1FPDhraqb-2HZgrqi1mF5EeNQlFlkf1LeWvKH4MNOL9-CnjI3mpI2nXkUkWIwJbevB2TlaTASvlcfrK_WTTMt_Y6n-hOiO4cIR6OimHqWhE1ylPwP94iKTqHkU8DcxQHpr-_GD_dnTd6HXBTxblcVchCQuwsXH2KPbvQQ2yZ77Rd9Cq-udgA2J0PA6RULroQLsk4_Cyq69T89VePa3B_8zxNpw-S3vtQVcL3CV20fvUuy0rsKsuFKXp_Nwc_Y9wDonbtklgv-YWeRdfNH5zTZHalM-7ExyvAvasIFrO-tLoaXfje7--uhy6Pc1dms1K7sGpR2gBNMRGATALDujHagtXtSyXYyhnf5OCLTez6XUzc77OoJUEgClNMwegZztnuedoqxJF1N1OCA9Cd66_1BsvY_HTLc8d5LMKkdvqIvUFTgf1DOY3eTxo-DMRVB62zt7JNBtpBRccjuMFnX9ik3v15mdjsRhOcC6doswtY6g7Hrzqt9xhW8q3W6ZldHf6OjMiKYcPtJoPWSvVC7L65-bfhEjPxXS5cWfE4wTBX4jhRgB0tDkpiSV7j0YbnATui80y-tdbOtTw39GiUKenhROnhoJtbXzdujW2SFtQ-R8wCf4ZVXjsJj2NTezY4UflygjXAHQVV687jvZ5HDAvt0aWT5ug.SzRU6IUoq-Kp-L4z2lut8g\"\n}\n \n"},{"result":{"nanos":1072900,"millis":1.0729,"status":"passed"},"step":{"comments":["# The token for the admin user is the input parameter for the callable feature where are defined the steps of the tests"],"line":15,"prefix":"*","index":3,"text":"def userToken = signIn.response"}},{"result":{"nanos":392200,"millis":0.3922,"status":"passed"},"step":{"endLine":25,"comments":["### Test to create a user with a wrong password"],"line":18,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Pass\", \n\t\"role\": \"user\"\n}","index":4,"text":"def newUser ="}},{"result":{"nanos":220900,"millis":0.2209,"status":"passed"},"step":{"endLine":33,"comments":["#    * def saveUser = call read('SaveUser.feature') userToken","# Check that the query fail because the password is too short"],"line":28,"prefix":"*","docString":"{\n   \"message\": \"Password does not conform to policy: Password not long enough\"\n}","index":5,"text":"def expected ="}},{"result":{"nanos":526100,"millis":0.5261,"status":"passed"},"step":{"endLine":44,"comments":["#     * match saveUser.response.errors contains deep expected","# Try to create again but with another wrong password"],"line":37,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password111\", \n\t\"role\": \"User\"\n}","index":6,"text":"def newUser ="},"stepLog":"02:34:55.009 over-writing existing variable 'newUser' with new value: { \n\t\"username\": \"userNotAdmin@test.com\", \n\t\"password\": \"Password111\", \n\t\"role\": \"User\"\n}\n"},{"result":{"nanos":4491853900,"millis":4491.8539,"status":"passed"},"step":{"line":45,"prefix":"*","index":7,"text":"def saveUser = call read('SaveUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUser.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4484.365,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjNmNzhhZjYzLTNlN2ItNGUwZS1iYTBhLTc3Njc5ZDQ1MTBkNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwOTUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY5NSwiaWF0IjoxNjIxNzMwMDk1LCJqdGkiOiIxYjJjMGM0NS1hYjExLTRhN2MtOTU5Mi0yOWNjNTkyOTk5YTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.GlJnQGXhsMO6XD5hOmfGAKH5Gr2EnSVCQ8oz3PRmsXp1RO8SBTiwe_yS1Y0s8fnwyfXRqT4_qA9lNAexK1svBEot0xK_HkWijfPUPtKWrr6tusD8G4UUm3Yh6KybMIWlbe9CVVcj1x0Y1UFn40-lZJrquXrOYm1IAynOSAm7hw72qjlF4i9rHTjX45xUI7uSdZvF3W_G9nEfz9h-jcZ2VuN0QwaWUzCg5RZ6Qadprejs-8-30Hr_MRPms6QEv2S4GgxvuXeFbRGOW0PPzi4vKEijPK9Op6QhzAjXAsVUO3V_HvfPoBn8yToS2MKp9sh1a9e414H9Ptp0WPgQn6IV2Q","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ZaTJ2sBJQz37Z0R7LvLPAWhsHKAZfOIS7z0e4MU8dBAvA5vjOXpvHmTcgqLpg3FwHHXo8qfceo3zptcoCJVQ5e47z7HdSYc-EBDAD8c_Z9-um6UO7rvh9x_4P7QVRtP8Vak9aNOu0IWf1kSlRqO8aWvSsOrMoBs6idWZr1mTFcxiK7dHfQmLewdVihKymu3XJf3mqe8vNCYPSqE7z1eutx0-5lDqXc8YirrCOsxqb8tQcwuaUk-OnEDbKF5POwqFDWa_9pdpDaPyBG71ssCbgWEpxxAFMJseYDwMB6xxX-pXIunYvFVO3ysYJ-5lu8WSY--p1Yekc6PMbEAWQOO0ZQ.1NYCByrFCtSqMvf7.-NbblHD7CCN2a3ofUIXN1_BskDKqi2x2mBrWxCYAz26m3R2gUEiZJz5xE5nggX1xVtb4a3a0OVhvLWNkUHuUu7fo5oQU4qowBk-RA0lzY13JUd0ZxPMsBA0KSPGdA6SegFEahYXn2kFcqVFeRI-rOY0IE3VCXVdTuSoVIN77HWyigPjc6sNwGMQUqaIFYZvNdcBLeI5jcM82_TTQXMwUOJNrl1q8YO6kUbHaX4fp3CoMUqe7v-fSUmVjzxGS3vWjF8DGFhRtLfih7DJ17f7XWJGXt4dw484uaXTWYmsnIUubQnnqR40y5lXZBtiVtrWa54CitSDP13fS8JKZcgOCQyPVRYRLMfUA9LI2dDwCgZmWPaFrrSg9Nsnhrzj5zPLGxABH30Bma3DKfmhUs1upZIYpvqfWUt7E7RYAuKF98oWE9dXiVC7ffWOPCfah-cbAPm_TwnNy7jTo4s73fLnYEDZGzPPC6neNxLK2-lR118PY7pE4XGoDmP714HZJr8NEviIE6RsXFEeU_Ksi2817Auu7BhIEU3TDJ-dpoOHh6S7K-obnm-0vRnztIHIjVXrLFlQkpZAqOwBspEXICAxDBDX_OnMkA9XgatNhU7FiOpMdqb4Pl5tOp91BcZ578cWnr-TKpsan1wtUgI-_9m77Jtdqbi5hJUNpXlwA1FPDhraqb-2HZgrqi1mF5EeNQlFlkf1LeWvKH4MNOL9-CnjI3mpI2nXkUkWIwJbevB2TlaTASvlcfrK_WTTMt_Y6n-hOiO4cIR6OimHqWhE1ylPwP94iKTqHkU8DcxQHpr-_GD_dnTd6HXBTxblcVchCQuwsXH2KPbvQQ2yZ77Rd9Cq-udgA2J0PA6RULroQLsk4_Cyq69T89VePa3B_8zxNpw-S3vtQVcL3CV20fvUuy0rsKsuFKXp_Nwc_Y9wDonbtklgv-YWeRdfNH5zTZHalM-7ExyvAvasIFrO-tLoaXfje7--uhy6Pc1dms1K7sGpR2gBNMRGATALDujHagtXtSyXYyhnf5OCLTez6XUzc77OoJUEgClNMwegZztnuedoqxJF1N1OCA9Cd66_1BsvY_HTLc8d5LMKkdvqIvUFTgf1DOY3eTxo-DMRVB62zt7JNBtpBRccjuMFnX9ik3v15mdjsRhOcC6doswtY6g7Hrzqt9xhW8q3W6ZldHf6OjMiKYcPtJoPWSvVC7L65-bfhEjPxXS5cWfE4wTBX4jhRgB0tDkpiSV7j0YbnATui80y-tdbOtTw39GiUKenhROnhoJtbXzdujW2SFtQ-R8wCf4ZVXjsJj2NTezY4UflygjXAHQVV687jvZ5HDAvt0aWT5ug.SzRU6IUoq-Kp-L4z2lut8g"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUser","relativePath":"test\/graphql\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":193300,"millis":0.1933,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":912800,"millis":0.9128,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":391300,"millis":0.3913,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":558900,"millis":0.5589,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":878800,"millis":0.8788,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":464655900,"millis":464.6559,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:55.020 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 258\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password111\",\"role\":\"User\",\"username\":\"userNotAdmin@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n02:34:55.483 response time in milliseconds: 463\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 155\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:34:56 GMT\n1 < x-amzn-RequestId: 33156f58-58f0-4524-80bf-1b6b56033e2e\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZvfFIejoEF-aQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a32f-79268ba4101c8c2f450b4a4d;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 0250a97a9fe8f37b6e3c4270db2dc8af.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: A9K8IkgEZQsHdV2EQ4ZuupLUvO52nG4jBZrd5zNTbiaZ0QIcm4FJ0Q==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"An account with the given email already exists.\"}]}\n"},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4015909900,"millis":4015.9099,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":836100,"millis":0.8361,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Save a new User","description":"","durationMillis":4484.365,"startTime":1621730095016,"failed":false,"refId":"[1:9]","endTime":1621730099500,"exampleIndex":-1}],"name":"Generate a new user","passedCount":1}]},{"result":{"nanos":734400,"millis":0.7344,"status":"passed"},"step":{"endLine":52,"comments":["# Check that the query fail because the password is too short"],"line":47,"prefix":"*","docString":"{\n   \"message\": \"Password does not conform to policy: Password must have symbol characters\"\n}","index":8,"text":"def expected ="},"stepLog":"02:34:59.501 over-writing existing variable 'expected' with new value: {\n   \"message\": \"Password does not conform to policy: Password must have symbol characters\"\n}\n"},{"result":{"nanos":310200,"millis":0.3102,"status":"passed"},"step":{"endLine":63,"comments":["#     * match saveUser.response.errors contains deep expected","# Try to create a new user with the role empty"],"line":57,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin2@test.com\", \n\t\"password\": \"Password_1\" \n}","index":9,"text":"def newUser ="},"stepLog":"02:34:59.502 over-writing existing variable 'newUser' with new value: { \n\t\"username\": \"userNotAdmin2@test.com\", \n\t\"password\": \"Password_1\" \n}\n"},{"result":{"nanos":5324392000,"millis":5324.392,"status":"passed"},"step":{"line":64,"prefix":"*","index":10,"text":"def saveUser = call read('SaveUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUser.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":5319.2425,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjNmNzhhZjYzLTNlN2ItNGUwZS1iYTBhLTc3Njc5ZDQ1MTBkNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwOTUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY5NSwiaWF0IjoxNjIxNzMwMDk1LCJqdGkiOiIxYjJjMGM0NS1hYjExLTRhN2MtOTU5Mi0yOWNjNTkyOTk5YTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.GlJnQGXhsMO6XD5hOmfGAKH5Gr2EnSVCQ8oz3PRmsXp1RO8SBTiwe_yS1Y0s8fnwyfXRqT4_qA9lNAexK1svBEot0xK_HkWijfPUPtKWrr6tusD8G4UUm3Yh6KybMIWlbe9CVVcj1x0Y1UFn40-lZJrquXrOYm1IAynOSAm7hw72qjlF4i9rHTjX45xUI7uSdZvF3W_G9nEfz9h-jcZ2VuN0QwaWUzCg5RZ6Qadprejs-8-30Hr_MRPms6QEv2S4GgxvuXeFbRGOW0PPzi4vKEijPK9Op6QhzAjXAsVUO3V_HvfPoBn8yToS2MKp9sh1a9e414H9Ptp0WPgQn6IV2Q","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ZaTJ2sBJQz37Z0R7LvLPAWhsHKAZfOIS7z0e4MU8dBAvA5vjOXpvHmTcgqLpg3FwHHXo8qfceo3zptcoCJVQ5e47z7HdSYc-EBDAD8c_Z9-um6UO7rvh9x_4P7QVRtP8Vak9aNOu0IWf1kSlRqO8aWvSsOrMoBs6idWZr1mTFcxiK7dHfQmLewdVihKymu3XJf3mqe8vNCYPSqE7z1eutx0-5lDqXc8YirrCOsxqb8tQcwuaUk-OnEDbKF5POwqFDWa_9pdpDaPyBG71ssCbgWEpxxAFMJseYDwMB6xxX-pXIunYvFVO3ysYJ-5lu8WSY--p1Yekc6PMbEAWQOO0ZQ.1NYCByrFCtSqMvf7.-NbblHD7CCN2a3ofUIXN1_BskDKqi2x2mBrWxCYAz26m3R2gUEiZJz5xE5nggX1xVtb4a3a0OVhvLWNkUHuUu7fo5oQU4qowBk-RA0lzY13JUd0ZxPMsBA0KSPGdA6SegFEahYXn2kFcqVFeRI-rOY0IE3VCXVdTuSoVIN77HWyigPjc6sNwGMQUqaIFYZvNdcBLeI5jcM82_TTQXMwUOJNrl1q8YO6kUbHaX4fp3CoMUqe7v-fSUmVjzxGS3vWjF8DGFhRtLfih7DJ17f7XWJGXt4dw484uaXTWYmsnIUubQnnqR40y5lXZBtiVtrWa54CitSDP13fS8JKZcgOCQyPVRYRLMfUA9LI2dDwCgZmWPaFrrSg9Nsnhrzj5zPLGxABH30Bma3DKfmhUs1upZIYpvqfWUt7E7RYAuKF98oWE9dXiVC7ffWOPCfah-cbAPm_TwnNy7jTo4s73fLnYEDZGzPPC6neNxLK2-lR118PY7pE4XGoDmP714HZJr8NEviIE6RsXFEeU_Ksi2817Auu7BhIEU3TDJ-dpoOHh6S7K-obnm-0vRnztIHIjVXrLFlQkpZAqOwBspEXICAxDBDX_OnMkA9XgatNhU7FiOpMdqb4Pl5tOp91BcZ578cWnr-TKpsan1wtUgI-_9m77Jtdqbi5hJUNpXlwA1FPDhraqb-2HZgrqi1mF5EeNQlFlkf1LeWvKH4MNOL9-CnjI3mpI2nXkUkWIwJbevB2TlaTASvlcfrK_WTTMt_Y6n-hOiO4cIR6OimHqWhE1ylPwP94iKTqHkU8DcxQHpr-_GD_dnTd6HXBTxblcVchCQuwsXH2KPbvQQ2yZ77Rd9Cq-udgA2J0PA6RULroQLsk4_Cyq69T89VePa3B_8zxNpw-S3vtQVcL3CV20fvUuy0rsKsuFKXp_Nwc_Y9wDonbtklgv-YWeRdfNH5zTZHalM-7ExyvAvasIFrO-tLoaXfje7--uhy6Pc1dms1K7sGpR2gBNMRGATALDujHagtXtSyXYyhnf5OCLTez6XUzc77OoJUEgClNMwegZztnuedoqxJF1N1OCA9Cd66_1BsvY_HTLc8d5LMKkdvqIvUFTgf1DOY3eTxo-DMRVB62zt7JNBtpBRccjuMFnX9ik3v15mdjsRhOcC6doswtY6g7Hrzqt9xhW8q3W6ZldHf6OjMiKYcPtJoPWSvVC7L65-bfhEjPxXS5cWfE4wTBX4jhRgB0tDkpiSV7j0YbnATui80y-tdbOtTw39GiUKenhROnhoJtbXzdujW2SFtQ-R8wCf4ZVXjsJj2NTezY4UflygjXAHQVV687jvZ5HDAvt0aWT5ug.SzRU6IUoq-Kp-L4z2lut8g"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUser","relativePath":"test\/graphql\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"02:34:59.502 over-writing existing variable 'saveUser' with new value: call read('SaveUser.feature') userToken\n"},{"result":{"nanos":50600,"millis":0.0506,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":259500,"millis":0.2595,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":92000,"millis":0.092,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":84800,"millis":0.0848,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":1302352700,"millis":1302.3527,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:34:59.507 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 244\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"username\":\"userNotAdmin2@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n02:35:00.808 response time in milliseconds: 1301\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 26\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:35:01 GMT\n1 < x-amzn-RequestId: 85ffea2b-e353-4028-a6ad-5467eb3f188a\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZwMFUFjoEFZew=\n1 < X-Amzn-Trace-Id: Root=1-60a9a334-0326fa8071fd6e4078efdfbd;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 5bbe14a8b2c5fa4323fe2881d040833c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: btfpaakZqzKoOJ5YHD0Pls0l0YMcSoR8jswQDGQy9swDPk3hbifIJw==\n{\"data\":{\"SaveUser\":true}}\n"},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4016143400,"millis":4016.1434,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":166500,"millis":0.1665,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Save a new User","description":"","durationMillis":5319.2425,"startTime":1621730099506,"failed":false,"refId":"[1:9]","endTime":1621730104825,"exampleIndex":-1}],"name":"Generate a new user","passedCount":1}]},{"result":{"nanos":802500,"millis":0.8025,"status":"passed"},"step":{"comments":["# The user is created and the default value fo the role is 'User'"],"line":66,"prefix":"*","index":11,"text":"match saveUser.response.errors == '#notpresent'"}},{"result":{"nanos":480300,"millis":0.4803,"status":"passed"},"step":{"endLine":77,"comments":["# Try to create a new user whith a username that already exist"],"line":70,"prefix":"*","docString":"{ \n\t\"username\": \"userNotAdmin2@test.com\", \n\t\"password\": \"Password_1\",\n\t\"role\": \"User\"\n}","index":12,"text":"def newUser ="},"stepLog":"02:35:04.828 over-writing existing variable 'newUser' with new value: { \n\t\"username\": \"userNotAdmin2@test.com\", \n\t\"password\": \"Password_1\",\n\t\"role\": \"User\"\n}\n"},{"result":{"nanos":4492893400,"millis":4492.8934,"status":"passed"},"step":{"line":78,"prefix":"*","index":13,"text":"def saveUser = call read('SaveUser.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveUser.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4488.1872,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjNmNzhhZjYzLTNlN2ItNGUwZS1iYTBhLTc3Njc5ZDQ1MTBkNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwOTUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY5NSwiaWF0IjoxNjIxNzMwMDk1LCJqdGkiOiIxYjJjMGM0NS1hYjExLTRhN2MtOTU5Mi0yOWNjNTkyOTk5YTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.GlJnQGXhsMO6XD5hOmfGAKH5Gr2EnSVCQ8oz3PRmsXp1RO8SBTiwe_yS1Y0s8fnwyfXRqT4_qA9lNAexK1svBEot0xK_HkWijfPUPtKWrr6tusD8G4UUm3Yh6KybMIWlbe9CVVcj1x0Y1UFn40-lZJrquXrOYm1IAynOSAm7hw72qjlF4i9rHTjX45xUI7uSdZvF3W_G9nEfz9h-jcZ2VuN0QwaWUzCg5RZ6Qadprejs-8-30Hr_MRPms6QEv2S4GgxvuXeFbRGOW0PPzi4vKEijPK9Op6QhzAjXAsVUO3V_HvfPoBn8yToS2MKp9sh1a9e414H9Ptp0WPgQn6IV2Q","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ZaTJ2sBJQz37Z0R7LvLPAWhsHKAZfOIS7z0e4MU8dBAvA5vjOXpvHmTcgqLpg3FwHHXo8qfceo3zptcoCJVQ5e47z7HdSYc-EBDAD8c_Z9-um6UO7rvh9x_4P7QVRtP8Vak9aNOu0IWf1kSlRqO8aWvSsOrMoBs6idWZr1mTFcxiK7dHfQmLewdVihKymu3XJf3mqe8vNCYPSqE7z1eutx0-5lDqXc8YirrCOsxqb8tQcwuaUk-OnEDbKF5POwqFDWa_9pdpDaPyBG71ssCbgWEpxxAFMJseYDwMB6xxX-pXIunYvFVO3ysYJ-5lu8WSY--p1Yekc6PMbEAWQOO0ZQ.1NYCByrFCtSqMvf7.-NbblHD7CCN2a3ofUIXN1_BskDKqi2x2mBrWxCYAz26m3R2gUEiZJz5xE5nggX1xVtb4a3a0OVhvLWNkUHuUu7fo5oQU4qowBk-RA0lzY13JUd0ZxPMsBA0KSPGdA6SegFEahYXn2kFcqVFeRI-rOY0IE3VCXVdTuSoVIN77HWyigPjc6sNwGMQUqaIFYZvNdcBLeI5jcM82_TTQXMwUOJNrl1q8YO6kUbHaX4fp3CoMUqe7v-fSUmVjzxGS3vWjF8DGFhRtLfih7DJ17f7XWJGXt4dw484uaXTWYmsnIUubQnnqR40y5lXZBtiVtrWa54CitSDP13fS8JKZcgOCQyPVRYRLMfUA9LI2dDwCgZmWPaFrrSg9Nsnhrzj5zPLGxABH30Bma3DKfmhUs1upZIYpvqfWUt7E7RYAuKF98oWE9dXiVC7ffWOPCfah-cbAPm_TwnNy7jTo4s73fLnYEDZGzPPC6neNxLK2-lR118PY7pE4XGoDmP714HZJr8NEviIE6RsXFEeU_Ksi2817Auu7BhIEU3TDJ-dpoOHh6S7K-obnm-0vRnztIHIjVXrLFlQkpZAqOwBspEXICAxDBDX_OnMkA9XgatNhU7FiOpMdqb4Pl5tOp91BcZ578cWnr-TKpsan1wtUgI-_9m77Jtdqbi5hJUNpXlwA1FPDhraqb-2HZgrqi1mF5EeNQlFlkf1LeWvKH4MNOL9-CnjI3mpI2nXkUkWIwJbevB2TlaTASvlcfrK_WTTMt_Y6n-hOiO4cIR6OimHqWhE1ylPwP94iKTqHkU8DcxQHpr-_GD_dnTd6HXBTxblcVchCQuwsXH2KPbvQQ2yZ77Rd9Cq-udgA2J0PA6RULroQLsk4_Cyq69T89VePa3B_8zxNpw-S3vtQVcL3CV20fvUuy0rsKsuFKXp_Nwc_Y9wDonbtklgv-YWeRdfNH5zTZHalM-7ExyvAvasIFrO-tLoaXfje7--uhy6Pc1dms1K7sGpR2gBNMRGATALDujHagtXtSyXYyhnf5OCLTez6XUzc77OoJUEgClNMwegZztnuedoqxJF1N1OCA9Cd66_1BsvY_HTLc8d5LMKkdvqIvUFTgf1DOY3eTxo-DMRVB62zt7JNBtpBRccjuMFnX9ik3v15mdjsRhOcC6doswtY6g7Hrzqt9xhW8q3W6ZldHf6OjMiKYcPtJoPWSvVC7L65-bfhEjPxXS5cWfE4wTBX4jhRgB0tDkpiSV7j0YbnATui80y-tdbOtTw39GiUKenhROnhoJtbXzdujW2SFtQ-R8wCf4ZVXjsJj2NTezY4UflygjXAHQVV687jvZ5HDAvt0aWT5ug.SzRU6IUoq-Kp-L4z2lut8g"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveUser","relativePath":"test\/graphql\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"},"stepLog":"02:35:04.828 over-writing existing variable 'saveUser' with new value: call read('SaveUser.feature') userToken\n"},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":254600,"millis":0.2546,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveUser = read('SaveUser.graphql')"}},{"result":{"nanos":77200,"millis":0.0772,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":77400,"millis":0.0774,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":91100,"millis":0.0911,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(querySaveUser)',  variables: '#(newUser)'  }"}},{"result":{"nanos":481658700,"millis":481.6587,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:35:04.833 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 258\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"User\",\"username\":\"userNotAdmin2@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n02:35:05.313 response time in milliseconds: 480\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 155\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:35:05 GMT\n1 < x-amzn-RequestId: 07df9050-1956-41b0-a53c-edd8ea2a2c8c\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZxCGRCjoEF7pQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a339-66cab2b7615b6a2e5f372e02;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 09e594de40cb3eb83a4bc581fa48d9e2.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: 8OSMGe-5eCKW8mIUXug3BBAU2EpyRnfrJyvecA6eQ197H5BR-64ngw==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"An account with the given email already exists.\"}]}\n"},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4005813000,"millis":4005.813,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":170800,"millis":0.1708,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}}],"executorName":"main","line":9,"name":"Save a new User","description":"","durationMillis":4488.1872,"startTime":1621730104831,"failed":false,"refId":"[1:9]","endTime":1621730109320,"exampleIndex":-1}],"name":"Generate a new user","passedCount":1}]},{"result":{"nanos":609000,"millis":0.609,"status":"passed"},"step":{"endLine":85,"comments":["# Check that the default value is 'User'"],"line":80,"prefix":"*","docString":"{\n   \"message\":\"An account with the given email already exists.\"\n}","index":14,"text":"def expected ="},"stepLog":"02:35:09.321 over-writing existing variable 'expected' with new value: {\n   \"message\":\"An account with the given email already exists.\"\n}\n"},{"result":{"nanos":273600,"millis":0.2736,"status":"passed"},"step":{"line":87,"prefix":"*","index":15,"text":"match saveUser.response.errors contains deep expected"}},{"result":{"nanos":142700,"millis":0.1427,"status":"passed"},"step":{"endLine":98,"comments":["### Create a new customers without name and surname","# It should fail because they are mandatory fields"],"line":93,"prefix":"*","docString":"{\n   \"id\": \"Customer_id\"\n}\n\"","index":16,"text":"def newCustomer ="}},{"result":{"nanos":4202725300,"millis":4202.7253,"status":"passed"},"step":{"line":99,"prefix":"*","index":17,"text":"def saveCustomer = call read('SaveCustomerWrong.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/SaveCustomerWrong.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4193.1576,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjNmNzhhZjYzLTNlN2ItNGUwZS1iYTBhLTc3Njc5ZDQ1MTBkNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwOTUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY5NSwiaWF0IjoxNjIxNzMwMDk1LCJqdGkiOiIxYjJjMGM0NS1hYjExLTRhN2MtOTU5Mi0yOWNjNTkyOTk5YTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.GlJnQGXhsMO6XD5hOmfGAKH5Gr2EnSVCQ8oz3PRmsXp1RO8SBTiwe_yS1Y0s8fnwyfXRqT4_qA9lNAexK1svBEot0xK_HkWijfPUPtKWrr6tusD8G4UUm3Yh6KybMIWlbe9CVVcj1x0Y1UFn40-lZJrquXrOYm1IAynOSAm7hw72qjlF4i9rHTjX45xUI7uSdZvF3W_G9nEfz9h-jcZ2VuN0QwaWUzCg5RZ6Qadprejs-8-30Hr_MRPms6QEv2S4GgxvuXeFbRGOW0PPzi4vKEijPK9Op6QhzAjXAsVUO3V_HvfPoBn8yToS2MKp9sh1a9e414H9Ptp0WPgQn6IV2Q","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ZaTJ2sBJQz37Z0R7LvLPAWhsHKAZfOIS7z0e4MU8dBAvA5vjOXpvHmTcgqLpg3FwHHXo8qfceo3zptcoCJVQ5e47z7HdSYc-EBDAD8c_Z9-um6UO7rvh9x_4P7QVRtP8Vak9aNOu0IWf1kSlRqO8aWvSsOrMoBs6idWZr1mTFcxiK7dHfQmLewdVihKymu3XJf3mqe8vNCYPSqE7z1eutx0-5lDqXc8YirrCOsxqb8tQcwuaUk-OnEDbKF5POwqFDWa_9pdpDaPyBG71ssCbgWEpxxAFMJseYDwMB6xxX-pXIunYvFVO3ysYJ-5lu8WSY--p1Yekc6PMbEAWQOO0ZQ.1NYCByrFCtSqMvf7.-NbblHD7CCN2a3ofUIXN1_BskDKqi2x2mBrWxCYAz26m3R2gUEiZJz5xE5nggX1xVtb4a3a0OVhvLWNkUHuUu7fo5oQU4qowBk-RA0lzY13JUd0ZxPMsBA0KSPGdA6SegFEahYXn2kFcqVFeRI-rOY0IE3VCXVdTuSoVIN77HWyigPjc6sNwGMQUqaIFYZvNdcBLeI5jcM82_TTQXMwUOJNrl1q8YO6kUbHaX4fp3CoMUqe7v-fSUmVjzxGS3vWjF8DGFhRtLfih7DJ17f7XWJGXt4dw484uaXTWYmsnIUubQnnqR40y5lXZBtiVtrWa54CitSDP13fS8JKZcgOCQyPVRYRLMfUA9LI2dDwCgZmWPaFrrSg9Nsnhrzj5zPLGxABH30Bma3DKfmhUs1upZIYpvqfWUt7E7RYAuKF98oWE9dXiVC7ffWOPCfah-cbAPm_TwnNy7jTo4s73fLnYEDZGzPPC6neNxLK2-lR118PY7pE4XGoDmP714HZJr8NEviIE6RsXFEeU_Ksi2817Auu7BhIEU3TDJ-dpoOHh6S7K-obnm-0vRnztIHIjVXrLFlQkpZAqOwBspEXICAxDBDX_OnMkA9XgatNhU7FiOpMdqb4Pl5tOp91BcZ578cWnr-TKpsan1wtUgI-_9m77Jtdqbi5hJUNpXlwA1FPDhraqb-2HZgrqi1mF5EeNQlFlkf1LeWvKH4MNOL9-CnjI3mpI2nXkUkWIwJbevB2TlaTASvlcfrK_WTTMt_Y6n-hOiO4cIR6OimHqWhE1ylPwP94iKTqHkU8DcxQHpr-_GD_dnTd6HXBTxblcVchCQuwsXH2KPbvQQ2yZ77Rd9Cq-udgA2J0PA6RULroQLsk4_Cyq69T89VePa3B_8zxNpw-S3vtQVcL3CV20fvUuy0rsKsuFKXp_Nwc_Y9wDonbtklgv-YWeRdfNH5zTZHalM-7ExyvAvasIFrO-tLoaXfje7--uhy6Pc1dms1K7sGpR2gBNMRGATALDujHagtXtSyXYyhnf5OCLTez6XUzc77OoJUEgClNMwegZztnuedoqxJF1N1OCA9Cd66_1BsvY_HTLc8d5LMKkdvqIvUFTgf1DOY3eTxo-DMRVB62zt7JNBtpBRccjuMFnX9ik3v15mdjsRhOcC6doswtY6g7Hrzqt9xhW8q3W6ZldHf6OjMiKYcPtJoPWSvVC7L65-bfhEjPxXS5cWfE4wTBX4jhRgB0tDkpiSV7j0YbnATui80y-tdbOtTw39GiUKenhROnhoJtbXzdujW2SFtQ-R8wCf4ZVXjsJj2NTezY4UflygjXAHQVV687jvZ5HDAvt0aWT5ug.SzRU6IUoq-Kp-L4z2lut8g"},"failedCount":0,"packageQualifiedName":"test.graphql.SaveCustomerWrong","relativePath":"test\/graphql\/SaveCustomerWrong.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":565000,"millis":0.565,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def querySaveCustomer = read('SaveCustomer.graphql')"}},{"result":{"nanos":436900,"millis":0.4369,"status":"passed"},"step":{"endLine":19,"comments":["# The body of the graphql request is a JSON with the generated values"],"line":14,"prefix":"*","docString":"{ \n\t\"id\": \"#(newCustomer.id)\"\n}","index":1,"text":"def newCust ="}},{"result":{"nanos":74200,"millis":0.0742,"status":"passed"},"step":{"line":21,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":82700,"millis":0.0827,"status":"passed"},"step":{"line":22,"prefix":"And","index":3,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":370800,"millis":0.3708,"status":"passed"},"step":{"line":24,"prefix":"And","index":4,"text":"request { query: '#(querySaveCustomer)',  variables: '#(newCust)'  }"}},{"result":{"nanos":187694100,"millis":187.6941,"status":"passed"},"step":{"line":25,"prefix":"When","index":5,"text":"method post"},"stepLog":"02:35:09.333 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 217\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"Customer_id\"},\"query\":\"mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\\r\\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\\r\\n} \"}\n\n02:35:09.519 response time in milliseconds: 185\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 30\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:35:10 GMT\n1 < x-amzn-RequestId: dd7093b1-5e42-4b88-afa0-bd732ccdfaf5\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZxuGixjoEFpJw=\n1 < X-Amzn-Trace-Id: Root=1-60a9a33e-1d9e5fb95a41d6bc67c958e4;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 56eff4217adb539e7a42fbab3eee2d4d.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: MMPAOs1iTf7E0Mmh9gydFhR8_8DcGYTB7-MQeSKo7qHS5VCXwwYlOQ==\n{\"data\":{\"SaveCustomer\":true}}\n"},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":26,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4003213400,"millis":4003.2134,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be saved before the next test"],"line":28,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":221100,"millis":0.2211,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":31,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":450500,"millis":0.4505,"status":"passed"},"step":{"comments":["# If the customer is saved, the response shouldn't contain a field \"error\""],"line":34,"prefix":"And","index":9,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Save a new Customer","description":"","durationMillis":4193.1576,"startTime":1621730109330,"failed":false,"refId":"[1:9]","endTime":1621730113524,"exampleIndex":-1}],"name":"Generate and save a new customer","passedCount":1}]},{"result":{"nanos":297160700,"millis":297.1607,"status":"passed"},"step":{"comments":["#    * match saveCustomer.response.errors != '#notpresent'","### List a customer by id","# Check if the customer was updated properly and it has the reference of the last user who modified"],"line":105,"prefix":"*","index":18,"text":"def listCustomerId = call read('CustomerReadModels.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/CustomerReadModels.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":288.7166,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjNmNzhhZjYzLTNlN2ItNGUwZS1iYTBhLTc3Njc5ZDQ1MTBkNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwOTUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY5NSwiaWF0IjoxNjIxNzMwMDk1LCJqdGkiOiIxYjJjMGM0NS1hYjExLTRhN2MtOTU5Mi0yOWNjNTkyOTk5YTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.GlJnQGXhsMO6XD5hOmfGAKH5Gr2EnSVCQ8oz3PRmsXp1RO8SBTiwe_yS1Y0s8fnwyfXRqT4_qA9lNAexK1svBEot0xK_HkWijfPUPtKWrr6tusD8G4UUm3Yh6KybMIWlbe9CVVcj1x0Y1UFn40-lZJrquXrOYm1IAynOSAm7hw72qjlF4i9rHTjX45xUI7uSdZvF3W_G9nEfz9h-jcZ2VuN0QwaWUzCg5RZ6Qadprejs-8-30Hr_MRPms6QEv2S4GgxvuXeFbRGOW0PPzi4vKEijPK9Op6QhzAjXAsVUO3V_HvfPoBn8yToS2MKp9sh1a9e414H9Ptp0WPgQn6IV2Q","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ZaTJ2sBJQz37Z0R7LvLPAWhsHKAZfOIS7z0e4MU8dBAvA5vjOXpvHmTcgqLpg3FwHHXo8qfceo3zptcoCJVQ5e47z7HdSYc-EBDAD8c_Z9-um6UO7rvh9x_4P7QVRtP8Vak9aNOu0IWf1kSlRqO8aWvSsOrMoBs6idWZr1mTFcxiK7dHfQmLewdVihKymu3XJf3mqe8vNCYPSqE7z1eutx0-5lDqXc8YirrCOsxqb8tQcwuaUk-OnEDbKF5POwqFDWa_9pdpDaPyBG71ssCbgWEpxxAFMJseYDwMB6xxX-pXIunYvFVO3ysYJ-5lu8WSY--p1Yekc6PMbEAWQOO0ZQ.1NYCByrFCtSqMvf7.-NbblHD7CCN2a3ofUIXN1_BskDKqi2x2mBrWxCYAz26m3R2gUEiZJz5xE5nggX1xVtb4a3a0OVhvLWNkUHuUu7fo5oQU4qowBk-RA0lzY13JUd0ZxPMsBA0KSPGdA6SegFEahYXn2kFcqVFeRI-rOY0IE3VCXVdTuSoVIN77HWyigPjc6sNwGMQUqaIFYZvNdcBLeI5jcM82_TTQXMwUOJNrl1q8YO6kUbHaX4fp3CoMUqe7v-fSUmVjzxGS3vWjF8DGFhRtLfih7DJ17f7XWJGXt4dw484uaXTWYmsnIUubQnnqR40y5lXZBtiVtrWa54CitSDP13fS8JKZcgOCQyPVRYRLMfUA9LI2dDwCgZmWPaFrrSg9Nsnhrzj5zPLGxABH30Bma3DKfmhUs1upZIYpvqfWUt7E7RYAuKF98oWE9dXiVC7ffWOPCfah-cbAPm_TwnNy7jTo4s73fLnYEDZGzPPC6neNxLK2-lR118PY7pE4XGoDmP714HZJr8NEviIE6RsXFEeU_Ksi2817Auu7BhIEU3TDJ-dpoOHh6S7K-obnm-0vRnztIHIjVXrLFlQkpZAqOwBspEXICAxDBDX_OnMkA9XgatNhU7FiOpMdqb4Pl5tOp91BcZ578cWnr-TKpsan1wtUgI-_9m77Jtdqbi5hJUNpXlwA1FPDhraqb-2HZgrqi1mF5EeNQlFlkf1LeWvKH4MNOL9-CnjI3mpI2nXkUkWIwJbevB2TlaTASvlcfrK_WTTMt_Y6n-hOiO4cIR6OimHqWhE1ylPwP94iKTqHkU8DcxQHpr-_GD_dnTd6HXBTxblcVchCQuwsXH2KPbvQQ2yZ77Rd9Cq-udgA2J0PA6RULroQLsk4_Cyq69T89VePa3B_8zxNpw-S3vtQVcL3CV20fvUuy0rsKsuFKXp_Nwc_Y9wDonbtklgv-YWeRdfNH5zTZHalM-7ExyvAvasIFrO-tLoaXfje7--uhy6Pc1dms1K7sGpR2gBNMRGATALDujHagtXtSyXYyhnf5OCLTez6XUzc77OoJUEgClNMwegZztnuedoqxJF1N1OCA9Cd66_1BsvY_HTLc8d5LMKkdvqIvUFTgf1DOY3eTxo-DMRVB62zt7JNBtpBRccjuMFnX9ik3v15mdjsRhOcC6doswtY6g7Hrzqt9xhW8q3W6ZldHf6OjMiKYcPtJoPWSvVC7L65-bfhEjPxXS5cWfE4wTBX4jhRgB0tDkpiSV7j0YbnATui80y-tdbOtTw39GiUKenhROnhoJtbXzdujW2SFtQ-R8wCf4ZVXjsJj2NTezY4UflygjXAHQVV687jvZ5HDAvt0aWT5ug.SzRU6IUoq-Kp-L4z2lut8g"},"failedCount":0,"packageQualifiedName":"test.graphql.CustomerReadModels","relativePath":"test\/graphql\/CustomerReadModels.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":676800,"millis":0.6768,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":8,"prefix":"*","index":0,"text":"def queryCustomerReadModels = read('CustomerReadModels.graphql')"}},{"result":{"nanos":96100,"millis":0.0961,"status":"passed"},"step":{"line":10,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":129300,"millis":0.1293,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":299700,"millis":0.2997,"status":"passed"},"step":{"line":13,"prefix":"And","index":3,"text":"request { query: '#(queryCustomerReadModels)'}"}},{"result":{"nanos":283481500,"millis":283.4815,"status":"passed"},"step":{"line":14,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:35:13.532 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 167\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query CustomerReadModels {\\r\\n    CustomerReadModels {\\r\\n        id\\r\\n        name\\r\\n        surname\\r\\n        photoUrl\\r\\n        userId\\r\\n    }\\r\\n}\"}\n\n02:35:13.814 response time in milliseconds: 281\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 757\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:35:14 GMT\n1 < x-amzn-RequestId: 62def882-5a9b-4b2a-9ab9-0ca4da0d5649\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZyYHyYDoEF85Q=\n1 < X-Amzn-Trace-Id: Root=1-60a9a342-031dde9141510c682aa9ac52;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9809ca806cde9d8f9a57379e55ece5b7.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: XJwxculYuZxGwPI4LRA88TvZa1yHtf963XI2Ctfsli5UtfdeSlkBWw==\n{\"data\":{\"CustomerReadModels\":[{\"photoUrl\":\"\",\"surname\":\"surname changed\",\"name\":\"name changed\",\"id\":\"CustNotAdmin2\",\"userId\":\"userNotAdmin@test.com\"},{\"photoUrl\":\"\",\"surname\":\"surname changed\",\"name\":\"name changed\",\"id\":\"Cust0\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"#(first_customer.surname)\",\"name\":\"#(first_customer.name)\",\"id\":\"#(first_customer.id)\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"Cust1\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":null,\"name\":null,\"id\":\"Customer_id\",\"userId\":\"admin@theagilemonkeys.com\"},{\"photoUrl\":\"\",\"surname\":\"Customer Surname\",\"name\":\"Cutomer Name\",\"id\":\"CustNotAdmin1\",\"userId\":\"userNotAdmin@test.com\"}]}}\n"},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":15,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":209500,"millis":0.2095,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":18,"prefix":"*","index":6,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":533600,"millis":0.5336,"status":"passed"},"step":{"comments":["# Check that the query doesn't fail"],"line":21,"prefix":"*","index":7,"text":"match response.errors == '#notpresent'"}},{"result":{"nanos":2626800,"millis":2.6268,"status":"passed"},"step":{"comments":["# Print the response"],"line":24,"prefix":"*","index":8,"text":"print response.data.CustomerReadModels"},"stepLog":"02:35:13.818 [print] [\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"surname changed\",\n    \"name\": \"name changed\",\n    \"id\": \"CustNotAdmin2\",\n    \"userId\": \"userNotAdmin@test.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"surname changed\",\n    \"name\": \"name changed\",\n    \"id\": \"Cust0\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"#(first_customer.surname)\",\n    \"name\": \"#(first_customer.name)\",\n    \"id\": \"#(first_customer.id)\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"Cust1\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": null,\n    \"name\": null,\n    \"id\": \"Customer_id\",\n    \"userId\": \"admin@theagilemonkeys.com\"\n  },\n  {\n    \"photoUrl\": \"\",\n    \"surname\": \"Customer Surname\",\n    \"name\": \"Cutomer Name\",\n    \"id\": \"CustNotAdmin1\",\n    \"userId\": \"userNotAdmin@test.com\"\n  }\n]\n \n"},{"result":{"nanos":643800,"millis":0.6438,"status":"passed"},"step":{"line":25,"prefix":"*","index":9,"text":"match response.data.CustomerReadModels contains {id: '#ignore', name: '#ignore', surname: '#ignore', photoUrl: '#ignore', userId: '#ignore' }"}}],"executorName":"main","line":6,"name":"List the customers","description":"","durationMillis":288.7166,"startTime":1621730113530,"failed":false,"refId":"[1:6]","endTime":1621730113819,"exampleIndex":-1}],"name":"List all the customers created by users in the graphql API","passedCount":1}]},{"result":{"nanos":10495200,"millis":10.4952,"status":"passed"},"step":{"line":106,"prefix":"*","index":19,"text":"match listCustomerId.response.data.CustomerReadModels != {id: '#(first_customer.id)', name: '#(newCustomer)' }"}},{"result":{"nanos":209000,"millis":0.209,"status":"passed"},"step":{"endLine":114,"comments":["### Delete a customer that doesn't exist"],"line":109,"prefix":"*","docString":"{\n   \"id\": \"customerNotExist\"\n}","index":20,"text":"def customerDelete ="}},{"result":{"nanos":4295760300,"millis":4295.7603,"status":"passed"},"step":{"line":115,"prefix":"*","index":21,"text":"def deleteCustomer = call read('DeleteCustomer.feature') userToken"},"callResults":[{"prefixedPath":"classpath:test\/graphql\/DeleteCustomer.feature","loopIndex":-1,"callDepth":2,"description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":4286.1208,"callArg":{"expiresIn":"3600","idToken":"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g","accessToken":"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjNmNzhhZjYzLTNlN2ItNGUwZS1iYTBhLTc3Njc5ZDQ1MTBkNCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE3MzAwOTUsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTczMzY5NSwiaWF0IjoxNjIxNzMwMDk1LCJqdGkiOiIxYjJjMGM0NS1hYjExLTRhN2MtOTU5Mi0yOWNjNTkyOTk5YTQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.GlJnQGXhsMO6XD5hOmfGAKH5Gr2EnSVCQ8oz3PRmsXp1RO8SBTiwe_yS1Y0s8fnwyfXRqT4_qA9lNAexK1svBEot0xK_HkWijfPUPtKWrr6tusD8G4UUm3Yh6KybMIWlbe9CVVcj1x0Y1UFn40-lZJrquXrOYm1IAynOSAm7hw72qjlF4i9rHTjX45xUI7uSdZvF3W_G9nEfz9h-jcZ2VuN0QwaWUzCg5RZ6Qadprejs-8-30Hr_MRPms6QEv2S4GgxvuXeFbRGOW0PPzi4vKEijPK9Op6QhzAjXAsVUO3V_HvfPoBn8yToS2MKp9sh1a9e414H9Ptp0WPgQn6IV2Q","tokenType":"Bearer","refreshToken":"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.ZaTJ2sBJQz37Z0R7LvLPAWhsHKAZfOIS7z0e4MU8dBAvA5vjOXpvHmTcgqLpg3FwHHXo8qfceo3zptcoCJVQ5e47z7HdSYc-EBDAD8c_Z9-um6UO7rvh9x_4P7QVRtP8Vak9aNOu0IWf1kSlRqO8aWvSsOrMoBs6idWZr1mTFcxiK7dHfQmLewdVihKymu3XJf3mqe8vNCYPSqE7z1eutx0-5lDqXc8YirrCOsxqb8tQcwuaUk-OnEDbKF5POwqFDWa_9pdpDaPyBG71ssCbgWEpxxAFMJseYDwMB6xxX-pXIunYvFVO3ysYJ-5lu8WSY--p1Yekc6PMbEAWQOO0ZQ.1NYCByrFCtSqMvf7.-NbblHD7CCN2a3ofUIXN1_BskDKqi2x2mBrWxCYAz26m3R2gUEiZJz5xE5nggX1xVtb4a3a0OVhvLWNkUHuUu7fo5oQU4qowBk-RA0lzY13JUd0ZxPMsBA0KSPGdA6SegFEahYXn2kFcqVFeRI-rOY0IE3VCXVdTuSoVIN77HWyigPjc6sNwGMQUqaIFYZvNdcBLeI5jcM82_TTQXMwUOJNrl1q8YO6kUbHaX4fp3CoMUqe7v-fSUmVjzxGS3vWjF8DGFhRtLfih7DJ17f7XWJGXt4dw484uaXTWYmsnIUubQnnqR40y5lXZBtiVtrWa54CitSDP13fS8JKZcgOCQyPVRYRLMfUA9LI2dDwCgZmWPaFrrSg9Nsnhrzj5zPLGxABH30Bma3DKfmhUs1upZIYpvqfWUt7E7RYAuKF98oWE9dXiVC7ffWOPCfah-cbAPm_TwnNy7jTo4s73fLnYEDZGzPPC6neNxLK2-lR118PY7pE4XGoDmP714HZJr8NEviIE6RsXFEeU_Ksi2817Auu7BhIEU3TDJ-dpoOHh6S7K-obnm-0vRnztIHIjVXrLFlQkpZAqOwBspEXICAxDBDX_OnMkA9XgatNhU7FiOpMdqb4Pl5tOp91BcZ578cWnr-TKpsan1wtUgI-_9m77Jtdqbi5hJUNpXlwA1FPDhraqb-2HZgrqi1mF5EeNQlFlkf1LeWvKH4MNOL9-CnjI3mpI2nXkUkWIwJbevB2TlaTASvlcfrK_WTTMt_Y6n-hOiO4cIR6OimHqWhE1ylPwP94iKTqHkU8DcxQHpr-_GD_dnTd6HXBTxblcVchCQuwsXH2KPbvQQ2yZ77Rd9Cq-udgA2J0PA6RULroQLsk4_Cyq69T89VePa3B_8zxNpw-S3vtQVcL3CV20fvUuy0rsKsuFKXp_Nwc_Y9wDonbtklgv-YWeRdfNH5zTZHalM-7ExyvAvasIFrO-tLoaXfje7--uhy6Pc1dms1K7sGpR2gBNMRGATALDujHagtXtSyXYyhnf5OCLTez6XUzc77OoJUEgClNMwegZztnuedoqxJF1N1OCA9Cd66_1BsvY_HTLc8d5LMKkdvqIvUFTgf1DOY3eTxo-DMRVB62zt7JNBtpBRccjuMFnX9ik3v15mdjsRhOcC6doswtY6g7Hrzqt9xhW8q3W6ZldHf6OjMiKYcPtJoPWSvVC7L65-bfhEjPxXS5cWfE4wTBX4jhRgB0tDkpiSV7j0YbnATui80y-tdbOtTw39GiUKenhROnhoJtbXzdujW2SFtQ-R8wCf4ZVXjsJj2NTezY4UflygjXAHQVV687jvZ5HDAvt0aWT5ug.SzRU6IUoq-Kp-L4z2lut8g"},"failedCount":0,"packageQualifiedName":"test.graphql.DeleteCustomer","relativePath":"test\/graphql\/DeleteCustomer.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":7,"prefix":"*","index":1,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"}},{"result":{"nanos":805800,"millis":0.8058,"status":"passed"},"step":{"comments":["# The query is read from a *.graphql file"],"line":11,"prefix":"*","index":0,"text":"def queryDeleteCustomer = read('DeleteCustomer.graphql')"}},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"line":13,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":205000,"millis":0.205,"status":"passed"},"step":{"line":14,"prefix":"And","index":2,"text":"header Authorization = userToken.tokenType + ' ' + userToken.idToken"}},{"result":{"nanos":566000,"millis":0.566,"status":"passed"},"step":{"line":16,"prefix":"And","index":3,"text":"request { query: '#(queryDeleteCustomer)',  variables: '#(customerDelete)'  }"}},{"result":{"nanos":279893800,"millis":279.8938,"status":"passed"},"step":{"line":17,"prefix":"When","index":4,"text":"method post"},"stepLog":"02:35:13.842 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIzZjc4YWY2My0zZTdiLTRlMGUtYmEwYS03NzY3OWQ0NTEwZDQiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTczMDA5NSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTczMzY5NSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTczMDA5NSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.sjzx2QWw01RI6QfJ9aKf1PwYbsL1tGPhvZMx1EXvQnDiQuWdneQEBzhPnn6iG98tR4aVqGq0EHU0aJP31OqbVHvZDJ454hKzdcGDwlyPEEVv46Sgj6Q0TcxBBc51EWw8MiRK6JAxAKg5yhsQLRZ1xkru9R9iXgYqwjEFqdQ8B0bCxP5WuZaV-wvNlm497B9OvqR28dqaKZEqsSGMF-lWT4RDOmBUyUnYtQ2s2TauSbcsqcng6VHfk7WFvbJDTreA3ejA0koOj4bfx47WDVgwcHARVPaxSGw9n9YqoPq2SFX6w6hRJXytOBqLNwLo1U6aOxgXdfnc2hn4x_Sgzt_a0g\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 134\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"customerNotExist\"},\"query\":\"mutation DeleteCustomer($id: ID) {\\r\\n    DeleteCustomer(input: {id: $id})\\r\\n} \\r\\n\"}\n\n02:35:14.121 response time in milliseconds: 279\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 32\n1 < Connection: keep-alive\n1 < Date: Sun, 23 May 2021 00:35:14 GMT\n1 < x-amzn-RequestId: 0bd141b0-82fe-44fc-8ed8-35264a61afba\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fwZycHAKDoEFtYQ=\n1 < X-Amzn-Trace-Id: Root=1-60a9a342-0c92be2f6d5471e85dc917e0;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 18d8826259eea2f8aa83b2a4ea085086.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD51-C2\n1 < X-Amz-Cf-Id: ZE1ESD81gNF0V0_-ZbTAxzo93TLoM8VbA1hDU4rJqisU8-qrrz5vrQ==\n{\"data\":{\"DeleteCustomer\":true}}\n"},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":18,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":4003901000,"millis":4003.901,"status":"passed"},"step":{"comments":["# Introduce a pause so the customer can be delete before the next test"],"line":20,"prefix":"*","index":6,"text":"wait(4000)"}},{"result":{"nanos":175200,"millis":0.1752,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":23,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":396000,"millis":0.396,"status":"passed"},"step":{"comments":["# If the customer was delete, the response shouldn't contain a field \"error\""],"line":26,"prefix":"And","index":8,"text":"match response.errors == '#notpresent'"}}],"executorName":"main","line":9,"name":"Delete a customer","description":"","durationMillis":4286.1208,"startTime":1621730113839,"failed":false,"refId":"[1:9]","endTime":1621730118126,"exampleIndex":-1}],"name":"Delete a customer","passedCount":1}]},{"result":{"nanos":544000,"errorMessage":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:test\/graphql\/TestFailures.feature:116","millis":0.544,"status":"failed"},"step":{"line":116,"prefix":"*","index":22,"text":"match deleteCustomer.response.errors != '#notpresent'"},"stepLog":"02:35:18.130 classpath:test\/graphql\/TestFailures.feature:116\n* match deleteCustomer.response.errors != '#notpresent'\nmatch failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:test\/graphql\/TestFailures.feature:116\n"}],"line":6,"description":"","durationMillis":23555.4638,"failed":true,"error":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:test\/graphql\/TestFailures.feature:116","executorName":"main","name":"Test if the API met the acceptance criteria for an admin user","startTime":1621730094573,"refId":"[1:6]","endTime":1621730118130,"exampleIndex":-1}],"callDepth":1,"name":"Test the graphql API for admin and not admin users in wrong cases","description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":23555.4638,"passedCount":0}]}],"line":12,"description":"","durationMillis":23561.9348,"failed":true,"error":"match failed: NOT_EQUALS\n  $ | is equal (STRING:STRING)\n  '#notpresent'\n  '#notpresent'\n\nclasspath:test\/graphql\/TestFailures.feature:116\nclasspath:test\/graphql\/Test.feature:13","executorName":"main","name":"Test if the API met the acceptance criteria in wrong cases","startTime":1621730094568,"refId":"[3:12]","endTime":1621730118131,"exampleIndex":-1}],"callDepth":0,"name":"Test the graphql API for admin and not admin users","description":"","resultDate":"2021-05-23 02:35:18 a.Â m.","durationMillis":115139.6443,"passedCount":2}