{"failedCount":1,"prefixedPath":"classpath:examples\/users\/SaveUser.feature","packageQualifiedName":"examples.users.SaveUser","loopIndex":-1,"relativePath":"examples\/users\/SaveUser.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1240900,"millis":1.2409,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"19:33:02.531 karate.env system property was: prod \n"},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":32923800,"millis":32.9238,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":783997300,"millis":783.9973,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-16 07:33:09 p. m.","durationMillis":766.9106,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1622100,"millis":1.6221,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":2876700,"millis":2.8767,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"19:33:02.605 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":3756700,"millis":3.7567,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":433300,"millis":0.4333,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":756621800,"millis":756.6218,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:33:02.789 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n19:33:03.364 response time in milliseconds: 574\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:33:03 GMT\n1 < x-amzn-RequestId: ac99c8f5-bd5d-4d08-b04a-4c2fa416d841\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbqUdEp1joEFkug=\n1 < X-Amzn-Trace-Id: Root=1-60a1574f-66d36a72658136012783e7a4\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 eae0fbb8e97278d435febe844db04b08.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: 13VdFfMOpLDjwe5YU7SyJm3120-BDdj29e7PvgZt1gAr-atCTaRPAg==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJlODEwZTE1Zi0xNDI4LTQzZDItODg5NS1mYjJmMjViNDg2ZDYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4MywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4MywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4MywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.nfDjb3gTjniQ-XdjmM_nfty6nxbcmkk1M9IxWlhJnzDZAltyWdYR1X9Irfl2fIGLVxCtARa3vKYhRYrQN9FE1_j2NOqwMA7StJBigpxRY87nZivEzPns16nXvxdQAWBeZL9oW0b-hjGXe6RqP8qDVMJxopTUlRnGorPxeCSQQX3HclbulYt-Otwkam-FU2-Oi3WIgD5-GkGvQVbCVozcRLw0MH-B-l7DYVWP1dtrNdAzXzefs9kliQ2UduoQSsgAMBlQE_MV67WjIBAotMeA1HXlrqyYwSHKogEyNQsuhDty6m2JC47uC269wJLT-Ue1T2sL1fxZR1h-bccvJjSruA\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImU4MTBlMTVmLTE0MjgtNDNkMi04ODk1LWZiMmYyNWI0ODZkNiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODYzODMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE4OTk4MywiaWF0IjoxNjIxMTg2MzgzLCJqdGkiOiIyODk2OWFjNS1mOTlkLTQzYzctYjk0NS01YWQzMGQzYmYwYzAiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.wmiT2X-1h76RN4_2LNE6KO96o2qzeIHDuUa_5t1Ve61AOsZAcGO40kKCtUQ0hUdCYviYZ5Uccuhfzc0VZ1IHXvTmXZpAxLRcq4xXoRMoejtCsuFLerqpNktTPpTPXFZkND4xTNIq3LlnlETLfCikwGyDYmiwpQhuU1xbej354Y79Pv85rDm4Gd9GLXmTs-GLpTRmqnXxbg_pDHaIyIkgAM-wLNiRw-sy2llpcisbJf_BBi8GRMJFzu0XwZUPFcCEW8B2TtOi0p7oIAY5JYl0eNc3feApTW_KeRHdA1YI4x2iuG8pez0hmETCYnWRlf9a99I5Ojn6-5X5id9qBn3ZsA\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.IDmamb9YqzMhO4WyQ-uRNY_Or_m3e-pdT25lxRzYvk4sncRz_sxAUc2q3AMoThVBCOI7WPyMPd_mCY2SluAdBAefEsbhaullxMVXICfpEfV3yKbz92lv4zgC6Kopasnnuu2Fa6_sINsH6Y6CjTu-1LtvdSJ0zi0OqtYEQKotodA4HOGEfD5kyz8IiyNOoMzUR2oa05rPU3pCDH3yhnwrlx5_8CQ0E23D3vEx7webr6BGiBxGxKZIvRq4j3GPE5ahXMyPpvHAr7dS9geOwiqQKBqICvgyo7km9vQ9CnMdfodIyqhGB4sKO6mo-24l-vO5d8b5HRBlNg2hvqkEkeey7g.x2nOXsCnDwUMkzjU.pmSdtZd55hsj4X8CGs2JaBIsrHIhR8V7JOMtJqhhvi8F1D1ElWQK6PlNBPbslROw6JJkEyvy9z2CIh0MtBo8ZWUJfXC8mXHszaxo1e19fk5DsO_nvw5r942yeIumfSfy9t3ZFoMEra_7CrZfSfSLD0-6ZrFDuRjt0E9rxu7U40hLT4pWz6fD5c6MKZcdRSNp9f3ZVr_cCy5bY3uExxqx6xe8xc_yjjY_-EldCp0xkjqo9MuFkyH6rOevw42iO0Yyb5wp5ESjEvEvYJcZKQ_63FZN0Hyq_bfUQ4HNID1RiJsy2I1njWQJDAe7sQIObFmTx8G0IxpoRB6LyVByoeDrHIidso8gk0c4mSC7L_w9ANkReS6YvtNRKRJMviGme7KaDRJbT6__05IcHSPWIKHsh1uyXQ3-3hTqQL3yU2783eSyMKhfOcda3u3JFj3NzgZbbnp7RyfiS9jEuUKE-0WyfdVsgdmE6rHaD1hf4ahSJcpDuxy1-UGBOS4evvPN8dhx-p1CsXHPWTrk09FncxhFO0UMjQeiwdP1NtYkBmGL3L3as3Ehgtbtt9CjQVYkLZKmgMZNksswKn3eAbpR5j4dl3B7mYwXVIDtDJily5iRyB209cOmo-qRP55UBlxzs0LT3ohJ1OKRuSxHFEsxo4iUrd29nqTN1AHTBTKGPE3SDZmHHpoGd8q8kvObzL7qZY7LbErHAppUtzQm6wibS9DhHCQiTcz4v51JVb-oWfJ9OMeTCzvSNYUUqPAhPvUdQ-g_M0LZy9a1UE0CNtipfzyBfWd0N8x2JzGS6uJJWyIEELPfkPd997k-09IWwhIzjAArt7R38lWR0iv_fyOfgaVWI4KOfuaYVnokQT17aoR0ZdEhbE2Q4GxPsmbwdJP10mgxzSKtuIz4_Qw6pHbhD7H8r8ratNkEfDjNKnV4clIv_AZBfhst07vucma3JmCF-LJB6all18JIRYUx95b3lg-t-52g_b7KmJTspXjNmEB3JaCTKdoVwcCX8iUt6WfFQDjPc187dCOhaiJmA_ga576NyzbTaj8wZWKlTMQQOt3cSySUVvLSYBTK_WNAB-861Kz01DYDzw5udKnqOIRZ78igW5VTTaf1dmxz2ZT1d1nPLKh_jr8uxgQSW5Gp_1JbPoEzS1002QqJXTn2PVON89Uu73XNgXEk-RruoMfb8g-VlSHjyT2wlSkRcMHhKs9sPinB1nOJVimKTLf2Mt-9e0AaeOgWF8LHKKGOYiuVRwj6qxlqWcRkdz6bAx72_drUPfNcfubc8IIuxws1oHcZNi1W-xd98KDmx_B0-k3w6VkDifwHnIwShHksRkXB2Y00CPQ.SvwFgrZzInU5YsKf5vUdWw\"}\n"},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":760700,"millis":0.7607,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":779100,"millis":0.7791,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"19:33:03.367 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJlODEwZTE1Zi0xNDI4LTQzZDItODg5NS1mYjJmMjViNDg2ZDYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4MywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4MywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4MywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.nfDjb3gTjniQ-XdjmM_nfty6nxbcmkk1M9IxWlhJnzDZAltyWdYR1X9Irfl2fIGLVxCtARa3vKYhRYrQN9FE1_j2NOqwMA7StJBigpxRY87nZivEzPns16nXvxdQAWBeZL9oW0b-hjGXe6RqP8qDVMJxopTUlRnGorPxeCSQQX3HclbulYt-Otwkam-FU2-Oi3WIgD5-GkGvQVbCVozcRLw0MH-B-l7DYVWP1dtrNdAzXzefs9kliQ2UduoQSsgAMBlQE_MV67WjIBAotMeA1HXlrqyYwSHKogEyNQsuhDty6m2JC47uC269wJLT-Ue1T2sL1fxZR1h-bccvJjSruA \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":766.9106,"startTime":1621186382600,"failed":false,"refId":"[1:6]","endTime":1621186383367,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1508600,"millis":1.5086,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"19:33:03.371 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJlODEwZTE1Zi0xNDI4LTQzZDItODg5NS1mYjJmMjViNDg2ZDYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4MywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4MywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4MywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.nfDjb3gTjniQ-XdjmM_nfty6nxbcmkk1M9IxWlhJnzDZAltyWdYR1X9Irfl2fIGLVxCtARa3vKYhRYrQN9FE1_j2NOqwMA7StJBigpxRY87nZivEzPns16nXvxdQAWBeZL9oW0b-hjGXe6RqP8qDVMJxopTUlRnGorPxeCSQQX3HclbulYt-Otwkam-FU2-Oi3WIgD5-GkGvQVbCVozcRLw0MH-B-l7DYVWP1dtrNdAzXzefs9kliQ2UduoQSsgAMBlQE_MV67WjIBAotMeA1HXlrqyYwSHKogEyNQsuhDty6m2JC47uC269wJLT-Ue1T2sL1fxZR1h-bccvJjSruA\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImU4MTBlMTVmLTE0MjgtNDNkMi04ODk1LWZiMmYyNWI0ODZkNiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODYzODMsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE4OTk4MywiaWF0IjoxNjIxMTg2MzgzLCJqdGkiOiIyODk2OWFjNS1mOTlkLTQzYzctYjk0NS01YWQzMGQzYmYwYzAiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.wmiT2X-1h76RN4_2LNE6KO96o2qzeIHDuUa_5t1Ve61AOsZAcGO40kKCtUQ0hUdCYviYZ5Uccuhfzc0VZ1IHXvTmXZpAxLRcq4xXoRMoejtCsuFLerqpNktTPpTPXFZkND4xTNIq3LlnlETLfCikwGyDYmiwpQhuU1xbej354Y79Pv85rDm4Gd9GLXmTs-GLpTRmqnXxbg_pDHaIyIkgAM-wLNiRw-sy2llpcisbJf_BBi8GRMJFzu0XwZUPFcCEW8B2TtOi0p7oIAY5JYl0eNc3feApTW_KeRHdA1YI4x2iuG8pez0hmETCYnWRlf9a99I5Ojn6-5X5id9qBn3ZsA\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.IDmamb9YqzMhO4WyQ-uRNY_Or_m3e-pdT25lxRzYvk4sncRz_sxAUc2q3AMoThVBCOI7WPyMPd_mCY2SluAdBAefEsbhaullxMVXICfpEfV3yKbz92lv4zgC6Kopasnnuu2Fa6_sINsH6Y6CjTu-1LtvdSJ0zi0OqtYEQKotodA4HOGEfD5kyz8IiyNOoMzUR2oa05rPU3pCDH3yhnwrlx5_8CQ0E23D3vEx7webr6BGiBxGxKZIvRq4j3GPE5ahXMyPpvHAr7dS9geOwiqQKBqICvgyo7km9vQ9CnMdfodIyqhGB4sKO6mo-24l-vO5d8b5HRBlNg2hvqkEkeey7g.x2nOXsCnDwUMkzjU.pmSdtZd55hsj4X8CGs2JaBIsrHIhR8V7JOMtJqhhvi8F1D1ElWQK6PlNBPbslROw6JJkEyvy9z2CIh0MtBo8ZWUJfXC8mXHszaxo1e19fk5DsO_nvw5r942yeIumfSfy9t3ZFoMEra_7CrZfSfSLD0-6ZrFDuRjt0E9rxu7U40hLT4pWz6fD5c6MKZcdRSNp9f3ZVr_cCy5bY3uExxqx6xe8xc_yjjY_-EldCp0xkjqo9MuFkyH6rOevw42iO0Yyb5wp5ESjEvEvYJcZKQ_63FZN0Hyq_bfUQ4HNID1RiJsy2I1njWQJDAe7sQIObFmTx8G0IxpoRB6LyVByoeDrHIidso8gk0c4mSC7L_w9ANkReS6YvtNRKRJMviGme7KaDRJbT6__05IcHSPWIKHsh1uyXQ3-3hTqQL3yU2783eSyMKhfOcda3u3JFj3NzgZbbnp7RyfiS9jEuUKE-0WyfdVsgdmE6rHaD1hf4ahSJcpDuxy1-UGBOS4evvPN8dhx-p1CsXHPWTrk09FncxhFO0UMjQeiwdP1NtYkBmGL3L3as3Ehgtbtt9CjQVYkLZKmgMZNksswKn3eAbpR5j4dl3B7mYwXVIDtDJily5iRyB209cOmo-qRP55UBlxzs0LT3ohJ1OKRuSxHFEsxo4iUrd29nqTN1AHTBTKGPE3SDZmHHpoGd8q8kvObzL7qZY7LbErHAppUtzQm6wibS9DhHCQiTcz4v51JVb-oWfJ9OMeTCzvSNYUUqPAhPvUdQ-g_M0LZy9a1UE0CNtipfzyBfWd0N8x2JzGS6uJJWyIEELPfkPd997k-09IWwhIzjAArt7R38lWR0iv_fyOfgaVWI4KOfuaYVnokQT17aoR0ZdEhbE2Q4GxPsmbwdJP10mgxzSKtuIz4_Qw6pHbhD7H8r8ratNkEfDjNKnV4clIv_AZBfhst07vucma3JmCF-LJB6all18JIRYUx95b3lg-t-52g_b7KmJTspXjNmEB3JaCTKdoVwcCX8iUt6WfFQDjPc187dCOhaiJmA_ga576NyzbTaj8wZWKlTMQQOt3cSySUVvLSYBTK_WNAB-861Kz01DYDzw5udKnqOIRZ78igW5VTTaf1dmxz2ZT1d1nPLKh_jr8uxgQSW5Gp_1JbPoEzS1002QqJXTn2PVON89Uu73XNgXEk-RruoMfb8g-VlSHjyT2wlSkRcMHhKs9sPinB1nOJVimKTLf2Mt-9e0AaeOgWF8LHKKGOYiuVRwj6qxlqWcRkdz6bAx72_drUPfNcfubc8IIuxws1oHcZNi1W-xd98KDmx_B0-k3w6VkDifwHnIwShHksRkXB2Y00CPQ.SvwFgrZzInU5YsKf5vUdWw\"\n}\n \n"},{"result":{"nanos":979600,"millis":0.9796,"status":"passed"},"step":{"comments":["# Create the Authorization header"],"background":true,"line":18,"prefix":"*","index":5,"text":"def idToken = signIn.response.idToken"}},{"result":{"nanos":7864800,"millis":7.8648,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":6,"text":"def user_header = \"Bearer \" + idToken"}},{"result":{"nanos":957500,"millis":0.9575,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":7,"text":"print user_header"},"stepLog":"19:33:03.381 [print] Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJlODEwZTE1Zi0xNDI4LTQzZDItODg5NS1mYjJmMjViNDg2ZDYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4MywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4MywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4MywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.nfDjb3gTjniQ-XdjmM_nfty6nxbcmkk1M9IxWlhJnzDZAltyWdYR1X9Irfl2fIGLVxCtARa3vKYhRYrQN9FE1_j2NOqwMA7StJBigpxRY87nZivEzPns16nXvxdQAWBeZL9oW0b-hjGXe6RqP8qDVMJxopTUlRnGorPxeCSQQX3HclbulYt-Otwkam-FU2-Oi3WIgD5-GkGvQVbCVozcRLw0MH-B-l7DYVWP1dtrNdAzXzefs9kliQ2UduoQSsgAMBlQE_MV67WjIBAotMeA1HXlrqyYwSHKogEyNQsuhDty6m2JC47uC269wJLT-Ue1T2sL1fxZR1h-bccvJjSruA \n"},{"result":{"nanos":978700,"millis":0.9787,"status":"passed"},"step":{"endLine":28,"comments":["# Get the query from a .feature fiel"],"line":25,"prefix":"*","docString":"read('UserReadModels.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":399100,"millis":0.3991,"status":"passed"},"step":{"line":30,"prefix":"Given","index":1,"text":"path 'graphql'"}},{"result":{"nanos":1476700,"millis":1.4767,"status":"passed"},"step":{"line":31,"prefix":"And","index":2,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":285400,"millis":0.2854,"status":"passed"},"step":{"line":32,"prefix":"And","index":3,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":364100,"millis":0.3641,"status":"passed"},"step":{"line":33,"prefix":"And","index":4,"text":"request { query: '#(query)' }"}},{"result":{"nanos":164908200,"millis":164.9082,"status":"passed"},"step":{"line":34,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:33:03.386 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJlODEwZTE1Zi0xNDI4LTQzZDItODg5NS1mYjJmMjViNDg2ZDYiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4MywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4MywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4MywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.nfDjb3gTjniQ-XdjmM_nfty6nxbcmkk1M9IxWlhJnzDZAltyWdYR1X9Irfl2fIGLVxCtARa3vKYhRYrQN9FE1_j2NOqwMA7StJBigpxRY87nZivEzPns16nXvxdQAWBeZL9oW0b-hjGXe6RqP8qDVMJxopTUlRnGorPxeCSQQX3HclbulYt-Otwkam-FU2-Oi3WIgD5-GkGvQVbCVozcRLw0MH-B-l7DYVWP1dtrNdAzXzefs9kliQ2UduoQSsgAMBlQE_MV67WjIBAotMeA1HXlrqyYwSHKogEyNQsuhDty6m2JC47uC269wJLT-Ue1T2sL1fxZR1h-bccvJjSruA\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 102\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"query\":\"query UserReadModels {\\r\\n    UserReadModels {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n19:33:03.550 response time in milliseconds: 163\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 380\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:33:04 GMT\n1 < x-amzn-RequestId: 5c9310d2-6c4a-4e83-a217-b3b22f630dba\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbqUhEKMDoEFRDQ=\n1 < X-Amzn-Trace-Id: Root=1-60a15750-5d2d349275069d727b56f253;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 366c47f12008eb7cc950e42132b7422f.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: vxRMItsj0s4jlCmFseVHTl4sL2RaXCg-XRGQzPjhOUDhinacbUiVQQ==\n{\"data\":{\"UserReadModels\":[{\"role\":\"User\",\"id\":\"userTest2@test8.com\"},{\"role\":\"User\",\"id\":\"user3@test.com\"},{\"role\":\"User\",\"id\":\"user7@test.com\"},{\"role\":\"User\",\"id\":\"user6@test.com\"},{\"role\":\"admin\",\"id\":\"userTest3@test.com\"},{\"role\":\"User\",\"id\":\"user4@test.com\"},{\"role\":\"User\",\"id\":\"user8@test.com\"},{\"role\":\"User\",\"id\":\"user5@test.com\"},{\"role\":\"User\",\"id\":\"user@test.com\"}]}}\n"},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":35,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":3364700,"millis":3.3647,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":38,"prefix":"*","index":7,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":2765200,"millis":2.7652,"status":"passed"},"step":{"comments":["# if the user can't be created, the response contains a field \"error\" and it is printed"],"line":41,"prefix":"*","index":8,"text":"def message = response.errors"}},{"result":{"nanos":1356500,"millis":1.3565,"status":"passed"},"step":{"line":42,"prefix":"*","index":9,"text":"print message"},"stepLog":"19:33:03.558 [print] null \n"}],"executorName":"main","line":22,"name":"List all the users. Only an admin user can","description":"","durationMillis":1005.4117,"startTime":1621186382419,"failed":false,"refId":"[1:22]","endTime":1621186383558,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":327600,"millis":0.3276,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"19:33:03.569 karate.env system property was: prod \n"},{"result":{"nanos":10600,"millis":0.0106,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":1303000,"millis":1.303,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":338127200,"millis":338.1272,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-16 07:33:09 p. m.","durationMillis":325.8445,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":1125700,"millis":1.1257,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":896800,"millis":0.8968,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"19:33:03.583 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":368800,"millis":0.3688,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":81300,"millis":0.0813,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":321851900,"millis":321.8519,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:33:03.586 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n19:33:03.904 response time in milliseconds: 316\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:33:04 GMT\n1 < x-amzn-RequestId: 8f47992e-6b25-4139-980d-8aae0b732cef\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbqUjFOLjoEF8qQ=\n1 < X-Amzn-Trace-Id: Root=1-60a15750-28e3de1c041f96b306242f69\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 17a71b4bf5d35b398b0fd90a5cd154a7.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: QohehkgxMLAYkHC75I7AGYW5nhX3LJXEjmoyFHj22n2YkqSKJTkN7w==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDliMjJhMi1iNjY2LTQ4NTktOTQ2OC01YjA1MGNhYzdiZTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.ZG4SN9kg0qbuwJky37N21lUjn-71Cr9l47TzkvZ3GbR_gtcp3WKgoVU6eE-R5_pVqmdLntvZpGvg3opq94VxZdJfS64eNnZoHfxFc9gMWg-ohQmPNamERMYJ1nBuzmj6HSe5jWyVeo36XGrU2xhyoJKIDaat150eCBSdn7KSRGLwfnySGc6Y5yxO9zhqg-tQtNZjHhq7JZOlTU-nLkmjnNHUed7yTQl8rPRLPbOtHi8auVhvvQJ0g3hsXFTQmI6B6KmPOIVUe2j_YdiPkvCq1Kqs4xFwS9sANO2EPbMHNpv_ECb9aow3o3oQpvWBzFI2oThJFIf8w-LQ5PglrMpM6Q\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImE0OWIyMmEyLWI2NjYtNDg1OS05NDY4LTViMDUwY2FjN2JlMSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODYzODQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE4OTk4NCwiaWF0IjoxNjIxMTg2Mzg0LCJqdGkiOiIxNTgzOTk0Yi1mZjQxLTRhMGMtYjJmZS0wZjQ3Y2QyNzQ0NTkiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.uYT4FiEWO4barwCQ6Lf2PDO0CyAnCRs2HMHczOgzj6e3mXypkcpGctWsZP4tefnEgMsTaSBN2DrjLBONbMjzeSJYr-RC0xl8nbMFGeuvUfqtlYx9-kS5IglwwDQTdr2YVqxHuicXJ1Sm6ku7UGWVSqkl_RpY5CDh9YAg_25p3Kus8384Z5Pc3YL1xK0ko08uIBndWIicyAjW601A05dYYVLFq3fo9hnH_idwMSKvK_N5DG9zwRnfwbhJwAwSf_M_d2pKhC_L7VJfymx9HNGbDyyy3boqc3wtHBFWicTkWoGXJTGG0gflIXM9BVLhFIoVodK9wEMY6p19TUMdCVWzXA\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.sMny4stIRoq7zpZibqAx1EHNvjuNNBBJLxrV5AGReXC1jtEK2Tk05CXsMDt3dKJsiedogC1wVEv2eF2TkMoTV0-7aZlMgQPs9L5jXYMfud75y4rW4psyenW2bu6kxggUBcr8H06LAjynlMRM3Z1MIlvQBAC-1yGaSTsJkNCW46Q4MMiVMqDC07JLAnDdZ9WKJnez2HPvdpEOzfRm8TQ4ZNC9uftvrBHvuSSKFCHUi2g_HV8PSeqIF1pv77mVmaNvmcodQb2mcAomuUH4nRKyKaHT6j1TWtFDwyt--mGuRBL8bn1FEUc47_boKsDU5-ll_LGO0kQQ1Bs1hIh5HBkukA.OtKthn8JNOSpfCI4.8nq0uLnPGxqQHPZV7hYoADyBafly2qVFuAjtr6PSBY_7EKZjTlD8fOa4q-joBeBTkayL9bNqoVPaY321yQOuMtRWjVkWTrtlx16qwfYkcTexTLd5SZSmivNChtT_JhjBTozZ5bVffYHYTJOS6hI6iOt6zqJhgltyNWNiWScR84MgHfBDw_HvpbgEI4veh3zMNKep3adLtYlTpvwPl6u_N0d-LJ0SHpBiCyiiGTFKlBHZUUnv-HhDm8tZOCap2gHlcFv6BEQgLapjBd4KSEW42s2tn07C2buoSY0ZhnB2DsPi1HKHOImrh_dLHOpvjMR7fyFCLeymE-wvFkw45GARcAlb-lagU7FPfQ_3fKSnftzuKJeh4Lkam6rw-yx1DmvTI4QygYqr2aVgRN_C23gVsI40RDo-D_nWMNL7bAIImBpE8uaReafVqWUbyY3ygHlGfwjTurVlFcMMHNegqscQNX5jeh22hwjBCyBKIAzwnaiKz8syKaK-dk7m64wANmcTo00Mc5t90-SqNbjf6UwsQW4pzbgepiaiQ3zL43ErYG8NH2UJt-FUsgcMS9xVzcsa_Ijk70MCSR6Obw8btJiTpKITnGzHgCAR3pkiD3a7fM0NMYuqHrGrqd--8kBDTjXHFeOjjAVsfVYy5eTTON7pOMrboAU9B7fZYCPmTzqRPvK9Of1xR7O-AwyAeVQV8ictnxqUXbUkmKsgi-Kmmh1RkB1K37AXcfeEP3nzK-w9O6DOSbDKLcmMRLRp40IRAPf6ZEIBL3DK1TAOWh0UwjF0ebxfJz0HZ3Oq-dPpF3r06whWY0FrAzOXuSL67zMiAOwXS9vwfG5dfibnGDdeKClx1WPh0b9GWfnpjZUV9Q2jaIgAdUQzI8XQ2q37Bex3L98mdNaB-SU9JuhmIqL0T84wg0epJI8GdYPyRD3jOUrqPTFO-I-YQVMyNa9cbkhbqGjTrmE18FyYpQQwdkpulVWhR465oU5RiVvH17S8sFmBrlYAb2HUnAackoyMq_i1Lddzppha_d5XjjeRLtE6-rN_PxV5AP4nnDCp8aWLgOA3LckMIrhNtu9ZjkGllvkJ4tRDh3FF8h6l6xwKyVBcEt1VDfG702uQ4YmyOsCV3ZMzvuNdQv1wQwe3SGgN9xRJ6PlK-WjcV2MaABMF6XgRYSiNrq7ptexsqj0kAg3vo7oy_GAak3wJFmSMMuutMYeOq05E9dKGWcXzKxY1emJJspsc80JzLlJbG4DJrHmQZqnhaNtbB2hPkVv_cChtW9U7ajyq0I3ysir2utWUj4K4FLgpYtGZtJq7i4Z6RTUIjjSdDsIZ94YK_sXtadb5W7Na4U8.rb_0lPrTkoOUrGAPSWer4Q\"}\n"},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":594600,"millis":0.5946,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":884600,"millis":0.8846,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"19:33:03.908 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDliMjJhMi1iNjY2LTQ4NTktOTQ2OC01YjA1MGNhYzdiZTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.ZG4SN9kg0qbuwJky37N21lUjn-71Cr9l47TzkvZ3GbR_gtcp3WKgoVU6eE-R5_pVqmdLntvZpGvg3opq94VxZdJfS64eNnZoHfxFc9gMWg-ohQmPNamERMYJ1nBuzmj6HSe5jWyVeo36XGrU2xhyoJKIDaat150eCBSdn7KSRGLwfnySGc6Y5yxO9zhqg-tQtNZjHhq7JZOlTU-nLkmjnNHUed7yTQl8rPRLPbOtHi8auVhvvQJ0g3hsXFTQmI6B6KmPOIVUe2j_YdiPkvCq1Kqs4xFwS9sANO2EPbMHNpv_ECb9aow3o3oQpvWBzFI2oThJFIf8w-LQ5PglrMpM6Q \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":325.8445,"startTime":1621186383581,"failed":false,"refId":"[1:6]","endTime":1621186383908,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":2723900,"millis":2.7239,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"19:33:03.913 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDliMjJhMi1iNjY2LTQ4NTktOTQ2OC01YjA1MGNhYzdiZTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.ZG4SN9kg0qbuwJky37N21lUjn-71Cr9l47TzkvZ3GbR_gtcp3WKgoVU6eE-R5_pVqmdLntvZpGvg3opq94VxZdJfS64eNnZoHfxFc9gMWg-ohQmPNamERMYJ1nBuzmj6HSe5jWyVeo36XGrU2xhyoJKIDaat150eCBSdn7KSRGLwfnySGc6Y5yxO9zhqg-tQtNZjHhq7JZOlTU-nLkmjnNHUed7yTQl8rPRLPbOtHi8auVhvvQJ0g3hsXFTQmI6B6KmPOIVUe2j_YdiPkvCq1Kqs4xFwS9sANO2EPbMHNpv_ECb9aow3o3oQpvWBzFI2oThJFIf8w-LQ5PglrMpM6Q\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImE0OWIyMmEyLWI2NjYtNDg1OS05NDY4LTViMDUwY2FjN2JlMSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODYzODQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE4OTk4NCwiaWF0IjoxNjIxMTg2Mzg0LCJqdGkiOiIxNTgzOTk0Yi1mZjQxLTRhMGMtYjJmZS0wZjQ3Y2QyNzQ0NTkiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.uYT4FiEWO4barwCQ6Lf2PDO0CyAnCRs2HMHczOgzj6e3mXypkcpGctWsZP4tefnEgMsTaSBN2DrjLBONbMjzeSJYr-RC0xl8nbMFGeuvUfqtlYx9-kS5IglwwDQTdr2YVqxHuicXJ1Sm6ku7UGWVSqkl_RpY5CDh9YAg_25p3Kus8384Z5Pc3YL1xK0ko08uIBndWIicyAjW601A05dYYVLFq3fo9hnH_idwMSKvK_N5DG9zwRnfwbhJwAwSf_M_d2pKhC_L7VJfymx9HNGbDyyy3boqc3wtHBFWicTkWoGXJTGG0gflIXM9BVLhFIoVodK9wEMY6p19TUMdCVWzXA\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.sMny4stIRoq7zpZibqAx1EHNvjuNNBBJLxrV5AGReXC1jtEK2Tk05CXsMDt3dKJsiedogC1wVEv2eF2TkMoTV0-7aZlMgQPs9L5jXYMfud75y4rW4psyenW2bu6kxggUBcr8H06LAjynlMRM3Z1MIlvQBAC-1yGaSTsJkNCW46Q4MMiVMqDC07JLAnDdZ9WKJnez2HPvdpEOzfRm8TQ4ZNC9uftvrBHvuSSKFCHUi2g_HV8PSeqIF1pv77mVmaNvmcodQb2mcAomuUH4nRKyKaHT6j1TWtFDwyt--mGuRBL8bn1FEUc47_boKsDU5-ll_LGO0kQQ1Bs1hIh5HBkukA.OtKthn8JNOSpfCI4.8nq0uLnPGxqQHPZV7hYoADyBafly2qVFuAjtr6PSBY_7EKZjTlD8fOa4q-joBeBTkayL9bNqoVPaY321yQOuMtRWjVkWTrtlx16qwfYkcTexTLd5SZSmivNChtT_JhjBTozZ5bVffYHYTJOS6hI6iOt6zqJhgltyNWNiWScR84MgHfBDw_HvpbgEI4veh3zMNKep3adLtYlTpvwPl6u_N0d-LJ0SHpBiCyiiGTFKlBHZUUnv-HhDm8tZOCap2gHlcFv6BEQgLapjBd4KSEW42s2tn07C2buoSY0ZhnB2DsPi1HKHOImrh_dLHOpvjMR7fyFCLeymE-wvFkw45GARcAlb-lagU7FPfQ_3fKSnftzuKJeh4Lkam6rw-yx1DmvTI4QygYqr2aVgRN_C23gVsI40RDo-D_nWMNL7bAIImBpE8uaReafVqWUbyY3ygHlGfwjTurVlFcMMHNegqscQNX5jeh22hwjBCyBKIAzwnaiKz8syKaK-dk7m64wANmcTo00Mc5t90-SqNbjf6UwsQW4pzbgepiaiQ3zL43ErYG8NH2UJt-FUsgcMS9xVzcsa_Ijk70MCSR6Obw8btJiTpKITnGzHgCAR3pkiD3a7fM0NMYuqHrGrqd--8kBDTjXHFeOjjAVsfVYy5eTTON7pOMrboAU9B7fZYCPmTzqRPvK9Of1xR7O-AwyAeVQV8ictnxqUXbUkmKsgi-Kmmh1RkB1K37AXcfeEP3nzK-w9O6DOSbDKLcmMRLRp40IRAPf6ZEIBL3DK1TAOWh0UwjF0ebxfJz0HZ3Oq-dPpF3r06whWY0FrAzOXuSL67zMiAOwXS9vwfG5dfibnGDdeKClx1WPh0b9GWfnpjZUV9Q2jaIgAdUQzI8XQ2q37Bex3L98mdNaB-SU9JuhmIqL0T84wg0epJI8GdYPyRD3jOUrqPTFO-I-YQVMyNa9cbkhbqGjTrmE18FyYpQQwdkpulVWhR465oU5RiVvH17S8sFmBrlYAb2HUnAackoyMq_i1Lddzppha_d5XjjeRLtE6-rN_PxV5AP4nnDCp8aWLgOA3LckMIrhNtu9ZjkGllvkJ4tRDh3FF8h6l6xwKyVBcEt1VDfG702uQ4YmyOsCV3ZMzvuNdQv1wQwe3SGgN9xRJ6PlK-WjcV2MaABMF6XgRYSiNrq7ptexsqj0kAg3vo7oy_GAak3wJFmSMMuutMYeOq05E9dKGWcXzKxY1emJJspsc80JzLlJbG4DJrHmQZqnhaNtbB2hPkVv_cChtW9U7ajyq0I3ysir2utWUj4K4FLgpYtGZtJq7i4Z6RTUIjjSdDsIZ94YK_sXtadb5W7Na4U8.rb_0lPrTkoOUrGAPSWer4Q\"\n}\n \n"},{"result":{"nanos":956100,"millis":0.9561,"status":"passed"},"step":{"comments":["# Create the Authorization header"],"background":true,"line":18,"prefix":"*","index":5,"text":"def idToken = signIn.response.idToken"}},{"result":{"nanos":560100,"millis":0.5601,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":6,"text":"def user_header = \"Bearer \" + idToken"}},{"result":{"nanos":886400,"millis":0.8864,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":7,"text":"print user_header"},"stepLog":"19:33:03.915 [print] Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDliMjJhMi1iNjY2LTQ4NTktOTQ2OC01YjA1MGNhYzdiZTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.ZG4SN9kg0qbuwJky37N21lUjn-71Cr9l47TzkvZ3GbR_gtcp3WKgoVU6eE-R5_pVqmdLntvZpGvg3opq94VxZdJfS64eNnZoHfxFc9gMWg-ohQmPNamERMYJ1nBuzmj6HSe5jWyVeo36XGrU2xhyoJKIDaat150eCBSdn7KSRGLwfnySGc6Y5yxO9zhqg-tQtNZjHhq7JZOlTU-nLkmjnNHUed7yTQl8rPRLPbOtHi8auVhvvQJ0g3hsXFTQmI6B6KmPOIVUe2j_YdiPkvCq1Kqs4xFwS9sANO2EPbMHNpv_ECb9aow3o3oQpvWBzFI2oThJFIf8w-LQ5PglrMpM6Q \n"},{"result":{"nanos":1744300,"millis":1.7443,"status":"passed"},"step":{"endLine":49,"line":46,"prefix":"*","docString":"read('SaveUser.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":1692300,"millis":1.6923,"status":"passed"},"step":{"comments":["# JSON file with the new user's datas"],"line":51,"prefix":"*","index":1,"text":"def user_datas = read('NewUser.json')"}},{"result":{"nanos":346500,"millis":0.3465,"status":"passed"},"step":{"line":53,"prefix":"Given","index":2,"text":"path 'graphql'"}},{"result":{"nanos":607000,"millis":0.607,"status":"passed"},"step":{"line":54,"prefix":"And","index":3,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":1086100,"millis":1.0861,"status":"passed"},"step":{"line":55,"prefix":"And","index":4,"text":"request { query: '#(query)',  variables: '#(user_datas)'}"}},{"result":{"nanos":487495600,"millis":487.4956,"status":"passed"},"step":{"line":56,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:33:03.924 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJhNDliMjJhMi1iNjY2LTQ4NTktOTQ2OC01YjA1MGNhYzdiZTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4NCwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4NCwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4NCwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.ZG4SN9kg0qbuwJky37N21lUjn-71Cr9l47TzkvZ3GbR_gtcp3WKgoVU6eE-R5_pVqmdLntvZpGvg3opq94VxZdJfS64eNnZoHfxFc9gMWg-ohQmPNamERMYJ1nBuzmj6HSe5jWyVeo36XGrU2xhyoJKIDaat150eCBSdn7KSRGLwfnySGc6Y5yxO9zhqg-tQtNZjHhq7JZOlTU-nLkmjnNHUed7yTQl8rPRLPbOtHi8auVhvvQJ0g3hsXFTQmI6B6KmPOIVUe2j_YdiPkvCq1Kqs4xFwS9sANO2EPbMHNpv_ECb9aow3o3oQpvWBzFI2oThJFIf8w-LQ5PglrMpM6Q\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 250\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"password\":\"Password_1\",\"role\":\"User\",\"username\":\"user8@test.com\"},\"query\":\"mutation SaveUser($username: String, $password: String, $role: String) {\\r\\n    SaveUser(input: {username: $username, password: $password, role: $role})\\r\\n} \"}\n\n19:33:04.408 response time in milliseconds: 483\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 155\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:33:04 GMT\n1 < x-amzn-RequestId: dbe9dbf8-1910-4ad2-9833-4c93bde044e5\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbqUnGubjoEFZOw=\n1 < X-Amzn-Trace-Id: Root=1-60a15750-07435ed656a43fbe71d7216f;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 4f1fb18f52f7f3f86e0c73a59088e8ad.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: QxXI9WDL3DQAO1Y4cIlOA64MLzNeaxqNL25Y9o5nCxsMnbL60Af4kQ==\n{\"data\":{\"SaveUser\":null},\"errors\":[{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"An account with the given email already exists.\"}]}\n"},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":57,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":4013525400,"millis":4013.5254,"status":"passed"},"step":{"comments":["# Introduce a pause so the user can be saved before the next test"],"line":60,"prefix":"*","index":7,"text":"wait(4000)"}},{"result":{"nanos":435200,"millis":0.4352,"status":"passed"},"step":{"comments":["# if the response status is not 200, the test finish"],"line":63,"prefix":"*","index":8,"text":"if (responseStatus != 200) karate.abort()"}},{"result":{"nanos":7921100,"errorMessage":"match failed: EQUALS\n  $ | present (LIST:STRING)\n  [{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"An account with the given email already exists.\"}]\n  '#notpresent'\n\nclasspath:examples\/users\/SaveUser.feature:66","millis":7.9211,"status":"failed"},"step":{"comments":["# if the user can't be created, the response contains a field \"error\""],"line":66,"prefix":"*","index":9,"text":"match response.errors == '#notpresent'"},"stepLog":"19:33:08.433 classpath:examples\/users\/SaveUser.feature:66\n* match response.errors == '#notpresent'\nmatch failed: EQUALS\n  $ | present (LIST:STRING)\n  [{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"An account with the given email already exists.\"}]\n  '#notpresent'\n\nclasspath:examples\/users\/SaveUser.feature:66\n"}],"line":44,"description":"","durationMillis":4859.7661,"failed":true,"error":"match failed: EQUALS\n  $ | present (LIST:STRING)\n  [{\"path\":[\"SaveUser\"],\"locations\":[{\"line\":2,\"column\":5}],\"message\":\"An account with the given email already exists.\"}]\n  '#notpresent'\n\nclasspath:examples\/users\/SaveUser.feature:66","executorName":"main","name":"The admin user create a new user","startTime":1621186383569,"refId":"[2:44]","endTime":1621186388433,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":189600,"millis":0.1896,"status":"passed"},"step":{"comments":["# Define a function to introduce a sleep in the test"],"background":true,"line":6,"prefix":"*","index":0,"text":"def wait = function(pause){ java.lang.Thread.sleep(pause) }"},"stepLog":"19:33:08.441 karate.env system property was: prod \n"},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":1,"text":"url httpUrl"}},{"result":{"nanos":1932600,"millis":1.9326,"status":"passed"},"step":{"comments":["# Get the idToken for the admin user"],"background":true,"line":11,"prefix":"*","index":2,"text":"def datas = read('signinDatasUser.json')"}},{"result":{"nanos":386250300,"millis":386.2503,"status":"passed"},"step":{"comments":["# Call the feature to sign in the API with the JSON file that contains the admin's datas"],"background":true,"line":14,"prefix":"*","index":3,"text":"def signIn = call read('signin.feature') datas"},"callResults":[{"prefixedPath":"classpath:examples\/users\/signin.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2021-05-16 07:33:09 p. m.","durationMillis":378.7552,"callArg":{"password":"Admin.2020","clientId":"799hogucm363v55l7dk2n1l5u0","username":"admin@theagilemonkeys.com"},"failedCount":0,"packageQualifiedName":"examples.users.signin","relativePath":"examples\/users\/signin.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url httpUrl"}},{"result":{"nanos":493100,"millis":0.4931,"status":"passed"},"step":{"endLine":14,"line":7,"prefix":"*","docString":"{\n  \t\t\"clientId\": \"#(clientId)\",\n        \"username\": \"#(username)\",\n  \t\t\"password\": \"#(password)\"\n\t}","index":0,"text":"def query ="}},{"result":{"nanos":680000,"millis":0.68,"status":"passed"},"step":{"line":15,"prefix":"*","index":1,"text":"print query"},"stepLog":"19:33:08.451 [print] {\n  \"clientId\": \"799hogucm363v55l7dk2n1l5u0\",\n  \"username\": \"admin@theagilemonkeys.com\",\n  \"password\": \"Admin.2020\"\n}\n \n"},{"result":{"nanos":243100,"millis":0.2431,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path '\/auth\/sign-in'"}},{"result":{"nanos":11100,"millis":0.0111,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request query"}},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"line":19,"prefix":"And","index":4,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":376118200,"millis":376.1182,"status":"passed"},"step":{"line":20,"prefix":"When","index":5,"text":"method post"},"stepLog":"19:33:08.452 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/auth\/sign-in\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 104\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"password\":\"Admin.2020\",\"clientId\":\"799hogucm363v55l7dk2n1l5u0\",\"username\":\"admin@theagilemonkeys.com\"}\n\n19:33:08.825 response time in milliseconds: 372\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 4011\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:33:09 GMT\n1 < x-amzn-RequestId: d413b296-7a98-4bdd-8788-f5569655fa47\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbqVUGLlDoEF2fg=\n1 < X-Amzn-Trace-Id: Root=1-60a15755-14d7ab3a0ea328cb1b46c055\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 95f1b7018f5640d0a596bfddfbb25f68.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: 0ASFwSSQLKkzb58JbgegBGpknbY0jN6Xpha0FIHqAHDFQ8j-mSs_ig==\n{\"expiresIn\":\"3600\",\"idToken\":\"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxZjVlNzA1Zi1hZDEyLTQ1ZDQtYjgwYy1mMWJiMmQwZDgyYTciLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4OSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4OSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4OSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.hcUbz8Qjj-Cpyq1j4W29kychrobCLNxzIg9VdDs-4N0rniOKuHopkDWj36efkqFioh3XbyXvoLYMSYtOrtdEnZOhAbkIO2Uj_cWHvjKh0BxiAH0gzw8N3_Kq8pBTNnyAfUQsZZj10WakU-yw-BIbcfhxIKdawNw0eVJS55aL2bQlC92M26h7eOb-leqj3Y3ykIeT9LGfIsCsYBSkkjptVNoKRovMZ44RvdLt5WK-HgB89EmbRuzProgJU48XLKnGfZr2yEFhVUipD39RRXmDor7Yog0RKMzX8msS4cbcr3z3mX06hdB3PfBjLKNz19c2r5OEwhkLrivrCRdPoVmhNw\",\"accessToken\":\"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjFmNWU3MDVmLWFkMTItNDVkNC1iODBjLWYxYmIyZDBkODJhNyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODYzODksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE4OTk4OSwiaWF0IjoxNjIxMTg2Mzg5LCJqdGkiOiJhMzNkMjRkMC0wM2E2LTQwZWEtYjZmMy1jODE2YTNlNTE3OGQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.wvSqY_mMxTId39QSi_sGpGsy3-igBwpN7t7AP1Yr8hX8rsUifCc8F7GlCYFtr3WcHDwUkgurKhJAma6v-F7nDiSC0Pmd2hQxVi7_mA5dqk9RcuvlHvfGPmc3ep2H5aqz0WiIxl6rzHGMe_XzikxX6qoj9Rky2_Dd8eqSZT6RIeXaY8stpPCBfORfY4BZkqtOKkwyY9cJGWvdmgYAIOCkth0LtZ7Gw8YmEVmHYHTIKVOusUrufJetCNrpgpn941lo3hWunJHQudGCi_7v77KTR6WIcgb7yPtMRtJGonfNTCUNLc46B_mWCQpKdr8NFJx_X3N0oKDR5wU2faaR_grgsA\",\"tokenType\":\"Bearer\",\"refreshToken\":\"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.sWbBMUG3WLpA4VCYKTzOCnoqG749aDDevXpN4SDOMCCj9cYcXoSykXhk293_wKjLr1EOaodGM4sJ4FMIfkaxj7B4RPcVweW65c4s5fIy7bE6laK8DqO28f5oWu2UvQWf7mV69TqIRL-_dByBc0GfAJ3VOWMfJPlBOeKOr9pgjZyh0rN1rshspKiA8j0Lt90vmV_P4YZ45i_7O8p0oAI4xE4_lCN2RGB3ipPxYKhtddhQTcg9ejT0c5oukdK9KKEAcEzNCPVZLCgUczZ4MjA-xM_Q1YxXi3pil1D9UzH9P5ZYa1QTj8kBhsPVALqaEduqegLQPt8lF7goiu322fQ87A.GQnQRo8I3NHnUqLh.D7eE5Dwb2w1JUgVGqGqEkQIXN4tX5yM4BWNU_N6woLAjSbz9gpVWEuqDXvAU0CYUzzeKEQLY_xEWGnDL98Nf7eFxGPqk-myqt6S9a0DRSUFAjGlw7nxSlXO4bu6wLPPcA0--1MLMhyRpAm7UxVaVij0IG1G1OU7DpC2XuY5f_xs7LPBhnpQ3fpdOUNfIIRAjpfHKIoidE5xQN-dGMoY8VmwcpKHeyawqqRAJtinuCEt_WzEhoIIDlp35GcoCg_IfnDiz_A9s5RWjaxIW5TeslVVo9CUbYVAqqH-qe3GrM3W-3ERwiosGo9glUEjHd44FogYPqv5OisNyI930H8KG69BhvTRxPctHbeZVzemqX9C8NO9WsFR_0WfrKNM7DYXNFnS9tMAH8i-YsPI_IGPo4K9y9oJ2OYrhRxkdqsVtxd4-KTxOcn-VWW12FPnzq22MhGUwvHLZX6hTdUpUGSjLbtaBjqi17ieTp9WI7S7lGxV7yFrXUBwJ-qAteGDOj52-_fx1AVCSXWhzWVSgt92ounChQkY8i2juPL8p6u3vtLT7GMrkxmX4--zjg2hV62-HI_zoEANcW62JLydLvqlHAjAz-ZwLCbRLnt92w6Ok07Yr2w3Ko1mWlyGkRxygb_Kb0DHnndiLBENc7STwKQAHJD4OtR9rKwd7n71ndFD9zGzE7upCZRZ0V_DdswMdJAkhvrGAqZBwnf_nlmFX9NHwsqdqVw1sPBYrkkneNRuhmoipnUFA4PvJdXLV_CFcVthKDbKk6FMk3DeOhVHNPXfnWqlgdqaiKhs1QA6y4oGS2Z1bx8ghfR-mmufe8mRfFEMEjdKm0PYP3hKibL-S5yR_8ofkusVF-8Y5pifuLoYqM-GaCImP_5n7Q1TIGBO9yMSMfOJORUM7pCH2Ia0HLX3hr7S3i7_xzlHhOHHBH04eHMZJf3H0NDoDdpQ84LXE6LWnZc3Vb1FXESNXqesL_eCbcJwbrgy4LheycDVxKSSNzITErYepHVSHtvVJznQMrLRWhkA8qxDZnhHiI2p9I1f4DSpP3JFYe3urABj88-rw14A7mp77VI_tFXr0mlOEEw1uBixVVLAikEePR7u8kgHf_pQR7jwPJK5_x0VwOscvRsiR4PPQTIdmt-ofQIkuPKPM-W7kjXPNko3nyGsMbz4ojjjFDDkL48r5h4R7oQGG27KdbUSWxUO08H5cqHYnBLUGV0QKzEG_EJYfHt4JKWHqo4AUKabaiw4ARXC8a49okgbJupksGGgnQsXWNdwpWuGtv4YDuPXXHr937BwMxjfERVFmsUAwhck8450x6Eq75qaKgD3bJ46Z3SGJhbC7Kcs.Lz71jOIzeMfFVt8hJgtJBg\"}\n"},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":21,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":643000,"millis":0.643,"status":"passed"},"step":{"comments":["#Get the idToken for the user"],"line":24,"prefix":"*","index":7,"text":"def tokenid = response.idToken"}},{"result":{"nanos":431600,"millis":0.4316,"status":"passed"},"step":{"line":25,"prefix":"*","index":8,"text":"print tokenid"},"stepLog":"19:33:08.828 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxZjVlNzA1Zi1hZDEyLTQ1ZDQtYjgwYy1mMWJiMmQwZDgyYTciLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4OSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4OSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4OSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.hcUbz8Qjj-Cpyq1j4W29kychrobCLNxzIg9VdDs-4N0rniOKuHopkDWj36efkqFioh3XbyXvoLYMSYtOrtdEnZOhAbkIO2Uj_cWHvjKh0BxiAH0gzw8N3_Kq8pBTNnyAfUQsZZj10WakU-yw-BIbcfhxIKdawNw0eVJS55aL2bQlC92M26h7eOb-leqj3Y3ykIeT9LGfIsCsYBSkkjptVNoKRovMZ44RvdLt5WK-HgB89EmbRuzProgJU48XLKnGfZr2yEFhVUipD39RRXmDor7Yog0RKMzX8msS4cbcr3z3mX06hdB3PfBjLKNz19c2r5OEwhkLrivrCRdPoVmhNw \n"}],"executorName":"main","line":6,"name":"obtain a token for the admin user","description":"","durationMillis":378.7552,"startTime":1621186388449,"failed":false,"refId":"[1:6]","endTime":1621186388829,"exampleIndex":-1}],"name":"Get a token for the user to sign in the API","passedCount":1}]},{"result":{"nanos":1093100,"millis":1.0931,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":4,"text":"print signIn.response"},"stepLog":"19:33:08.830 [print] {\n  \"expiresIn\": \"3600\",\n  \"idToken\": \"eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxZjVlNzA1Zi1hZDEyLTQ1ZDQtYjgwYy1mMWJiMmQwZDgyYTciLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4OSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4OSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4OSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.hcUbz8Qjj-Cpyq1j4W29kychrobCLNxzIg9VdDs-4N0rniOKuHopkDWj36efkqFioh3XbyXvoLYMSYtOrtdEnZOhAbkIO2Uj_cWHvjKh0BxiAH0gzw8N3_Kq8pBTNnyAfUQsZZj10WakU-yw-BIbcfhxIKdawNw0eVJS55aL2bQlC92M26h7eOb-leqj3Y3ykIeT9LGfIsCsYBSkkjptVNoKRovMZ44RvdLt5WK-HgB89EmbRuzProgJU48XLKnGfZr2yEFhVUipD39RRXmDor7Yog0RKMzX8msS4cbcr3z3mX06hdB3PfBjLKNz19c2r5OEwhkLrivrCRdPoVmhNw\",\n  \"accessToken\": \"eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6IjFmNWU3MDVmLWFkMTItNDVkNC1iODBjLWYxYmIyZDBkODJhNyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjExODYzODksImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTE4OTk4OSwiaWF0IjoxNjIxMTg2Mzg5LCJqdGkiOiJhMzNkMjRkMC0wM2E2LTQwZWEtYjZmMy1jODE2YTNlNTE3OGQiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.wvSqY_mMxTId39QSi_sGpGsy3-igBwpN7t7AP1Yr8hX8rsUifCc8F7GlCYFtr3WcHDwUkgurKhJAma6v-F7nDiSC0Pmd2hQxVi7_mA5dqk9RcuvlHvfGPmc3ep2H5aqz0WiIxl6rzHGMe_XzikxX6qoj9Rky2_Dd8eqSZT6RIeXaY8stpPCBfORfY4BZkqtOKkwyY9cJGWvdmgYAIOCkth0LtZ7Gw8YmEVmHYHTIKVOusUrufJetCNrpgpn941lo3hWunJHQudGCi_7v77KTR6WIcgb7yPtMRtJGonfNTCUNLc46B_mWCQpKdr8NFJx_X3N0oKDR5wU2faaR_grgsA\",\n  \"tokenType\": \"Bearer\",\n  \"refreshToken\": \"eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.sWbBMUG3WLpA4VCYKTzOCnoqG749aDDevXpN4SDOMCCj9cYcXoSykXhk293_wKjLr1EOaodGM4sJ4FMIfkaxj7B4RPcVweW65c4s5fIy7bE6laK8DqO28f5oWu2UvQWf7mV69TqIRL-_dByBc0GfAJ3VOWMfJPlBOeKOr9pgjZyh0rN1rshspKiA8j0Lt90vmV_P4YZ45i_7O8p0oAI4xE4_lCN2RGB3ipPxYKhtddhQTcg9ejT0c5oukdK9KKEAcEzNCPVZLCgUczZ4MjA-xM_Q1YxXi3pil1D9UzH9P5ZYa1QTj8kBhsPVALqaEduqegLQPt8lF7goiu322fQ87A.GQnQRo8I3NHnUqLh.D7eE5Dwb2w1JUgVGqGqEkQIXN4tX5yM4BWNU_N6woLAjSbz9gpVWEuqDXvAU0CYUzzeKEQLY_xEWGnDL98Nf7eFxGPqk-myqt6S9a0DRSUFAjGlw7nxSlXO4bu6wLPPcA0--1MLMhyRpAm7UxVaVij0IG1G1OU7DpC2XuY5f_xs7LPBhnpQ3fpdOUNfIIRAjpfHKIoidE5xQN-dGMoY8VmwcpKHeyawqqRAJtinuCEt_WzEhoIIDlp35GcoCg_IfnDiz_A9s5RWjaxIW5TeslVVo9CUbYVAqqH-qe3GrM3W-3ERwiosGo9glUEjHd44FogYPqv5OisNyI930H8KG69BhvTRxPctHbeZVzemqX9C8NO9WsFR_0WfrKNM7DYXNFnS9tMAH8i-YsPI_IGPo4K9y9oJ2OYrhRxkdqsVtxd4-KTxOcn-VWW12FPnzq22MhGUwvHLZX6hTdUpUGSjLbtaBjqi17ieTp9WI7S7lGxV7yFrXUBwJ-qAteGDOj52-_fx1AVCSXWhzWVSgt92ounChQkY8i2juPL8p6u3vtLT7GMrkxmX4--zjg2hV62-HI_zoEANcW62JLydLvqlHAjAz-ZwLCbRLnt92w6Ok07Yr2w3Ko1mWlyGkRxygb_Kb0DHnndiLBENc7STwKQAHJD4OtR9rKwd7n71ndFD9zGzE7upCZRZ0V_DdswMdJAkhvrGAqZBwnf_nlmFX9NHwsqdqVw1sPBYrkkneNRuhmoipnUFA4PvJdXLV_CFcVthKDbKk6FMk3DeOhVHNPXfnWqlgdqaiKhs1QA6y4oGS2Z1bx8ghfR-mmufe8mRfFEMEjdKm0PYP3hKibL-S5yR_8ofkusVF-8Y5pifuLoYqM-GaCImP_5n7Q1TIGBO9yMSMfOJORUM7pCH2Ia0HLX3hr7S3i7_xzlHhOHHBH04eHMZJf3H0NDoDdpQ84LXE6LWnZc3Vb1FXESNXqesL_eCbcJwbrgy4LheycDVxKSSNzITErYepHVSHtvVJznQMrLRWhkA8qxDZnhHiI2p9I1f4DSpP3JFYe3urABj88-rw14A7mp77VI_tFXr0mlOEEw1uBixVVLAikEePR7u8kgHf_pQR7jwPJK5_x0VwOscvRsiR4PPQTIdmt-ofQIkuPKPM-W7kjXPNko3nyGsMbz4ojjjFDDkL48r5h4R7oQGG27KdbUSWxUO08H5cqHYnBLUGV0QKzEG_EJYfHt4JKWHqo4AUKabaiw4ARXC8a49okgbJupksGGgnQsXWNdwpWuGtv4YDuPXXHr937BwMxjfERVFmsUAwhck8450x6Eq75qaKgD3bJ46Z3SGJhbC7Kcs.Lz71jOIzeMfFVt8hJgtJBg\"\n}\n \n"},{"result":{"nanos":317400,"millis":0.3174,"status":"passed"},"step":{"comments":["# Create the Authorization header"],"background":true,"line":18,"prefix":"*","index":5,"text":"def idToken = signIn.response.idToken"}},{"result":{"nanos":188600,"millis":0.1886,"status":"passed"},"step":{"background":true,"line":19,"prefix":"*","index":6,"text":"def user_header = \"Bearer \" + idToken"}},{"result":{"nanos":286700,"millis":0.2867,"status":"passed"},"step":{"background":true,"line":20,"prefix":"*","index":7,"text":"print user_header"},"stepLog":"19:33:08.831 [print] Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxZjVlNzA1Zi1hZDEyLTQ1ZDQtYjgwYy1mMWJiMmQwZDgyYTciLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4OSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4OSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4OSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.hcUbz8Qjj-Cpyq1j4W29kychrobCLNxzIg9VdDs-4N0rniOKuHopkDWj36efkqFioh3XbyXvoLYMSYtOrtdEnZOhAbkIO2Uj_cWHvjKh0BxiAH0gzw8N3_Kq8pBTNnyAfUQsZZj10WakU-yw-BIbcfhxIKdawNw0eVJS55aL2bQlC92M26h7eOb-leqj3Y3ykIeT9LGfIsCsYBSkkjptVNoKRovMZ44RvdLt5WK-HgB89EmbRuzProgJU48XLKnGfZr2yEFhVUipD39RRXmDor7Yog0RKMzX8msS4cbcr3z3mX06hdB3PfBjLKNz19c2r5OEwhkLrivrCRdPoVmhNw \n"},{"result":{"nanos":1086700,"millis":1.0867,"status":"passed"},"step":{"endLine":75,"comments":["# Get the query from a .graphql file"],"line":72,"prefix":"*","docString":"read('UserReadModel.graphql')","index":0,"text":"def query ="}},{"result":{"nanos":357800,"millis":0.3578,"status":"passed"},"step":{"comments":["# Define the username of the user to list"],"line":78,"prefix":"*","index":1,"text":"def newUser = read('NewUser.json')"}},{"result":{"nanos":540400,"millis":0.5404,"status":"passed"},"step":{"endLine":84,"line":79,"prefix":"*","docString":"{ \n   \"id\": \"#(newUser.username)\"\n}","index":2,"text":"def id ="}},{"result":{"nanos":865700,"millis":0.8657,"status":"passed"},"step":{"line":85,"prefix":"*","index":3,"text":"print id"},"stepLog":"19:33:08.834 [print] {\n  \"id\": \"user8@test.com\"\n}\n \n"},{"result":{"nanos":132200,"millis":0.1322,"status":"passed"},"step":{"line":87,"prefix":"Given","index":4,"text":"path 'graphql'"}},{"result":{"nanos":195500,"millis":0.1955,"status":"passed"},"step":{"line":89,"prefix":"And","index":5,"text":"header Authorization = signIn.response.tokenType + ' ' + signIn.response.idToken"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"line":90,"prefix":"And","index":6,"text":"header Content-Type = 'application\/json'"}},{"result":{"nanos":419400,"millis":0.4194,"status":"passed"},"step":{"line":91,"prefix":"And","index":7,"text":"request { query: '#(query)', variables: '#(id)' }"}},{"result":{"nanos":250331700,"millis":250.3317,"status":"passed"},"step":{"line":92,"prefix":"When","index":8,"text":"method post"},"stepLog":"19:33:08.836 request:\n1 > POST https:\/\/pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\/test-qa-estrella-prod\/graphql\n1 > Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiIxZjVlNzA1Zi1hZDEyLTQ1ZDQtYjgwYy1mMWJiMmQwZDgyYTciLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTE4NjM4OSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTE4OTk4OSwiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTE4NjM4OSwiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.hcUbz8Qjj-Cpyq1j4W29kychrobCLNxzIg9VdDs-4N0rniOKuHopkDWj36efkqFioh3XbyXvoLYMSYtOrtdEnZOhAbkIO2Uj_cWHvjKh0BxiAH0gzw8N3_Kq8pBTNnyAfUQsZZj10WakU-yw-BIbcfhxIKdawNw0eVJS55aL2bQlC92M26h7eOb-leqj3Y3ykIeT9LGfIsCsYBSkkjptVNoKRovMZ44RvdLt5WK-HgB89EmbRuzProgJU48XLKnGfZr2yEFhVUipD39RRXmDor7Yog0RKMzX8msS4cbcr3z3mX06hdB3PfBjLKNz19c2r5OEwhkLrivrCRdPoVmhNw\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 155\n1 > Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/16.0.1)\n1 > Accept-Encoding: gzip,deflate\n{\"variables\":{\"id\":\"user8@test.com\"},\"query\":\"query UserReadModel($id: ID!) {\\r\\n    UserReadModel(id: $id) {\\r\\n        id\\r\\n        role\\r\\n    }\\r\\n}\"}\n\n19:33:09.084 response time in milliseconds: 247\n1 < 200\n1 < Content-Type: application\/json\n1 < Content-Length: 64\n1 < Connection: keep-alive\n1 < Date: Sun, 16 May 2021 17:33:09 GMT\n1 < x-amzn-RequestId: 6d8ac8d1-ccb4-44a3-b677-f8746c32d1e1\n1 < Access-Control-Allow-Origin: *\n1 < x-amz-apigw-id: fbqVYFuJjoEFr8w=\n1 < X-Amzn-Trace-Id: Root=1-60a15755-4500658413fae1fd483ef99c;Sampled=0\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 31a031d42a24d17f209d69933362ff3b.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MAD50-C1\n1 < X-Amz-Cf-Id: QEssVPEJzLulAiqhujz5HHo6Mho6phxQOc-k-K1sES4icH28FuUKVg==\n{\"data\":{\"UserReadModel\":{\"role\":\"User\",\"id\":\"user8@test.com\"}}}\n"},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":93,"prefix":"Then","index":9,"text":"status 200"}},{"result":{"nanos":1523300,"millis":1.5233,"status":"passed"},"step":{"comments":["# If the new user was created, the response of the query must contain the datas of the user"],"line":96,"prefix":"*","index":10,"text":"match response.data.UserReadModel == {id: '#(newUser.username)', role: '#(newUser.role)' }"}}],"executorName":"main","line":69,"name":"List the new user by id","description":"","durationMillis":645.7807,"startTime":1621186388441,"failed":false,"refId":"[3:69]","endTime":1621186389087,"exampleIndex":-1}],"callDepth":0,"name":"Test the creation of users in the graphQL API in the environment set from the java class","description":"","resultDate":"2021-05-16 07:33:09 p. m.","durationMillis":6510.9585,"passedCount":2}