<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <link rel="stylesheet" href="res/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="res/karate-report.css" type="text/css"/>
    <link rel="shortcut icon" href="favicon.ico"/>
    <script type="text/javascript" src="res/jquery.min.js"></script>
    <script type="text/javascript" src="res/jquery.tablesorter.min.js"></script>
    <script type="text/javascript" src="res/bootstrap.min.js"></script>
    <script type="text/javascript" src="res/karate-report.js"></script>
    <title>examples.users.TestUsers</title>  
  </head>
  <body>   
    <div id="root-container">
      <div id="leftnav">
                
        <div>
  <div class="nav-logo">
    <a href="karate-summary.html">
      <img src="karate-logo.svg" alt="Karate"/>
    </a>
    <div class="nav-count">
      <div id="nav-pass" class="bg-success">1</div>
      <div id="nav-fail" class="bg-danger">2</div>
    </div>
  </div>
  <div id="nav-type">
    <div>Scenarios</div>
  </div>         
  <div id="nav-date">
    <div>2021-05-19 05:51:10 p.Â m.</div>
  </div>        
</div>

        <div class="nav-container">
          <div class="nav-item passed">
            <a href="#[1:12]"><span>[1:12]</span> <span>Test if the API met the acceptance criteria for an admin user</span></a>
          </div>
          <div class="nav-item failed">
            <a href="#[2:27]"><span>[2:27]</span> <span>Test if the API met the acceptance criteria for a not admin user</span></a>
          </div>
          <div class="nav-item failed">
            <a href="#[3:40]"><span>[3:40]</span> <span>Test at the same time the creation of a new user and that the API met the acceptance criteria for him</span></a>
          </div>
        </div>
      </div>
      <div id="content">
        <div class="page-heading alert alert-primary">
          <a href="karate-summary.html">Summary</a><span class="feature-label">|</span>
          <a href="karate-tags.html">Tags</a><span class="feature-label">|</span>
          <span class="feature-label">Feature:</span>
          <span class="feature-path">examples/users/TestUsers.feature</span><span class="feature-label">|</span>
          <span class="feature-name">Test that the graphql API met the acceptance criteria</span>
          <span class="feature-description"></span>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[1:12]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[1:12]</span>
                <span class="scenario-name">Test if the API met the acceptance criteria for an admin user</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time passed">
              <span>ms:</span>&nbsp;<span>4822</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[1:12]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[1:12]bg"><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.6">17:50:26.497 karate.env system property was: prod 
</div>   

  

</div>
</div>
          <div data-parent="[1:12]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># It is necessary to sign in the API as admin to create a new user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Get the idToken for the admin user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.15">
      <div class="step-ref passed">15</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def adminDatas = read(&#39;signinDatasUser.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">29</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Call the feature to sign in the API with the JSON file that contains the admin&#39;s datas</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.18">
      <div class="step-ref passed">18</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def signIn = call read(&#39;signin.feature&#39;) adminDatas</span>
      </div>
    </div>
    <div class="time-cell passed">761</div>
  </div>

   
  
  

  

     

  <div>
        
    <div class="step-row">
      <div class="step-container" id="0.18.0.call">
        <div class="step-ref passed">&gt;&gt;</div>
        <div class="step-indent"></div>
        <div class="step-cell passed">examples.users.signin</div>
      </div>
      <div class="time-cell passed">738</div>
    </div>
    <div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.4">
      <div class="step-ref passed">4</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.7">
      <div class="step-ref passed">7</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def query =</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.18.0.call.0.7">{
  		&quot;clientId&quot;: &quot;#(clientId)&quot;,
        &quot;username&quot;: &quot;#(username)&quot;,
  		&quot;password&quot;: &quot;#(password)&quot;
	}</div>

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print query</span>
      </div>
    </div>
    <div class="time-cell passed">4</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.18.0.call.0.15">17:50:26.577 [print] {
  &quot;clientId&quot;: &quot;799hogucm363v55l7dk2n1l5u0&quot;,
  &quot;username&quot;: &quot;admin@theagilemonkeys.com&quot;,
  &quot;password&quot;: &quot;Admin.2020&quot;
}
 
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/auth/sign-in&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.18">
      <div class="step-ref passed">18</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request query</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.19">
      <div class="step-ref passed">19</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">723</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.18.0.call.0.20">17:50:26.786 request:
1 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/auth/sign-in
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 104
1 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;password&quot;:&quot;Admin.2020&quot;,&quot;clientId&quot;:&quot;799hogucm363v55l7dk2n1l5u0&quot;,&quot;username&quot;:&quot;admin@theagilemonkeys.com&quot;}

17:50:27.305 response time in milliseconds: 502
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 4011
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 19 May 2021 15:50:27 GMT
1 &lt; x-amzn-RequestId: 110f8282-33d1-4eaa-81cb-0f4e943bd3e7
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: flUGiE9wjoEFY9Q=
1 &lt; X-Amzn-Trace-Id: Root=1-60a533c3-00d5e3a506707dbf77263ba5
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 ed24ed7fbec751651346c1accbcfe3e5.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: MAD51-C2
1 &lt; X-Amz-Cf-Id: 3R5jtndvnToWkeGsd-lmpwAGzH_JBhP4p3khuv9LuAr0BIRLJnewtw==
{&quot;expiresIn&quot;:&quot;3600&quot;,&quot;idToken&quot;:&quot;eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJmMTY5MTAxOC03NTM2LTQzMTQtOWM2MS05OWZkMjc1MTFkODgiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTQzOTQyNywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTQ0MzAyNywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTQzOTQyNywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.cSN86vCc_S4jBgdJYc5MoaXHCQ6wgLjTHlpwaP7k68Q85v6XL-iR4NzpOzwDnAIMsmQ6xeLDi4uamHv51b_xtddRUcdCMy7dvpLAkNrqkCPpOyanb8vie1PVWULJ5vrJI9ZOI_BEzaMQ4ePtDoQ1ndZa6tZDtG5e17v-3ti3iis2vUZTZHi2gecDqJTkcx9GzRCg2Bfi0Uhf4E8Ha-e1KL7Z_g9cYVfYtBZn9MXdbvHJyxTwPSsilW2B40I_Ob_5NRukXTjfEg2XtQiLJjTMinncpHzONr3Qn2jEQpj6AvDGzfFZZPoT7wq_eLjIzcODaxGMYA4pVGH4GptqxwzgRw&quot;,&quot;accessToken&quot;:&quot;eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImYxNjkxMDE4LTc1MzYtNDMxNC05YzYxLTk5ZmQyNzUxMWQ4OCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE0Mzk0MjcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTQ0MzAyNywiaWF0IjoxNjIxNDM5NDI3LCJqdGkiOiJiOTYxOTlkZi02OWVhLTQ5YzItYTRiOS0wY2E3YmU5ZDNmZTUiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.2V1cUSaGHLqIPgVnJSMcbqf5_NWEhkIICIcuNTteJ5Xd9KAYIF6CQ3PigEBFmyYaq6_n18APetWET898HMt-Zo_xwzuKRUzbVWfJQcNw6FU1Vr4qYIXRm4ArlYmxwcZ8lRCPHR5fzkKqA2jGHZFqHYE6KEEZ7It9jBdj9MlNMd5fSbXyoQ0t-r-IGF1J-oriYQh5a4tTYxoFMR0btv3jnbmQ6DrZDwLnl9AHUkM1ZBfhb-51-YnReRSdHH7bbmDv5rsjBmfrJ1EzMDp7rqeBW6Zu7Sy8itdkp5vZ4Yf4PO5Jl382lgMebTOn1ayeQippIbKNX_hU_uo15N-MZdx8Xg&quot;,&quot;tokenType&quot;:&quot;Bearer&quot;,&quot;refreshToken&quot;:&quot;eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.NyQ7dk9S1N3emlrh5f5KRMKXFhuIuXOX4oGemS6d2mNigHoYb9LX_7Mgsvj8rjE0Klow_FbgbbYvi9FZV4BggpQPEkK3N9lPtFOEt9dWsEkMXfxt8SmnQDbz8Fe_yazn3-6jQQBTfIA-VLnyvsFDJ5gtLYK3ACFC22dlrcyD0uPAY5PfILgjkKA6d3K9_kTPDPTCGd_2ytQ_f-JUlIlECHTRwItB5sTxYwHfOfTBflgrCWPKiPj_dc4zbqppvT-61ZuJvW6A1EyPkYVKQF2KTSFZq17jX-Kqwgo3qCpSzFrzNkGBThAlwNXOGzK6mKGAfVooqeqOHxuFqVRIvP0MxQ.VE4bfKlG12xw7CMY.6VyP_ayl-Vw00JeE35-fb5OWj5f1NDItxXrfrk8DJmJxRVB32R5zuN73G3_xCcTJ76tvjlImzqqTYMCCq64zkdGCUbm7-awoEWERx2Fv5b1Ddd3XBcLwWn9e6VBuyvYLZUfh-_r8FiGLpk85znM4xdHdikqLhjXWPw0rZswhqpLDTAVfq4QvnyksdROgUC7ckKClP932XExWBv0hRwPtNMbEBf5VnKPD0qDRCJCDmgjQSNVdhYBPNx3ANSpVdbPK1W9MrM4jpJnUWKYbGsecvPrzy1UdDRws4xvy-1olk58CdVeRcfJoNfNeZvT8W4rv38FG-cDZW59rQXyf8eJTkNvlu7qEVtTTLw4ekJR-gfMp1WD8FXxqCW2wWbMzoOhvTnUAI7y2NFQu3qxA59S4oqC-Qm4wKQx5As6PsnLa6lKQfakS92ZRi1XDBrBpcUq1tocq9uxaN6Yd6ePsWCWl6WMGFLSi6JTqZx_NIWCr5tb6o82LboOg3AF9-dEbbv6MJgxU8f_TSuObhrPPswNjpP8Mbpwh7T4Va88XYwsxy0bmPM2X-dOk4do4N0ZsRf8dc9N0-MO6L-00h5cE9vHQK-8qH3JR6mjOYsA2afBGjGy55H1T3QmtLa9gF9512vAMBXPaiOJ4x3-DLY-TpceORTOdD-aQQjej7HuKPXjPc137_U_H9D9ZtJ5Vkyl8ZYmeh1eJAXC4CX0bpuZso_Iqq7tcBtvtoxL2F1QrDeS-PSXcK81SfdjjBE75ROQlw6jwEhWmTgXESkjT2wQ06E9PyWTSgIZOYoYWCd2Jz_SDTdTQeCWeLfWVl8PcK-eeQHnvtEJ92KYaKtKTIFNx-jjpN5L1KsRK35JYlihJlKWkdyHYZlDLj_hOZlPMlvDsQqjgy-Rq51GdPa7nV9IZwKBYqUDqsgaTB22SPRM4tV51v3keI3UFxIGwfCKJJ9e54MCJ49wQFwJb7rNDb6k2HBGNu1xeaKQEeQgffIozyAvP0Rsknp54hYbh5awkEN-VkUnClyrVm5lzBrwvTVHjfizYLj-dO2qoyj53VppyDCj2e0JcoqodX_uoas2GphXxih5S6PVu-juYPfDq11VKgZGlfnTbxYmBUv5s1djeRVOS84z_Tzoj0qxjNXNrUWz0u3b07tuuRhcF_Wfe5kgQdBBIPymy299efe--LRu1nnzklrvp8uUAwyvFVJoJeWO2iXERadv9BZKaCNsrikuIcumZGX5S2uRu32ExFlVlpm3k0nbP-1_wie8nWphqv4SMsydUsq3bR-_J5ytC7nObVKPw4-9wkpMEBex5DpKg4S8vlMgjxJA6T7zQq-1bMzrg_mM.qq8Ux4fJuo0_QpnBOaU8Xg&quot;}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.21">
      <div class="step-ref passed">21</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment">#Get the idToken for the user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.24">
      <div class="step-ref passed">24</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def tokenid = response.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.18.0.call">
    <div class="step-container" id="0.18.0.call.0.25">
      <div class="step-ref passed">25</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print tokenid</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.18.0.call.0.25">17:50:27.310 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJmMTY5MTAxOC03NTM2LTQzMTQtOWM2MS05OWZkMjc1MTFkODgiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTQzOTQyNywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTQ0MzAyNywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTQzOTQyNywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.cSN86vCc_S4jBgdJYc5MoaXHCQ6wgLjTHlpwaP7k68Q85v6XL-iR4NzpOzwDnAIMsmQ6xeLDi4uamHv51b_xtddRUcdCMy7dvpLAkNrqkCPpOyanb8vie1PVWULJ5vrJI9ZOI_BEzaMQ4ePtDoQ1ndZa6tZDtG5e17v-3ti3iis2vUZTZHi2gecDqJTkcx9GzRCg2Bfi0Uhf4E8Ha-e1KL7Z_g9cYVfYtBZn9MXdbvHJyxTwPSsilW2B40I_Ob_5NRukXTjfEg2XtQiLJjTMinncpHzONr3Qn2jEQpj6AvDGzfFZZPoT7wq_eLjIzcODaxGMYA4pVGH4GptqxwzgRw 
</div>   

  

</div>
</div>
    </div>    
  </div>

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.19">
      <div class="step-ref passed">19</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print signIn.response</span>
      </div>
    </div>
    <div class="time-cell passed">3</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.19">17:50:27.315 [print] {
  &quot;expiresIn&quot;: &quot;3600&quot;,
  &quot;idToken&quot;: &quot;eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiZXZlbnRfaWQiOiJmMTY5MTAxOC03NTM2LTQzMTQtOWM2MS05OWZkMjc1MTFkODgiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTYyMTQzOTQyNywiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmV1LXdlc3QtMS5hbWF6b25hd3MuY29tXC9ldS13ZXN0LTFfbUh1ZUFyMlF1IiwiY29nbml0bzp1c2VybmFtZSI6ImFlYjNmMmE3LTNlOWUtNGE5Ny1hY2U4LWZlNDFhZDExODg5MCIsImV4cCI6MTYyMTQ0MzAyNywiY3VzdG9tOnJvbGUiOiJBZG1pbiIsImlhdCI6MTYyMTQzOTQyNywiZW1haWwiOiJhZG1pbkB0aGVhZ2lsZW1vbmtleXMuY29tIn0.cSN86vCc_S4jBgdJYc5MoaXHCQ6wgLjTHlpwaP7k68Q85v6XL-iR4NzpOzwDnAIMsmQ6xeLDi4uamHv51b_xtddRUcdCMy7dvpLAkNrqkCPpOyanb8vie1PVWULJ5vrJI9ZOI_BEzaMQ4ePtDoQ1ndZa6tZDtG5e17v-3ti3iis2vUZTZHi2gecDqJTkcx9GzRCg2Bfi0Uhf4E8Ha-e1KL7Z_g9cYVfYtBZn9MXdbvHJyxTwPSsilW2B40I_Ob_5NRukXTjfEg2XtQiLJjTMinncpHzONr3Qn2jEQpj6AvDGzfFZZPoT7wq_eLjIzcODaxGMYA4pVGH4GptqxwzgRw&quot;,
  &quot;accessToken&quot;: &quot;eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJhZWIzZjJhNy0zZTllLTRhOTctYWNlOC1mZTQxYWQxMTg4OTAiLCJldmVudF9pZCI6ImYxNjkxMDE4LTc1MzYtNDMxNC05YzYxLTk5ZmQyNzUxMWQ4OCIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE0Mzk0MjcsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTQ0MzAyNywiaWF0IjoxNjIxNDM5NDI3LCJqdGkiOiJiOTYxOTlkZi02OWVhLTQ5YzItYTRiOS0wY2E3YmU5ZDNmZTUiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiYWViM2YyYTctM2U5ZS00YTk3LWFjZTgtZmU0MWFkMTE4ODkwIn0.2V1cUSaGHLqIPgVnJSMcbqf5_NWEhkIICIcuNTteJ5Xd9KAYIF6CQ3PigEBFmyYaq6_n18APetWET898HMt-Zo_xwzuKRUzbVWfJQcNw6FU1Vr4qYIXRm4ArlYmxwcZ8lRCPHR5fzkKqA2jGHZFqHYE6KEEZ7It9jBdj9MlNMd5fSbXyoQ0t-r-IGF1J-oriYQh5a4tTYxoFMR0btv3jnbmQ6DrZDwLnl9AHUkM1ZBfhb-51-YnReRSdHH7bbmDv5rsjBmfrJ1EzMDp7rqeBW6Zu7Sy8itdkp5vZ4Yf4PO5Jl382lgMebTOn1ayeQippIbKNX_hU_uo15N-MZdx8Xg&quot;,
  &quot;tokenType&quot;: &quot;Bearer&quot;,
  &quot;refreshToken&quot;: &quot;eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.NyQ7dk9S1N3emlrh5f5KRMKXFhuIuXOX4oGemS6d2mNigHoYb9LX_7Mgsvj8rjE0Klow_FbgbbYvi9FZV4BggpQPEkK3N9lPtFOEt9dWsEkMXfxt8SmnQDbz8Fe_yazn3-6jQQBTfIA-VLnyvsFDJ5gtLYK3ACFC22dlrcyD0uPAY5PfILgjkKA6d3K9_kTPDPTCGd_2ytQ_f-JUlIlECHTRwItB5sTxYwHfOfTBflgrCWPKiPj_dc4zbqppvT-61ZuJvW6A1EyPkYVKQF2KTSFZq17jX-Kqwgo3qCpSzFrzNkGBThAlwNXOGzK6mKGAfVooqeqOHxuFqVRIvP0MxQ.VE4bfKlG12xw7CMY.6VyP_ayl-Vw00JeE35-fb5OWj5f1NDItxXrfrk8DJmJxRVB32R5zuN73G3_xCcTJ76tvjlImzqqTYMCCq64zkdGCUbm7-awoEWERx2Fv5b1Ddd3XBcLwWn9e6VBuyvYLZUfh-_r8FiGLpk85znM4xdHdikqLhjXWPw0rZswhqpLDTAVfq4QvnyksdROgUC7ckKClP932XExWBv0hRwPtNMbEBf5VnKPD0qDRCJCDmgjQSNVdhYBPNx3ANSpVdbPK1W9MrM4jpJnUWKYbGsecvPrzy1UdDRws4xvy-1olk58CdVeRcfJoNfNeZvT8W4rv38FG-cDZW59rQXyf8eJTkNvlu7qEVtTTLw4ekJR-gfMp1WD8FXxqCW2wWbMzoOhvTnUAI7y2NFQu3qxA59S4oqC-Qm4wKQx5As6PsnLa6lKQfakS92ZRi1XDBrBpcUq1tocq9uxaN6Yd6ePsWCWl6WMGFLSi6JTqZx_NIWCr5tb6o82LboOg3AF9-dEbbv6MJgxU8f_TSuObhrPPswNjpP8Mbpwh7T4Va88XYwsxy0bmPM2X-dOk4do4N0ZsRf8dc9N0-MO6L-00h5cE9vHQK-8qH3JR6mjOYsA2afBGjGy55H1T3QmtLa9gF9512vAMBXPaiOJ4x3-DLY-TpceORTOdD-aQQjej7HuKPXjPc137_U_H9D9ZtJ5Vkyl8ZYmeh1eJAXC4CX0bpuZso_Iqq7tcBtvtoxL2F1QrDeS-PSXcK81SfdjjBE75ROQlw6jwEhWmTgXESkjT2wQ06E9PyWTSgIZOYoYWCd2Jz_SDTdTQeCWeLfWVl8PcK-eeQHnvtEJ92KYaKtKTIFNx-jjpN5L1KsRK35JYlihJlKWkdyHYZlDLj_hOZlPMlvDsQqjgy-Rq51GdPa7nV9IZwKBYqUDqsgaTB22SPRM4tV51v3keI3UFxIGwfCKJJ9e54MCJ49wQFwJb7rNDb6k2HBGNu1xeaKQEeQgffIozyAvP0Rsknp54hYbh5awkEN-VkUnClyrVm5lzBrwvTVHjfizYLj-dO2qoyj53VppyDCj2e0JcoqodX_uoas2GphXxih5S6PVu-juYPfDq11VKgZGlfnTbxYmBUv5s1djeRVOS84z_Tzoj0qxjNXNrUWz0u3b07tuuRhcF_Wfe5kgQdBBIPymy299efe--LRu1nnzklrvp8uUAwyvFVJoJeWO2iXERadv9BZKaCNsrikuIcumZGX5S2uRu32ExFlVlpm3k0nbP-1_wie8nWphqv4SMsydUsq3bR-_J5ytC7nObVKPw4-9wkpMEBex5DpKg4S8vlMgjxJA6T7zQq-1bMzrg_mM.qq8Ux4fJuo0_QpnBOaU8Xg&quot;
}
 
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.20">
      <div class="step-ref passed">20</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def adminToken = signIn.response</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Test the admin user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># The token for the admin user is the input parameter for the callable feature where are defined the steps of the tests</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment">##    * def testAdmin = call read(&#39;TestUserAdmin.feature&#39;) adminToken</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.25">
      <div class="step-ref passed">25</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell passed">4027</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[2:27]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[2:27]</span>
                <span class="scenario-name">Test if the API met the acceptance criteria for a not admin user</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>38724</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[2:27]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[2:27]bg"><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.6">17:50:31.365 karate.env system property was: prod 
</div>   

  

</div>
</div>
          <div data-parent="[2:27]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Get the idToken for the not admin user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.29">
      <div class="step-ref passed">29</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Call the feature to sign in the API with the JSON file that contains the user datas</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.32">
      <div class="step-ref passed">32</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def signIn = call read(&#39;signin.feature&#39;) userDatas</span>
      </div>
    </div>
    <div class="time-cell passed">423</div>
  </div>

   
  
  

  

     

  <div>
        
    <div class="step-row">
      <div class="step-container" id="0.32.0.call">
        <div class="step-ref passed">&gt;&gt;</div>
        <div class="step-indent"></div>
        <div class="step-cell passed">examples.users.signin</div>
      </div>
      <div class="time-cell passed">413</div>
    </div>
    <div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.4">
      <div class="step-ref passed">4</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.7">
      <div class="step-ref passed">7</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def query =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.32.0.call.0.7">{
  		&quot;clientId&quot;: &quot;#(clientId)&quot;,
        &quot;username&quot;: &quot;#(username)&quot;,
  		&quot;password&quot;: &quot;#(password)&quot;
	}</div>

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print query</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.32.0.call.0.15">17:50:31.379 [print] {
  &quot;clientId&quot;: &quot;799hogucm363v55l7dk2n1l5u0&quot;,
  &quot;username&quot;: &quot;userNotAdmin@test.com&quot;,
  &quot;password&quot;: &quot;Password_2&quot;
}
 
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;/auth/sign-in&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.18">
      <div class="step-ref passed">18</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request query</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.19">
      <div class="step-ref passed">19</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Content-Type = &#39;application/json&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">408</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.32.0.call.0.20">17:50:31.382 request:
1 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/auth/sign-in
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 100
1 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;password&quot;:&quot;Password_2&quot;,&quot;clientId&quot;:&quot;799hogucm363v55l7dk2n1l5u0&quot;,&quot;username&quot;:&quot;userNotAdmin@test.com&quot;}

17:50:31.787 response time in milliseconds: 403
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 4003
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 19 May 2021 15:50:32 GMT
1 &lt; x-amzn-RequestId: cda02558-127f-4819-85e8-9183536eebc8
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: flUHPFs-DoEF1xQ=
1 &lt; X-Amzn-Trace-Id: Root=1-60a533c7-5cbf53c660b64647677366bb
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 83f9969abb9f43b17789799503ae532d.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: MAD51-C2
1 &lt; X-Amz-Cf-Id: 6pbiAT3YML4VxB1TRnAdP-QclbXNIJNLELd1UBxEjO3536a-Lvia2Q==
{&quot;expiresIn&quot;:&quot;3600&quot;,&quot;idToken&quot;:&quot;eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg&quot;,&quot;accessToken&quot;:&quot;eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE0Mzk0MzIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTQ0MzAzMiwiaWF0IjoxNjIxNDM5NDMyLCJqdGkiOiIwMWY3OWY5Zi1kZmUxLTQyNDYtOWEyYS1lZTA0MmQyMjM4ZGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4In0.X4wBb9nxrIdt8z8ZOnTUBKhY_yCRqWe3B-zQrZolNUY_yP_wQUz3RMeEuR2D41d61EYLDcaVpQkXGYdIv7y8d3Ld-_6zyBwWBL6j0hkrGyjWpL72eqzlUMWV-yC9zPmwTfxDwIFE4FI0xgC1S_hHGxvWDc39Eu7i02spVpkXl9GETzBtqax3nPIguNXfXD4--Jsut5hcDu2gRJUTO_LwGo2WTG0vPP2XIslS2q8hDsBRSqF8_fUc77Wvt6iGRmiyc2WwwChGKM5ijSMSDbFyywvn_72-wOzPGLmNnclaiF0VjTNAQ37B5fMoTOcXq1CFoxYv5s0Di1QUqf4qBtUssQ&quot;,&quot;tokenType&quot;:&quot;Bearer&quot;,&quot;refreshToken&quot;:&quot;eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.Iyw1DAY_ChN8kJONvzCb2ZRQTMx6qlp1ivvCmJm-LpveOYeJ0yVW1zsba8_LDPiIP_LOiqhy06t3U4X9_Cn4CNzzrtXGsPVHOEB6xjdWtyKuiCUsugyizn7e3pxBd_uPyTXsyetYag9dYew-clf44DY_qf281wgdiiqrOyux2EDKsoxtL4fD9kwh9KeTdBnm9lR9mW_zICE-8xGyD_gP7YKKIV8dpPAjq5VjlYA8iLgI9It0-TFa87avzV1iYesg5snf0_olrhT5Dg1SzTJfGQzM9SWwkKrBgyOscO8sOTVRL6SWRm_ev0m-8OZzebBhVd15_BIO43zofUQhoqFmvQ.hu4Qbc2yGZjakLd2.6ZwhZdWCMkuj40vegu3s8TtIoDssaT9Bmp4I-rsQAaQUcnueSErDG2IB66wufrVdpfR8f1veDBLUOx7EjNuIqD9tKyzaA7m9SqmSRcPTMzLMdh8s7nszrQ-mV0ZZUzpIfIptVbs5b6cJU7KWZNAcnZrt0Go81pfTSZ_4BK_xZZqAtzVSAY1sLAZHsyK2xXo4uANpMkGhvYHZmb7jtxm3YrJ0BUGpURuXJ8qrp4d5zc3DBizTqC2NpN7mbeuVWWXvupKbR3lJeycqMH8JxUjPi1uHL_7iWtb4-YjuI3XPpntswPJlZqohaQGAhXlloTBHE39XmYy8Lh2peQmjtIEVz9fyB9_vYLPf7dIjT2Gm8HlSF4KlZlQjb8v5K4AebN9DwzPcx2Nw-KkkHnmaFGNTES3rktg3738fvbjywjmqltdARFM5sn3knousN1etMY-LinxXMWMW_1uqoM8UdJvYTersSQwNlF-ziIRo8FOKQI7nYcu-tcDHJI9DP2Hpt_REi-_yQsQNisb6wTw5h0Z7OSe3ZFq-k2_psu3zFMD3l204hW6lnw3o5jKPUmAwDaAsyMFc5iQGkUdV0FgQbPwUJ9JoD1jEAhqCpJ5q9gGsYjy_fz_KgqSENchlEKlAFb2LTvT-LPoQRKzk4BAfG1BqKp7Lb98nMo1zYN4QCO_cDLHaz4nr9-TS1rMFC7ZKAGeRDeorea3O7dkeBibBnX4rSG2oAN2_eWtUS9WGqzFZ8lAthzVdoywLrERqdHtFH62OZN6e5Nkz1iLjxs6IPwp2g9FWC3_fqBMUVv2mg9jL75Fe7brGTC7kx0m45NT94q57nHie6rLoVl64RGGQmXeG79gy4qu1Oq9TQvZG8Gw3B3tK7AGHrGEhQb699XpnTdztgny1P-G8-S0mhIFzMZZ9biQl6AFcKCHl6LsEjORlnwTbgnRWvZ6g3g3ujr1qIYoiSBW_2fr6zLUL79wGSJNEAFyo-Bpu7RwonGQgtQrBUfXD4PTc10WVqVXPtm_n33ciyk3OZShsSyMwrd-NuXUHXwS7s2mxRjXoUV1DnydW-bXro5MSRA22KnfqObfQvavY1pjKLPq2WSdur3c1GetlaeXn542kHvWaXIq_8CclshWtzs38H3rP9vBjlFi0T41a0Rg6iUNoanDjteWeIO4i_xHAhBwsqP5syiNmhSuwQpJ3uN6HCYuk16ELaKrsPvQhSVxIes5d8kHvm4gPfk7xAmqqHjUmUzxkMxoWb6EMU_dAqKjTkpmt3WnpucvzTrgrEnp0O8jYRGzZ9SK0bCIPoDSW3BP3qz3CwgIXMLo2IcPkxfxxzKaYqkSmiE09mhA.vB61f6i6cC9jkengYROUvQ&quot;}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.21">
      <div class="step-ref passed">21</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment">#Get the idToken for the user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.24">
      <div class="step-ref passed">24</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def tokenid = response.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.32.0.call">
    <div class="step-container" id="0.32.0.call.0.25">
      <div class="step-ref passed">25</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print tokenid</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.32.0.call.0.25">17:50:31.790 [print] eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg 
</div>   

  

</div>
</div>
    </div>    
  </div>

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.33">
      <div class="step-ref passed">33</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>print signIn.response</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.33">17:50:31.792 [print] {
  &quot;expiresIn&quot;: &quot;3600&quot;,
  &quot;idToken&quot;: &quot;eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg&quot;,
  &quot;accessToken&quot;: &quot;eyJraWQiOiJIcWFQSnUyR1YzN1F5TnBnVlIwSXRHRHJqQ3huZk41aEFvK1ZmZGNtNDBVPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE2MjE0Mzk0MzIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5ldS13ZXN0LTEuYW1hem9uYXdzLmNvbVwvZXUtd2VzdC0xX21IdWVBcjJRdSIsImV4cCI6MTYyMTQ0MzAzMiwiaWF0IjoxNjIxNDM5NDMyLCJqdGkiOiIwMWY3OWY5Zi1kZmUxLTQyNDYtOWEyYS1lZTA0MmQyMjM4ZGMiLCJjbGllbnRfaWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsInVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4In0.X4wBb9nxrIdt8z8ZOnTUBKhY_yCRqWe3B-zQrZolNUY_yP_wQUz3RMeEuR2D41d61EYLDcaVpQkXGYdIv7y8d3Ld-_6zyBwWBL6j0hkrGyjWpL72eqzlUMWV-yC9zPmwTfxDwIFE4FI0xgC1S_hHGxvWDc39Eu7i02spVpkXl9GETzBtqax3nPIguNXfXD4--Jsut5hcDu2gRJUTO_LwGo2WTG0vPP2XIslS2q8hDsBRSqF8_fUc77Wvt6iGRmiyc2WwwChGKM5ijSMSDbFyywvn_72-wOzPGLmNnclaiF0VjTNAQ37B5fMoTOcXq1CFoxYv5s0Di1QUqf4qBtUssQ&quot;,
  &quot;tokenType&quot;: &quot;Bearer&quot;,
  &quot;refreshToken&quot;: &quot;eyJjdHkiOiJKV1QiLCJlbmMiOiJBMjU2R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.Iyw1DAY_ChN8kJONvzCb2ZRQTMx6qlp1ivvCmJm-LpveOYeJ0yVW1zsba8_LDPiIP_LOiqhy06t3U4X9_Cn4CNzzrtXGsPVHOEB6xjdWtyKuiCUsugyizn7e3pxBd_uPyTXsyetYag9dYew-clf44DY_qf281wgdiiqrOyux2EDKsoxtL4fD9kwh9KeTdBnm9lR9mW_zICE-8xGyD_gP7YKKIV8dpPAjq5VjlYA8iLgI9It0-TFa87avzV1iYesg5snf0_olrhT5Dg1SzTJfGQzM9SWwkKrBgyOscO8sOTVRL6SWRm_ev0m-8OZzebBhVd15_BIO43zofUQhoqFmvQ.hu4Qbc2yGZjakLd2.6ZwhZdWCMkuj40vegu3s8TtIoDssaT9Bmp4I-rsQAaQUcnueSErDG2IB66wufrVdpfR8f1veDBLUOx7EjNuIqD9tKyzaA7m9SqmSRcPTMzLMdh8s7nszrQ-mV0ZZUzpIfIptVbs5b6cJU7KWZNAcnZrt0Go81pfTSZ_4BK_xZZqAtzVSAY1sLAZHsyK2xXo4uANpMkGhvYHZmb7jtxm3YrJ0BUGpURuXJ8qrp4d5zc3DBizTqC2NpN7mbeuVWWXvupKbR3lJeycqMH8JxUjPi1uHL_7iWtb4-YjuI3XPpntswPJlZqohaQGAhXlloTBHE39XmYy8Lh2peQmjtIEVz9fyB9_vYLPf7dIjT2Gm8HlSF4KlZlQjb8v5K4AebN9DwzPcx2Nw-KkkHnmaFGNTES3rktg3738fvbjywjmqltdARFM5sn3knousN1etMY-LinxXMWMW_1uqoM8UdJvYTersSQwNlF-ziIRo8FOKQI7nYcu-tcDHJI9DP2Hpt_REi-_yQsQNisb6wTw5h0Z7OSe3ZFq-k2_psu3zFMD3l204hW6lnw3o5jKPUmAwDaAsyMFc5iQGkUdV0FgQbPwUJ9JoD1jEAhqCpJ5q9gGsYjy_fz_KgqSENchlEKlAFb2LTvT-LPoQRKzk4BAfG1BqKp7Lb98nMo1zYN4QCO_cDLHaz4nr9-TS1rMFC7ZKAGeRDeorea3O7dkeBibBnX4rSG2oAN2_eWtUS9WGqzFZ8lAthzVdoywLrERqdHtFH62OZN6e5Nkz1iLjxs6IPwp2g9FWC3_fqBMUVv2mg9jL75Fe7brGTC7kx0m45NT94q57nHie6rLoVl64RGGQmXeG79gy4qu1Oq9TQvZG8Gw3B3tK7AGHrGEhQb699XpnTdztgny1P-G8-S0mhIFzMZZ9biQl6AFcKCHl6LsEjORlnwTbgnRWvZ6g3g3ujr1qIYoiSBW_2fr6zLUL79wGSJNEAFyo-Bpu7RwonGQgtQrBUfXD4PTc10WVqVXPtm_n33ciyk3OZShsSyMwrd-NuXUHXwS7s2mxRjXoUV1DnydW-bXro5MSRA22KnfqObfQvavY1pjKLPq2WSdur3c1GetlaeXn542kHvWaXIq_8CclshWtzs38H3rP9vBjlFi0T41a0Rg6iUNoanDjteWeIO4i_xHAhBwsqP5syiNmhSuwQpJ3uN6HCYuk16ELaKrsPvQhSVxIes5d8kHvm4gPfk7xAmqqHjUmUzxkMxoWb6EMU_dAqKjTkpmt3WnpucvzTrgrEnp0O8jYRGzZ9SK0bCIPoDSW3BP3qz3CwgIXMLo2IcPkxfxxzKaYqkSmiE09mhA.vB61f6i6cC9jkengYROUvQ&quot;
}
 
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.34">
      <div class="step-ref passed">34</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userToken = signIn.response</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Test a not admin user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.37">
      <div class="step-ref failed">37</div>
      
      <div class="step-cell failed">
        <span>*</span>&nbsp;<span>def testNotAdmin = call read(&#39;TestUserNotAdmin.feature&#39;) userToken</span>
      </div>
    </div>
    <div class="time-cell failed">38297</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37">17:51:10.090 classpath:examples/users/TestUsers.feature:37
* def testNotAdmin = call read(&#39;TestUserNotAdmin.feature&#39;) userToken
ReferenceError: &quot;datas&quot; is not defined
classpath:examples/users/TestUserNotAdmin.feature:87
match failed: NOT_EQUALS
  $ | is equal (STRING:STRING)
  &#39;#notpresent&#39;
  &#39;#notpresent&#39;

classpath:examples/users/TestUserNotAdmin.feature:104
match failed: NOT_EQUALS
  $ | actual path does not exist (STRING:MAP)
  &#39;#notpresent&#39;
  {&quot;id&quot;:&quot;cust4&quot;,&quot;name&quot;:&quot;#ignore&quot;,&quot;surname&quot;:&quot;#ignore&quot;,&quot;photoUrl&quot;:&quot;#ignore&quot;,&quot;userId&quot;:&quot;#ignore&quot;}

classpath:examples/users/TestUserNotAdmin.feature:155
ReferenceError: &quot;customer_inList&quot; is not defined
classpath:examples/users/TestUserNotAdmin.feature:194
classpath:examples/users/TestUsers.feature:37
</div>   

  <div>
        
    <div class="step-row">
      <div class="step-container" id="0.37.0.call">
        <div class="step-ref passed">&gt;&gt;</div>
        <div class="step-indent"></div>
        <div class="step-cell passed">examples.users.TestUserNotAdmin</div>
      </div>
      <div class="time-cell passed">38235</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">6</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.1.6">17:50:31.817 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.1.20">17:50:31.833 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.27">
      <div class="step-ref passed">27</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def customer =</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.37.0.call.1.27">{ 
	&quot;id&quot;: &quot;#(id)&quot;, 
	&quot;name&quot;: &quot;#(name)&quot;, 
	&quot;surname&quot;: &quot;#(surname)&quot;, 
	&quot;photo&quot;: &quot;#(photo)&quot;
}</div>

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.36">
      <div class="step-ref passed">36</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.37">
      <div class="step-ref passed">37</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.39">
      <div class="step-ref passed">39</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(querySave)&#39;,  variables: &#39;#(customer)&#39;  }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.40">
      <div class="step-ref passed">40</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">1980</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.1.40">17:50:31.854 request:
1 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
1 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 265
1 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;photo&quot;:&quot;photo.jpg&quot;,&quot;id&quot;:&quot;cust0&quot;},&quot;query&quot;:&quot;mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\r\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\r\n} &quot;}

17:50:33.831 response time in milliseconds: 1975
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 30
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 19 May 2021 15:50:34 GMT
1 &lt; x-amzn-RequestId: 1c1275d1-b403-4b7f-84a3-b0f664df8479
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: flUHVH97joEFoBQ=
1 &lt; X-Amzn-Trace-Id: Root=1-60a533c8-01bed2e16f820fee081bc0ae;Sampled=0
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 960b47175d6cfc9ed048624de2747035.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: MAD51-C2
1 &lt; X-Amz-Cf-Id: 1KfJEMljxkynRIS8Lb4m_LajBUNaiE1K6sijlTD89HA0kR7EoLom5g==
{&quot;data&quot;:{&quot;SaveCustomer&quot;:true}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.41">
      <div class="step-ref passed">41</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.43">
      <div class="step-ref passed">43</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell passed">4010</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.45">
      <div class="step-ref passed">45</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">2</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.1.47">
      <div class="step-ref passed">47</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">9</div>
  </div>

   
  
  

  

     

  

</div>
</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">6</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.2.6">17:50:31.817 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.2.20">17:50:31.833 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.27">
      <div class="step-ref passed">27</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def customer =</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.37.0.call.2.27">{ 
	&quot;id&quot;: &quot;#(id)&quot;, 
	&quot;name&quot;: &quot;#(name)&quot;, 
	&quot;surname&quot;: &quot;#(surname)&quot;, 
	&quot;photo&quot;: &quot;#(photo)&quot;
}</div>

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.36">
      <div class="step-ref passed">36</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.37">
      <div class="step-ref passed">37</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.39">
      <div class="step-ref passed">39</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(querySave)&#39;,  variables: &#39;#(customer)&#39;  }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.40">
      <div class="step-ref passed">40</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">280</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.2.40">17:50:37.863 request:
2 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
2 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; Content-Length: 265
2 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;photo&quot;:&quot;photo.jpg&quot;,&quot;id&quot;:&quot;cust1&quot;},&quot;query&quot;:&quot;mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\r\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\r\n} &quot;}

17:50:38.140 response time in milliseconds: 276
2 &lt; 200
2 &lt; Content-Type: application/json
2 &lt; Content-Length: 30
2 &lt; Connection: keep-alive
2 &lt; Date: Wed, 19 May 2021 15:50:38 GMT
2 &lt; x-amzn-RequestId: 6e167576-7e20-4bc5-ab93-91f1530a1731
2 &lt; Access-Control-Allow-Origin: *
2 &lt; x-amz-apigw-id: flUIRGRYDoEFupQ=
2 &lt; X-Amzn-Trace-Id: Root=1-60a533ce-347c40796a989b63158d8159;Sampled=0
2 &lt; X-Cache: Miss from cloudfront
2 &lt; Via: 1.1 0250a97a9fe8f37b6e3c4270db2dc8af.cloudfront.net (CloudFront)
2 &lt; X-Amz-Cf-Pop: MAD51-C2
2 &lt; X-Amz-Cf-Id: sGChXFzWVM5V7Dx_JO_8MA_Y1ZI6uiaS2JmCxhAo2V31eHGZ9I2jMA==
{&quot;data&quot;:{&quot;SaveCustomer&quot;:true}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.41">
      <div class="step-ref passed">41</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.43">
      <div class="step-ref passed">43</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell passed">4008</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.45">
      <div class="step-ref passed">45</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.2.47">
      <div class="step-ref passed">47</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">6</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.3.6">17:50:31.817 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.3.20">17:50:31.833 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.27">
      <div class="step-ref passed">27</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def customer =</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.37.0.call.3.27">{ 
	&quot;id&quot;: &quot;#(id)&quot;, 
	&quot;name&quot;: &quot;#(name)&quot;, 
	&quot;surname&quot;: &quot;#(surname)&quot;, 
	&quot;photo&quot;: &quot;#(photo)&quot;
}</div>

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.36">
      <div class="step-ref passed">36</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.37">
      <div class="step-ref passed">37</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.39">
      <div class="step-ref passed">39</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(querySave)&#39;,  variables: &#39;#(customer)&#39;  }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.40">
      <div class="step-ref passed">40</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">328</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.3.40">17:50:42.164 request:
3 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
3 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
3 &gt; Content-Type: application/json; charset=UTF-8
3 &gt; Content-Length: 265
3 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
3 &gt; Connection: Keep-Alive
3 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
3 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;photo&quot;:&quot;photo.jpg&quot;,&quot;id&quot;:&quot;cust2&quot;},&quot;query&quot;:&quot;mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\r\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\r\n} &quot;}

17:50:42.488 response time in milliseconds: 323
3 &lt; 200
3 &lt; Content-Type: application/json
3 &lt; Content-Length: 30
3 &lt; Connection: keep-alive
3 &lt; Date: Wed, 19 May 2021 15:50:42 GMT
3 &lt; x-amzn-RequestId: f958d607-a7b0-4b35-ac20-05eb0d16d0dc
3 &lt; Access-Control-Allow-Origin: *
3 &lt; x-amz-apigw-id: flUI8FBpDoEFyaw=
3 &lt; X-Amzn-Trace-Id: Root=1-60a533d2-141e425547387aba59148045;Sampled=0
3 &lt; X-Cache: Miss from cloudfront
3 &lt; Via: 1.1 c5c852ebeabe49b08625d425153869fe.cloudfront.net (CloudFront)
3 &lt; X-Amz-Cf-Pop: MAD51-C2
3 &lt; X-Amz-Cf-Id: Mysb7QKeNZ44tq8OI4-MA2VDjga49vPRYwUwuAUUJch0ZKPvLXYF5g==
{&quot;data&quot;:{&quot;SaveCustomer&quot;:true}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.41">
      <div class="step-ref passed">41</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.43">
      <div class="step-ref passed">43</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell passed">4009</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.45">
      <div class="step-ref passed">45</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.3.47">
      <div class="step-ref passed">47</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">6</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.4.6">17:50:31.817 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.4.20">17:50:31.833 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.27">
      <div class="step-ref passed">27</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def customer =</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.37.0.call.4.27">{ 
	&quot;id&quot;: &quot;#(id)&quot;, 
	&quot;name&quot;: &quot;#(name)&quot;, 
	&quot;surname&quot;: &quot;#(surname)&quot;, 
	&quot;photo&quot;: &quot;#(photo)&quot;
}</div>

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.36">
      <div class="step-ref passed">36</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.37">
      <div class="step-ref passed">37</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.39">
      <div class="step-ref passed">39</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(querySave)&#39;,  variables: &#39;#(customer)&#39;  }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.40">
      <div class="step-ref passed">40</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">1560</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.4.40">17:50:46.507 request:
4 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
4 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
4 &gt; Content-Type: application/json; charset=UTF-8
4 &gt; Content-Length: 265
4 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
4 &gt; Connection: Keep-Alive
4 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
4 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;photo&quot;:&quot;photo.jpg&quot;,&quot;id&quot;:&quot;cust3&quot;},&quot;query&quot;:&quot;mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\r\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\r\n} &quot;}

17:50:48.064 response time in milliseconds: 1556
4 &lt; 200
4 &lt; Content-Type: application/json
4 &lt; Content-Length: 30
4 &lt; Connection: keep-alive
4 &lt; Date: Wed, 19 May 2021 15:50:48 GMT
4 &lt; x-amzn-RequestId: 0f952208-522a-4a7b-af84-896b030bf868
4 &lt; Access-Control-Allow-Origin: *
4 &lt; x-amz-apigw-id: flUJzFhJDoEFjWA=
4 &lt; X-Amzn-Trace-Id: Root=1-60a533d8-21feed8405a490380fa19344;Sampled=0
4 &lt; X-Cache: Miss from cloudfront
4 &lt; Via: 1.1 c1f1733266ff22358c2c3dd7a5454d9d.cloudfront.net (CloudFront)
4 &lt; X-Amz-Cf-Pop: MAD51-C2
4 &lt; X-Amz-Cf-Id: M4pJluPeNznNyMv_4-AlCacffHkUnrgLvS1OJE_yKRq4zGNPeJMCyQ==
{&quot;data&quot;:{&quot;SaveCustomer&quot;:true}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.41">
      <div class="step-ref passed">41</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.43">
      <div class="step-ref passed">43</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell passed">4014</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.45">
      <div class="step-ref passed">45</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.4.47">
      <div class="step-ref passed">47</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">6</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.5.6">17:50:31.817 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.5.20">17:50:31.833 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.27">
      <div class="step-ref passed">27</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def customer =</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.37.0.call.5.27">{ 
	&quot;id&quot;: &quot;#(id)&quot;, 
	&quot;name&quot;: &quot;#(name)&quot;, 
	&quot;surname&quot;: &quot;#(surname)&quot;, 
	&quot;photo&quot;: &quot;#(photo)&quot;
}</div>

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.36">
      <div class="step-ref passed">36</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.37">
      <div class="step-ref passed">37</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.39">
      <div class="step-ref passed">39</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(querySave)&#39;,  variables: &#39;#(customer)&#39;  }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.40">
      <div class="step-ref passed">40</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">138</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.5.40">17:50:52.090 request:
5 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
5 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
5 &gt; Content-Type: application/json; charset=UTF-8
5 &gt; Content-Length: 265
5 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
5 &gt; Connection: Keep-Alive
5 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
5 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;photo&quot;:&quot;photo.jpg&quot;,&quot;id&quot;:&quot;cust4&quot;},&quot;query&quot;:&quot;mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\r\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\r\n} &quot;}

17:50:52.225 response time in milliseconds: 134
5 &lt; 200
5 &lt; Content-Type: application/json
5 &lt; Content-Length: 30
5 &lt; Connection: keep-alive
5 &lt; Date: Wed, 19 May 2021 15:50:52 GMT
5 &lt; x-amzn-RequestId: ab542aa1-e9c2-4cae-ae55-be5cb155ece3
5 &lt; Access-Control-Allow-Origin: *
5 &lt; x-amz-apigw-id: flUKeHZ2DoEFvQg=
5 &lt; X-Amzn-Trace-Id: Root=1-60a533dc-45c73eb96157c7db2b722299;Sampled=0
5 &lt; X-Cache: Miss from cloudfront
5 &lt; Via: 1.1 dadbd3993b5303886df72c2fdce172ca.cloudfront.net (CloudFront)
5 &lt; X-Amz-Cf-Pop: MAD51-C2
5 &lt; X-Amz-Cf-Id: R7dmFmGNoHW2wzeH10HXSXfOLfWtxuuGlBqxa-W3GhlNnTLQPLcsdA==
{&quot;data&quot;:{&quot;SaveCustomer&quot;:true}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.41">
      <div class="step-ref passed">41</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.43">
      <div class="step-ref passed">43</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell passed">4003</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.45">
      <div class="step-ref passed">45</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.5.47">
      <div class="step-ref passed">47</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.6">17:50:56.231 dynamic expression complete at index: 5, not map-like: [type: NULL, value: null]
17:50:56.236 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.20">17:50:56.238 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># This time, the photoUrl field is empty because it isn&#39;t a mandatory field</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.54">
      <div class="step-ref passed">54</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def new_customerNoPhoto = read(&#39;NewCustomerNoPhoto.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.56">
      <div class="step-ref passed">56</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.57">
      <div class="step-ref passed">57</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.58">
      <div class="step-ref passed">58</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(querySave)&#39;,  variables: &#39;#(new_customerNoPhoto)&#39;}</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.59">
      <div class="step-ref passed">59</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">224</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.59">17:50:56.241 request:
1 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
1 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 284
1 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;surname&quot;:&quot;Customer surname&quot;,&quot;name&quot;:&quot;Customer name&quot;,&quot;photo&quot;:&quot;&quot;,&quot;id&quot;:&quot;23000000nophoto&quot;},&quot;query&quot;:&quot;mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\r\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\r\n} &quot;}

17:50:56.463 response time in milliseconds: 222
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 30
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 19 May 2021 15:50:56 GMT
1 &lt; x-amzn-RequestId: aaf2da83-ff8a-4984-801b-7000c13b7e28
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: flULIFqojoEFmHA=
1 &lt; X-Amzn-Trace-Id: Root=1-60a533e0-3d6a78bd7a9b91ff0ea18373;Sampled=0
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 c5c852ebeabe49b08625d425153869fe.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: MAD51-C2
1 &lt; X-Amz-Cf-Id: mVrfp6HlC_78et-op0GYvopHLjwI9h5Y2adeUlkdH_HzUtgt7ksGyg==
{&quot;data&quot;:{&quot;SaveCustomer&quot;:true}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.60">
      <div class="step-ref passed">60</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Introduce a pause so the user can be saved before the next test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.62">
      <div class="step-ref passed">62</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell passed">4005</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># If the customer is saved, the response shouldn&#39;t contain a field &quot;error&quot;</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.64">
      <div class="step-ref passed">64</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># if the response status is not 200, the test finish</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.66">
      <div class="step-ref passed">66</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.6">17:51:00.477 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.20">17:51:00.479 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># List the customer previously saved by id and check if datas are correct</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Get the id of the customer previously saved without photo</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.73">
      <div class="step-ref passed">73</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def customer_savedNoPhoto = read(&#39;NewCustomerNoPhoto.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.74">
      <div class="step-ref passed">74</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def id =</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.37.0.call.0.74">{
  	    &quot;id&quot;: &quot;#(customer_savedNoPhoto.id)&quot;
  	 }</div>

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.81">
      <div class="step-ref passed">81</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.82">
      <div class="step-ref passed">82</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.83">
      <div class="step-ref passed">83</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(queryCustomerReadModel)&#39;, variables: &#39;#(id)&#39;}</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.84">
      <div class="step-ref passed">84</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">285</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.84">17:51:00.483 request:
1 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
1 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 221
1 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;id&quot;:&quot;23000000nophoto&quot;},&quot;query&quot;:&quot;query CustomerReadModel($id: ID!) {\r\n    CustomerReadModel(id: $id) {\r\n        id\r\n        name\r\n        surname\r\n        photoUrl\r\n        userId\r\n    }\r\n}&quot;}

17:51:00.766 response time in milliseconds: 282
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 154
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 19 May 2021 15:51:01 GMT
1 &lt; x-amzn-RequestId: f9dce9ec-9d55-4b54-a1c1-4dd5834035e3
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: flULzG1XjoEFzzA=
1 &lt; X-Amzn-Trace-Id: Root=1-60a533e5-0afcfbb40f8226672d94c78f;Sampled=0
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 09e594de40cb3eb83a4bc581fa48d9e2.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: MAD51-C2
1 &lt; X-Amz-Cf-Id: ndZjDqEnShdPLAk9DJYy16yiyNYMHc0TDqEU5mr69iNj2uLDr4tDBQ==
{&quot;data&quot;:{&quot;CustomerReadModel&quot;:{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Customer surname&quot;,&quot;name&quot;:&quot;Customer name&quot;,&quot;id&quot;:&quot;23000000nophoto&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;}}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.85">
      <div class="step-ref passed">85</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Check that the datas of the customer are the same as we saved and it has the Id of the user who created it, in this case, the same as it&#39;s signed</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.87">
      <div class="step-ref failed">87</div>
      <div class="step-indent"></div>
      <div class="step-cell failed">
        <span>And</span>&nbsp;<span>match response.data.CustomerReadModel == {id: &#39;#(customer_savedNoPhoto.id)&#39;, name: &#39;#(customer_savedNoPhoto.name)&#39;, surname: &#39;#(customer_savedNoPhoto.surname)&#39;, photoUrl: &#39;#(customer_savedNoPhoto.photo)&#39;, userId: &#39;#(datas.username)&#39; }</span>
      </div>
    </div>
    <div class="time-cell failed">15</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.87">17:51:00.782 classpath:examples/users/TestUserNotAdmin.feature:87
And match response.data.CustomerReadModel == {id: &#39;#(customer_savedNoPhoto.id)&#39;, name: &#39;#(customer_savedNoPhoto.name)&#39;, surname: &#39;#(customer_savedNoPhoto.surname)&#39;, photoUrl: &#39;#(customer_savedNoPhoto.photo)&#39;, userId: &#39;#(datas.username)&#39; }
ReferenceError: &quot;datas&quot; is not defined
classpath:examples/users/TestUserNotAdmin.feature:87
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.88">
      <div class="step-ref skipped">88</div>
      <div class="step-indent"></div>
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.6">17:51:00.801 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.20">17:51:00.805 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Read the user from a json file</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.93">
      <div class="step-ref passed">93</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def NewCustomerIncomplete = read(&#39;NewCustomerIncomplete.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.95">
      <div class="step-ref passed">95</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.96">
      <div class="step-ref passed">96</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.97">
      <div class="step-ref passed">97</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(querySave)&#39;, variables: &#39;#(NewCustomerIncomplete)&#39;}</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.98">
      <div class="step-ref passed">98</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">132</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.98">17:51:00.810 request:
1 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
1 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 265
1 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;surname&quot;:&quot;Customer Incomplete surname&quot;,&quot;id&quot;:&quot;Customer Incomplete&quot;},&quot;query&quot;:&quot;mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\r\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\r\n} &quot;}

17:51:00.939 response time in milliseconds: 129
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 30
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 19 May 2021 15:51:01 GMT
1 &lt; x-amzn-RequestId: aca8ddab-6a31-44f8-8ff6-35616fdd681f
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: flUL1E23DoEF5wg=
1 &lt; X-Amzn-Trace-Id: Root=1-60a533e5-2e2e42067d1ccc330c787e74;Sampled=0
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 fe55d6b634c29e0dbde85630de5f2787.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: MAD51-C2
1 &lt; X-Amz-Cf-Id: zc0bFS_r0vTsKvfqsghM2SS6N_yS_Vwxmpq2s4xcFqfzfKEgHRJ8kw==
{&quot;data&quot;:{&quot;SaveCustomer&quot;:true}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.99">
      <div class="step-ref passed">99</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># if the response status is not 200, the test finish</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.102">
      <div class="step-ref passed">102</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># It should fail, so the response must return an error</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.104">
      <div class="step-ref failed">104</div>
      <div class="step-indent"></div>
      <div class="step-cell failed">
        <span>And</span>&nbsp;<span>match response.errors != &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell failed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.104">17:51:00.943 classpath:examples/users/TestUserNotAdmin.feature:104
And match response.errors != &#39;#notpresent&#39;
match failed: NOT_EQUALS
  $ | is equal (STRING:STRING)
  &#39;#notpresent&#39;
  &#39;#notpresent&#39;

classpath:examples/users/TestUserNotAdmin.feature:104
</div>   

  

</div>
</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.6">17:51:00.950 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.20">17:51:00.952 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># List the customers to select one to delete</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.108">
      <div class="step-ref passed">108</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.109">
      <div class="step-ref passed">109</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.110">
      <div class="step-ref passed">110</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(queryCustReadModels)&#39;}</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.111">
      <div class="step-ref passed">111</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">221</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.111">17:51:00.955 request:
1 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
1 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 167
1 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;query&quot;:&quot;query CustomerReadModels {\r\n    CustomerReadModels {\r\n        id\r\n        name\r\n        surname\r\n        photoUrl\r\n        userId\r\n    }\r\n}&quot;}

17:51:01.173 response time in milliseconds: 217
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 1130
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 19 May 2021 15:51:01 GMT
1 &lt; x-amzn-RequestId: 94961900-07a8-4906-a41c-61082215d47c
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: flUL3GePDoEFSMg=
1 &lt; X-Amzn-Trace-Id: Root=1-60a533e5-496f53bd11bae77d1d60cbda;Sampled=0
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 9809ca806cde9d8f9a57379e55ece5b7.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: MAD51-C2
1 &lt; X-Amz-Cf-Id: n4Rp6BjRPN6K_TLMp6J1_tLBmZHRxbyVq461Dn-vcf9s8HkRfEDuow==
{&quot;data&quot;:{&quot;CustomerReadModels&quot;:[{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust4&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust2&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Customer surname&quot;,&quot;name&quot;:&quot;Customer name&quot;,&quot;id&quot;:&quot;2100000photo&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Customer Incomplete surname&quot;,&quot;name&quot;:null,&quot;id&quot;:&quot;Customer Incomplete&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust0&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Surname Updated again&quot;,&quot;name&quot;:&quot;Name Updated again&quot;,&quot;id&quot;:&quot;2100000CustMod&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Customer surname&quot;,&quot;name&quot;:&quot;Customer name&quot;,&quot;id&quot;:&quot;23000000nophoto&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust1&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Customer3 Surname&quot;,&quot;name&quot;:&quot;Customer3&quot;,&quot;id&quot;:&quot;3&quot;,&quot;userId&quot;:&quot;admin@theagilemonkeys.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust3&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;}]}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.112">
      <div class="step-ref passed">112</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># if the response status is not 200, the test finish</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.115">
      <div class="step-ref passed">115</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Check that the response doesn&#39;t contain a field &quot;error&quot;</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.118">
      <div class="step-ref passed">118</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.119">
      <div class="step-ref passed">119</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>match response.data.CustomerReadModels contains {id: &#39;#ignore&#39;, name: &#39;#ignore&#39;, surname: &#39;#ignore&#39;, photoUrl: &#39;#ignore&#39;, userId: &#39;#ignore&#39; }</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Save the body of the response and get the first to delete</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.122">
      <div class="step-ref passed">122</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def list_customers = response.data.CustomerReadModels</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.123">
      <div class="step-ref passed">123</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def customer_toDelete = list_customers[0]</span>
      </div>
    </div>
    <div class="time-cell passed">4</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment">#### Delete the customer</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.126">
      <div class="step-ref passed">126</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.127">
      <div class="step-ref passed">127</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.128">
      <div class="step-ref passed">128</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(queryDeleteCustomer)&#39;, variables: &#39;#(customer_toDelete)&#39;}</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.129">
      <div class="step-ref passed">129</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">286</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.129">17:51:01.187 request:
2 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
2 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; Content-Length: 204
2 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust4&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},&quot;query&quot;:&quot;mutation DeleteCustomer($id: ID) {\r\n    DeleteCustomer(input: {id: $id})\r\n} \r\n&quot;}

17:51:01.469 response time in milliseconds: 282
2 &lt; 200
2 &lt; Content-Type: application/json
2 &lt; Content-Length: 32
2 &lt; Connection: keep-alive
2 &lt; Date: Wed, 19 May 2021 15:51:01 GMT
2 &lt; x-amzn-RequestId: da934ea1-0804-44e8-8a64-1a2b74cdc392
2 &lt; Access-Control-Allow-Origin: *
2 &lt; x-amz-apigw-id: flUL6FNOjoEFiZw=
2 &lt; X-Amzn-Trace-Id: Root=1-60a533e5-7cdb54a7515ed9114bfd39e8;Sampled=0
2 &lt; X-Cache: Miss from cloudfront
2 &lt; Via: 1.1 02d3291a1ad341b65154c2216e21838b.cloudfront.net (CloudFront)
2 &lt; X-Amz-Cf-Pop: MAD51-C2
2 &lt; X-Amz-Cf-Id: VnaOB_tljJWecNznQbUfoP4YolhvTaW41-Jf0Hkpkl47_eU_QlnouQ==
{&quot;data&quot;:{&quot;DeleteCustomer&quot;:true}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.130">
      <div class="step-ref passed">130</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Introduce a pause so the user can be saved before the next test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.132">
      <div class="step-ref passed">132</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell passed">4005</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># if the response status is not 200, the test finish</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.134">
      <div class="step-ref passed">134</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Check if the delete fails</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.136">
      <div class="step-ref passed">136</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>eval if(response.errors != &#39;#notpresent&#39;) karate.log(&quot;CUSTOMER NOT DELETED&quot;)</span>
      </div>
    </div>
    <div class="time-cell passed">5</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.136">17:51:05.481 CUSTOMER NOT DELETED 
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment">#### Check that the customer has been deleted consulting by the id</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.139">
      <div class="step-ref passed">139</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def id =</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.37.0.call.0.139">{ 
   &quot;id&quot;: &quot;#(customer_toDelete.id)&quot;
}</div>

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.145">
      <div class="step-ref passed">145</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.146">
      <div class="step-ref passed">146</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.147">
      <div class="step-ref passed">147</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(queryCustReadModel)&#39;, variables: &#39;#(id)&#39;}</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.148">
      <div class="step-ref passed">148</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">121</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.148">17:51:05.484 request:
3 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
3 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
3 &gt; Content-Type: application/json; charset=UTF-8
3 &gt; Content-Length: 60
3 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
3 &gt; Connection: Keep-Alive
3 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
3 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;id&quot;:&quot;cust4&quot;},&quot;query&quot;:&quot;#(queryCustReadModel)&quot;}

17:51:05.602 response time in milliseconds: 118
3 &lt; 200
3 &lt; Content-Type: application/json
3 &lt; Content-Length: 58
3 &lt; Connection: keep-alive
3 &lt; Date: Wed, 19 May 2021 15:51:06 GMT
3 &lt; x-amzn-RequestId: 812cfbc3-45db-4132-988a-78dbe8e0fa3e
3 &lt; Access-Control-Allow-Origin: *
3 &lt; x-amz-apigw-id: flUMkGuODoEFSMg=
3 &lt; X-Amzn-Trace-Id: Root=1-60a533e9-2097d79f201474a67688e654;Sampled=0
3 &lt; X-Cache: Miss from cloudfront
3 &lt; Via: 1.1 71a0472adc0e71a3b21b29ba3bec35f2.cloudfront.net (CloudFront)
3 &lt; X-Amz-Cf-Pop: MAD51-C2
3 &lt; X-Amz-Cf-Id: AVgF9l4plwR8f8zukJo3JsquDGEeXUI6A9D2SQGJRuqCvuH7GC6sRA==
{&quot;errors&quot;:[{&quot;message&quot;:&quot;Syntax Error: Unexpected &lt;EOF&gt;.&quot;}]}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.149">
      <div class="step-ref passed">149</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># if the response status is not 200, the test finish</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.152">
      <div class="step-ref passed">152</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># The response shouldn&#39;t return any data</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.155">
      <div class="step-ref failed">155</div>
      <div class="step-indent"></div>
      <div class="step-cell failed">
        <span>And</span>&nbsp;<span>match response.data.CustomerReadModel != {id: &#39;#(customer_toDelete.id)&#39;, name: &#39;#ignore&#39;, surname: &#39;#ignore&#39;, photoUrl: &#39;#ignore&#39;, userId: &#39;#ignore&#39; }</span>
      </div>
    </div>
    <div class="time-cell failed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.155">17:51:05.606 classpath:examples/users/TestUserNotAdmin.feature:155
And match response.data.CustomerReadModel != {id: &#39;#(customer_toDelete.id)&#39;, name: &#39;#ignore&#39;, surname: &#39;#ignore&#39;, photoUrl: &#39;#ignore&#39;, userId: &#39;#ignore&#39; }
match failed: NOT_EQUALS
  $ | actual path does not exist (STRING:MAP)
  &#39;#notpresent&#39;
  {&quot;id&quot;:&quot;cust4&quot;,&quot;name&quot;:&quot;#ignore&quot;,&quot;surname&quot;:&quot;#ignore&quot;,&quot;photoUrl&quot;:&quot;#ignore&quot;,&quot;userId&quot;:&quot;#ignore&quot;}

classpath:examples/users/TestUserNotAdmin.feature:155
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.156">
      <div class="step-ref skipped">156</div>
      <div class="step-indent"></div>
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
    </div>
    <div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.6">
      <div class="step-ref passed">6</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.6">17:51:05.614 over-writing existing variable &#39;wait&#39; with new value: function(pause){ java.lang.Thread.sleep(pause) }
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define a function to generate customers</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.9">
      <div class="step-ref passed">9</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def generatorCust = function(i){ if (i == 5) return null; return { id: &#39;cust&#39; + i, name: &#39;name&#39;, surname: &#39;surname&#39;, photo: &#39;photo.jpg&#39; } }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.11">
      <div class="step-ref passed">11</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the graphql queries for using them in several scenarios</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.14">
      <div class="step-ref passed">14</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySave = read(&#39;SaveCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.15">
      <div class="step-ref passed">15</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustomerReadModel = read(&#39;CustomerReadModel.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.16">
      <div class="step-ref passed">16</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryCustReadModels = read(&#39;CustomerReadModels.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.17">
      <div class="step-ref passed">17</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def queryDeleteCustomer =  read(&#39;DeleteCustomer.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Define the user logged</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.20">
      <div class="step-ref passed">20</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def userDatas = read(&#39;signinDatasUserNoAdmin.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.20">17:51:05.616 over-writing existing variable &#39;userDatas&#39; with new value: read(&#39;signinDatasUserNoAdmin.json&#39;)
</div>   

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Modify a customer created by the admin user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.161">
      <div class="step-ref passed">161</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def customerToModify = read(&#39;newCustomerToModify.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Update the name and the surname</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.164">
      <div class="step-ref passed">164</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>set customerToModify.name = &quot;Name Updated again&quot;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.165">
      <div class="step-ref passed">165</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>set customerToModify.surname = &quot;Surname Updated again&quot;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment">#* set customerToModify.photoUrl = &quot;photoUpdated.jpg&quot;</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.168">
      <div class="step-ref passed">168</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.169">
      <div class="step-ref passed">169</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.170">
      <div class="step-ref passed">170</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(querySave)&#39;, variables: &#39;#(customerToModify)&#39;}</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.171">
      <div class="step-ref passed">171</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">263</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.171">17:51:05.623 request:
1 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
1 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
1 &gt; Content-Type: application/json; charset=UTF-8
1 &gt; Content-Length: 302
1 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
1 &gt; Connection: Keep-Alive
1 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
1 &gt; Accept-Encoding: gzip,deflate
{&quot;variables&quot;:{&quot;surname&quot;:&quot;Surname Updated again&quot;,&quot;name&quot;:&quot;Name Updated again&quot;,&quot;photo&quot;:&quot;photo.jpg&quot;,&quot;id&quot;:&quot;2100000CustMod&quot;},&quot;query&quot;:&quot;mutation SaveCustomer($id: ID, $name: String, $surname: String, $photo: String) {\r\n    SaveCustomer(input: {id: $id, name: $name, surname: $surname, photo: $photo})\r\n} &quot;}

17:51:05.883 response time in milliseconds: 260
1 &lt; 200
1 &lt; Content-Type: application/json
1 &lt; Content-Length: 30
1 &lt; Connection: keep-alive
1 &lt; Date: Wed, 19 May 2021 15:51:06 GMT
1 &lt; x-amzn-RequestId: 63fc0446-c825-4bdb-a1e7-13a0b0557b71
1 &lt; Access-Control-Allow-Origin: *
1 &lt; x-amz-apigw-id: flUMmFpUDoEF4RQ=
1 &lt; X-Amzn-Trace-Id: Root=1-60a533ea-0a9489fb451b834d5982a907;Sampled=0
1 &lt; X-Cache: Miss from cloudfront
1 &lt; Via: 1.1 56eff4217adb539e7a42fbab3eee2d4d.cloudfront.net (CloudFront)
1 &lt; X-Amz-Cf-Pop: MAD51-C2
1 &lt; X-Amz-Cf-Id: 6TbZHrcrFpA4FgoW3e7VyuSi77ng8WnhII4pjMuTQY8A0rxBjp4Z0Q==
{&quot;data&quot;:{&quot;SaveCustomer&quot;:true}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.172">
      <div class="step-ref passed">172</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Introduce a pause so the user can be saved before the next test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.174">
      <div class="step-ref passed">174</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell passed">4014</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># if the response status is not 200, the test finish</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.177">
      <div class="step-ref passed">177</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Check if the response contains any error</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.180">
      <div class="step-ref passed">180</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment">### Check that the update was fine and the customer has the id of the last user who updated it</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.183">
      <div class="step-ref passed">183</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.184">
      <div class="step-ref passed">184</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>header Authorization = userToken.tokenType + &#39; &#39; + userToken.idToken</span>
      </div>
    </div>
    <div class="time-cell passed">7</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.185">
      <div class="step-ref passed">185</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>And</span>&nbsp;<span>request { query: &#39;#(queryCustReadModels)&#39;}</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.186">
      <div class="step-ref passed">186</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell passed">174</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.186">17:51:09.909 request:
2 &gt; POST https://pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com/test-qa-estrella-prod/graphql
2 &gt; Authorization: Bearer eyJraWQiOiJHa3NQT29DVkd3b2NMV0ROZ0tvNVE0R3ViRFNUV0xNeDhHYVJmSFZcL0U3QT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1MzFjNDUxNi1kNGI2LTRiMTYtYmQ0NC1lOWQyNmVkNmRkODgiLCJhdWQiOiI3OTlob2d1Y20zNjN2NTVsN2RrMm4xbDV1MCIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJldmVudF9pZCI6ImMwODk2YjFhLWRkYzEtNDBjNy1iZTkxLTBjMWNjYjUzNGVkMiIsInRva2VuX3VzZSI6ImlkIiwiYXV0aF90aW1lIjoxNjIxNDM5NDMyLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuZXUtd2VzdC0xLmFtYXpvbmF3cy5jb21cL2V1LXdlc3QtMV9tSHVlQXIyUXUiLCJjb2duaXRvOnVzZXJuYW1lIjoiNTMxYzQ1MTYtZDRiNi00YjE2LWJkNDQtZTlkMjZlZDZkZDg4IiwiZXhwIjoxNjIxNDQzMDMyLCJjdXN0b206cm9sZSI6InVzZXIiLCJpYXQiOjE2MjE0Mzk0MzIsImVtYWlsIjoidXNlck5vdEFkbWluQHRlc3QuY29tIn0.d6tF0XwVhzlIqcaffQi5fmD0Wv0Td8HRPB0c-mNb8fQSQfd9Mdp0DjQpUUaBL0Ky6iqhc3kKT39Hhe0CUNBH0WQykbMMP3dF8y7Pco8OXJ8a8rhG6PGH4P4z-r9Xx4dPEf14jSLllswPrhkfihyJNFnPyRsiq6WZAIVS69aSwLQsd6u_HS2ixaBXhR5ItouPGksIG_9IBh-OHY6T3kyB9XdRUsikP3_Ej7as5axKuyImWiQUZYnfnOF_y8ipiNJzbxG_FU8GpIsk_uGfPYcomg_QgSYZhZcvV0s9bAGN4sZSM8He11RP_ZaJVAwg7nex80QVPWmMBAN2h6XwIJPikg
2 &gt; Content-Type: application/json; charset=UTF-8
2 &gt; Content-Length: 167
2 &gt; Host: pnbbxqm2y9.execute-api.eu-west-1.amazonaws.com
2 &gt; Connection: Keep-Alive
2 &gt; User-Agent: Apache-HttpClient/4.5.13 (Java/16.0.1)
2 &gt; Accept-Encoding: gzip,deflate
{&quot;query&quot;:&quot;query CustomerReadModels {\r\n    CustomerReadModels {\r\n        id\r\n        name\r\n        surname\r\n        photoUrl\r\n        userId\r\n    }\r\n}&quot;}

17:51:10.080 response time in milliseconds: 169
2 &lt; 200
2 &lt; Content-Type: application/json
2 &lt; Content-Length: 1034
2 &lt; Connection: keep-alive
2 &lt; Date: Wed, 19 May 2021 15:51:10 GMT
2 &lt; x-amzn-RequestId: 8104c18a-515f-44b3-8fe0-ccc8b7254134
2 &lt; Access-Control-Allow-Origin: *
2 &lt; x-amz-apigw-id: flUNRG7UjoEFuXw=
2 &lt; X-Amzn-Trace-Id: Root=1-60a533ee-798ef9022448b7663b1d4603;Sampled=0
2 &lt; X-Cache: Miss from cloudfront
2 &lt; Via: 1.1 b48ff99ee80d859d9aeaafd9cb93df6f.cloudfront.net (CloudFront)
2 &lt; X-Amz-Cf-Pop: MAD51-C2
2 &lt; X-Amz-Cf-Id: l1YIaOt_jonGmaAoYjLtzFzQ6KxULfK7fctbRUfVEDJF7BSIctrqwQ==
{&quot;data&quot;:{&quot;CustomerReadModels&quot;:[{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust2&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Customer surname&quot;,&quot;name&quot;:&quot;Customer name&quot;,&quot;id&quot;:&quot;2100000photo&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Customer Incomplete surname&quot;,&quot;name&quot;:null,&quot;id&quot;:&quot;Customer Incomplete&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust0&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Surname Updated again&quot;,&quot;name&quot;:&quot;Name Updated again&quot;,&quot;id&quot;:&quot;2100000CustMod&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Customer surname&quot;,&quot;name&quot;:&quot;Customer name&quot;,&quot;id&quot;:&quot;23000000nophoto&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust1&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;Customer3 Surname&quot;,&quot;name&quot;:&quot;Customer3&quot;,&quot;id&quot;:&quot;3&quot;,&quot;userId&quot;:&quot;admin@theagilemonkeys.com&quot;},{&quot;photoUrl&quot;:&quot;&quot;,&quot;surname&quot;:&quot;surname&quot;,&quot;name&quot;:&quot;name&quot;,&quot;id&quot;:&quot;cust3&quot;,&quot;userId&quot;:&quot;userNotAdmin@test.com&quot;}]}}
</div>   

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.187">
      <div class="step-ref passed">187</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># if the response status is not 200, the test finish</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.190">
      <div class="step-ref passed">190</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container">
      <div class="step-ref passed"></div>
      <div class="step-indent"></div>
      <div class="step-cell comment"># Check that the response doesn&#39;t contains a field &quot;error&quot;</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.193">
      <div class="step-ref passed">193</div>
      <div class="step-indent"></div>
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
      <div><div>
  

  

  <div class="step-row" data-parent="0.37.0.call">
    <div class="step-container" id="0.37.0.call.0.194">
      <div class="step-ref failed">194</div>
      <div class="step-indent"></div>
      <div class="step-cell failed">
        <span>*</span>&nbsp;<span>match response.data.CustomerReadModels contains {id: &#39;#(customerToModify.id)&#39;, name: &#39;#(customerToModify.name)&#39;, surname: &#39;#(customerToModify.surname)&#39;, photoUrl: &#39;#(customer_inList.photoUrl)&#39;, userId: &#39;#(datas.username)&#39; }</span>
      </div>
    </div>
    <div class="time-cell failed">7</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.37.0.call.0.194">17:51:10.090 classpath:examples/users/TestUserNotAdmin.feature:194
* match response.data.CustomerReadModels contains {id: &#39;#(customerToModify.id)&#39;, name: &#39;#(customerToModify.name)&#39;, surname: &#39;#(customerToModify.surname)&#39;, photoUrl: &#39;#(customer_inList.photoUrl)&#39;, userId: &#39;#(datas.username)&#39; }
ReferenceError: &quot;customer_inList&quot; is not defined
classpath:examples/users/TestUserNotAdmin.feature:194
</div>   

  

</div>
</div>
    </div>    
  </div>

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.38">
      <div class="step-ref skipped">38</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
        <div class="scenario">
          <div class="scenario-heading" id="[3:40]">
            <div class="heading-container">
              <div class="scenario-tags">
                
              </div>
              <div class="scenario-keyword">
                Scenario: <span>[3:40]</span>
                <span class="scenario-name">Test at the same time the creation of a new user and that the API met the acceptance criteria for him</span>
                <span></span>
              </div>
            </div>
            <div class="scenario-time failed">
              <span>ms:</span>&nbsp;<span>3</span>
            </div>
          </div>
          <div class="step-row">
            <div class="step-container" id="[3:40]bg">
              <div class="step-ref bg-step">&gt;&gt;</div>
              <div class="step-cell passed">Background:</div>
            </div>
            <div class="time-cell passed"></div>
          </div>
          <div data-parent="[3:40]bg"><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Define a function to introduce a sleep in the test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.6">
      <div class="step-ref bg-step">6</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def wait = function(pause){ java.lang.Thread.sleep(pause) }</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.6">17:51:10.103 karate.env system property was: prod 
</div>   

  

</div>
</div>
          <div data-parent="[3:40]bg"><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.8">
      <div class="step-ref bg-step">8</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>url httpUrl</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># The user admin save a new user who will be sign in the API to get a token and test the queries and mutations not allowed to him</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.43">
      <div class="step-ref passed">43</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def querySaveUser = read(&#39;SaveUser.graphql&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># JSON file with the new user&#39;s datas</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.45">
      <div class="step-ref passed">45</div>
      
      <div class="step-cell passed">
        <span>*</span>&nbsp;<span>def NewUser = read(&#39;UserToChange.json&#39;)</span>
      </div>
    </div>
    <div class="time-cell passed">1</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.47">
      <div class="step-ref passed">47</div>
      
      <div class="step-cell passed">
        <span>Given</span>&nbsp;<span>path &#39;graphql&#39;</span>
      </div>
    </div>
    <div class="time-cell passed">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.48">
      <div class="step-ref failed">48</div>
      
      <div class="step-cell failed">
        <span>And</span>&nbsp;<span>header Authorization = signIn.response.tokenType + &#39; &#39; + signIn.response.idToken</span>
      </div>
    </div>
    <div class="time-cell failed">1</div>
  </div>

   
  
  

  

  <div class="preformatted" data-parent="0.48">17:51:10.107 classpath:examples/users/TestUsers.feature:48
And header Authorization = signIn.response.tokenType + &#39; &#39; + signIn.response.idToken
&gt;&gt;&gt;&gt; js failed:
01: signIn.response.tokenType + &#39; &#39; + signIn.response.idToken
&lt;&lt;&lt;&lt;
org.graalvm.polyglot.PolyglotException: ReferenceError: &quot;signIn&quot; is not defined
- &lt;js&gt;.:program(Unnamed:1)

classpath:examples/users/TestUsers.feature:48
</div>   

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.49">
      <div class="step-ref skipped">49</div>
      
      <div class="step-cell skipped">
        <span>And</span>&nbsp;<span>request { query: &#39;#(querySaveUser)&#39;,  variables: &#39;#(NewUser)&#39;}</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.50">
      <div class="step-ref skipped">50</div>
      
      <div class="step-cell skipped">
        <span>When</span>&nbsp;<span>method post</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.51">
      <div class="step-ref skipped">51</div>
      
      <div class="step-cell skipped">
        <span>Then</span>&nbsp;<span>status 200</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Introduce a pause so the user can be saved before the next test</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.54">
      <div class="step-ref skipped">54</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>wait(4000)</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># if the response status is not 200, the test finish</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.56">
      <div class="step-ref skipped">56</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># if the user can&#39;t be created, the response contains a field &quot;error&quot;</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.58">
      <div class="step-ref skipped">58</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># The new user need to obtain a token</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.61">
      <div class="step-ref skipped">61</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def clientId = adminDatas.clientId</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.62">
      <div class="step-ref skipped">62</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def username = NewUser.username</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.63">
      <div class="step-ref skipped">63</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def password = NewUser.password</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.64">
      <div class="step-ref skipped">64</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def newSignUser =</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  <div class="preformatted" data-parent="0.64">{
  &quot;clientId&quot;: &quot;#(clientId)&quot;,
 &quot;username&quot;: &quot;#(username)&quot;,
 &quot;password&quot;: &quot;#(password)&quot;
}</div>

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.72">
      <div class="step-ref skipped">72</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def newSignIn = call read(&#39;signin.feature&#39;) newSignUser</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.73">
      <div class="step-ref skipped">73</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def newToken = newSignIn.response</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># Call the feature to test the API with the queries not allowed for a not admin user</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.77">
      <div class="step-ref skipped">77</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>def newUserTest = call read(&#39;TestUserNoAdminCannotDo.feature&#39;) newToken</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  

  <div class="step-row">
    <div class="step-container" id="0.79">
      <div class="step-ref skipped">79</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>if (responseStatus != 200) karate.abort()</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
          <div><div>
  

  <div class="step-row">
    <div class="step-container">
      <div class="step-ref passed"></div>
      
      <div class="step-cell comment"># if the user can&#39;t be created, the response contains a field &quot;error&quot;</div>
    </div>
    <div class="time-cell comment"></div>            
  </div>

  <div class="step-row">
    <div class="step-container" id="0.81">
      <div class="step-ref skipped">81</div>
      
      <div class="step-cell skipped">
        <span>*</span>&nbsp;<span>match response.errors == &#39;#notpresent&#39;</span>
      </div>
    </div>
    <div class="time-cell skipped">0</div>
  </div>

   
  
  

  

     

  

</div>
</div>
        </div>
      </div>
    </div>
  </body>
</html>

